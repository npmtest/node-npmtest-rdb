{"/home/travis/build/npmtest/node-npmtest-rdb/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_rdb */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-rdb/lib.npmtest_rdb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/lib.npmtest_rdb.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":48}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":54}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_rdb */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_rdb = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_rdb = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-rdb/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":47}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":61},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-rdb && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_rdb */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_rdb","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_rdb.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_rdb.rollup.js'] =","            local.assetsDict['/assets.npmtest_rdb.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_rdb.__dirname + '/lib.npmtest_rdb.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/index.js","s":{"1":4,"2":4,"3":0,"4":0,"5":0,"6":4,"7":4,"8":4,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":21},"end":{"line":3,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":2}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":53}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":53}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":37}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":26}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":56}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":42}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":49}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":50}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":54}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":44}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":59}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":42}},"16":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}},"17":{"start":{"line":20,"column":0},"end":{"line":20,"column":32}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]},"2":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":5},"end":{"line":4,"column":29}},{"start":{"line":4,"column":33},"end":{"line":4,"column":72}}]}},"code":["var newPg = require('./pg/newDatabase');","","var connectViaPool = function(connectionString, poolOptions) {","\tif (connectionString.indexOf && connectionString.indexOf('mysql') === 0)","\t\treturn connectViaPool.mySql.apply(null, arguments);","\treturn newPg.apply(null, arguments);","};","","connectViaPool.pg = newPg;","connectViaPool.mySql = require('./mySql/newDatabase');","connectViaPool.sqlite = require('./sqlite/newDatabase');","connectViaPool.table = require('./table');","connectViaPool.filter = require('./emptyFilter');","connectViaPool.commit = require('./table/commit');","connectViaPool.rollback = require('./table/rollback');","connectViaPool.end = require('./pools').end;","connectViaPool.log = require('./table/log').registerLogger;","connectViaPool.query = require('./query');","connectViaPool.lock = require('./lock');","module.exports = connectViaPool;",""],"l":{"1":4,"3":4,"4":0,"5":0,"6":0,"9":4,"10":4,"11":4,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newDatabase.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newDatabase.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"newDatabase","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":31}}},"3":{"name":"onRun","line":19,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":23}}},"5":{"name":"(anonymous_5)","line":34,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":30}},"9":{"start":{"line":10,"column":0},"end":{"line":39,"column":1}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":54}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":15}},"12":{"start":{"line":14,"column":4},"end":{"line":24,"column":6}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":36}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":33}},"15":{"start":{"line":19,"column":8},"end":{"line":23,"column":9}},"16":{"start":{"line":20,"column":12},"end":{"line":20,"column":59}},"17":{"start":{"line":21,"column":12},"end":{"line":21,"column":53}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":21}},"19":{"start":{"line":26,"column":4},"end":{"line":26,"column":26}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":22}},"21":{"start":{"line":28,"column":4},"end":{"line":28,"column":18}},"22":{"start":{"line":30,"column":4},"end":{"line":32,"column":6}},"23":{"start":{"line":31,"column":8},"end":{"line":31,"column":26}},"24":{"start":{"line":34,"column":4},"end":{"line":36,"column":6}},"25":{"start":{"line":35,"column":8},"end":{"line":35,"column":25}},"26":{"start":{"line":38,"column":4},"end":{"line":38,"column":13}},"27":{"start":{"line":41,"column":0},"end":{"line":41,"column":29}}},"branchMap":{},"code":["var createDomain = require('../createDomain');","var newTransaction = require('./newTransaction');","var promise = require('../table/promise');","var begin = require('../table/begin');","var commit = require('../table/commit');","var rollback = require('../table/rollback');","var newPool = require('./newPool');","var lock = require('../lock');","","function newDatabase(connectionString, poolOptions) {","    var pool = newPool(connectionString, poolOptions);","    var c = {};","","    c.transaction = function() {","        var domain = createDomain();","","        return domain.run(onRun);","","        function onRun() {","            var transaction = newTransaction(domain, pool);","            var p = promise(transaction).then(begin);","            return p;","        }","    };","","    c.rollback = rollback;","    c.commit = commit;","    c.lock = lock;","","    c.end = function() {","        return pool.end();","    };","","    c.accept = function(caller) {","        caller.visitPg();","    };","","    return c;","}","","module.exports = newDatabase;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"11":0,"12":0,"14":0,"15":0,"17":0,"19":1,"20":0,"21":0,"22":0,"26":0,"27":0,"28":0,"30":0,"31":0,"34":0,"35":0,"38":0,"41":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"createDomain","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":23},"end":{"line":8,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":82}},"3":{"start":{"line":4,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":30}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":59}},"7":{"start":{"line":8,"column":1},"end":{"line":10,"column":4}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":56}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":15}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"branchMap":{"1":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":17},"end":{"line":5,"column":30}},{"start":{"line":5,"column":34},"end":{"line":5,"column":36}}]}},"code":["var Domain = require('domain');","var negotiateForwardProperty = require('./createDomain/negotiateForwardProperty');","","function createDomain() {","\tvar oldDomain = Domain.active || {};","\tvar domain = Domain.create();","\tvar ownProperties = Object.getOwnPropertyNames(oldDomain);","\townProperties.forEach(function(propName) {","\t\tnegotiateForwardProperty(oldDomain, domain, propName);","\t});","\treturn domain;","}","","module.exports = createDomain;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardProperty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardProperty.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":1,"11":0,"12":0,"13":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"negotiateForwardProperty","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":70}}},"2":{"name":"createGetter","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":19}}},"4":{"name":"createSetter","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":43}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":9,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":36}},"3":{"start":{"line":2,"column":29},"end":{"line":2,"column":36}},"4":{"start":{"line":3,"column":1},"end":{"line":3,"column":36}},"5":{"start":{"line":3,"column":29},"end":{"line":3,"column":36}},"6":{"start":{"line":4,"column":1},"end":{"line":8,"column":4}},"7":{"start":{"line":11,"column":0},"end":{"line":15,"column":1}},"8":{"start":{"line":12,"column":1},"end":{"line":14,"column":3}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":29}},"10":{"start":{"line":17,"column":0},"end":{"line":21,"column":1}},"11":{"start":{"line":18,"column":1},"end":{"line":20,"column":3}},"12":{"start":{"line":19,"column":2},"end":{"line":19,"column":30}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":42}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},{"start":{"line":3,"column":1},"end":{"line":3,"column":1}}]}},"code":["function negotiateForwardProperty(oldDomain, newDomain, propertyName) {","\tif(newDomain[propertyName]) return;","\tif (propertyName === 'rdb') return;","\tObject.defineProperty(newDomain, propertyName, {","\t\tenumerable: true,","\t\tget: createGetter(oldDomain, propertyName),","\t\tset: createSetter(oldDomain, propertyName)","\t});","}","","function createGetter(oldDomain, propName) {","\treturn function() {","\t\treturn oldDomain[propName];","\t};","}","","function createSetter(oldDomain, propName) {","\treturn function(value) {","\t\toldDomain[propName] = value;","\t};","}","","module.exports = negotiateForwardProperty;"],"l":{"1":1,"2":0,"3":0,"4":0,"11":1,"12":0,"13":0,"17":1,"18":0,"19":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newTransaction.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newTransaction.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newResolveTransaction","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":45}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":11},"end":{"line":10,"column":40}}},"3":{"name":"onConnected","line":13,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":47}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"7":{"start":{"line":8,"column":0},"end":{"line":32,"column":1}},"8":{"start":{"line":10,"column":4},"end":{"line":31,"column":6}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":34}},"10":{"start":{"line":13,"column":8},"end":{"line":30,"column":9}},"11":{"start":{"line":14,"column":12},"end":{"line":17,"column":13}},"12":{"start":{"line":15,"column":16},"end":{"line":15,"column":29}},"13":{"start":{"line":16,"column":16},"end":{"line":16,"column":23}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":25}},"15":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"16":{"start":{"line":20,"column":12},"end":{"line":20,"column":57}},"17":{"start":{"line":21,"column":12},"end":{"line":21,"column":34}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":36}},"19":{"start":{"line":23,"column":12},"end":{"line":23,"column":46}},"20":{"start":{"line":24,"column":12},"end":{"line":24,"column":40}},"21":{"start":{"line":25,"column":12},"end":{"line":25,"column":46}},"22":{"start":{"line":26,"column":12},"end":{"line":26,"column":56}},"23":{"start":{"line":27,"column":12},"end":{"line":27,"column":42}},"24":{"start":{"line":28,"column":12},"end":{"line":28,"column":29}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":24}},"26":{"start":{"line":34,"column":0},"end":{"line":34,"column":39}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":12}},{"start":{"line":14,"column":12},"end":{"line":14,"column":12}}]}},"code":["var wrapQuery = require('./wrapQuery');","var wrapQueryStream = require('./wrapQueryStream');","var encodeDate = require('./encodeDate');","var encodeBoolean = require('./encodeBoolean');","var deleteFromSql = require('./deleteFromSql');","var selectForUpdateSql = require('./selectForUpdateSql');","","function newResolveTransaction(domain, pool) {","","    return function(onSuccess, onError) {","        pool.connect(onConnected);","","        function onConnected(err, client, done) {","            if (err) {","                onError(err);","                return;","            }","            var rdb = {};","            client.executeQuery = wrapQuery(client);            ","            client.streamQuery = wrapQueryStream(client);            ","            rdb.dbClient = client;","            rdb.dbClientDone = done;","            rdb.encodeBoolean = encodeBoolean;","            rdb.encodeDate = encodeDate;","            rdb.deleteFromSql = deleteFromSql;","            rdb.selectForUpdateSql = selectForUpdateSql;","            rdb.multipleStatements = true;","            domain.rdb = rdb;    ","            onSuccess();","        }","    };","}","","module.exports = newResolveTransaction;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"10":0,"11":0,"13":1,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQuery.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"wrapQuery","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}}},"2":{"name":"runQuery","line":8,"loc":{"start":{"line":8,"column":1},"end":{"line":8,"column":39}}},"3":{"name":"onInnerCompleted","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":4,"column":0},"end":{"line":24,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"6":{"start":{"line":8,"column":1},"end":{"line":22,"column":2}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":32}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":44}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":11}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":31}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":67}},"12":{"start":{"line":16,"column":2},"end":{"line":21,"column":3}},"13":{"start":{"line":17,"column":3},"end":{"line":20,"column":35}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":21}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":35}},"16":{"start":{"line":26,"column":0},"end":{"line":26,"column":27}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":3},"end":{"line":17,"column":3}},{"start":{"line":17,"column":3},"end":{"line":17,"column":3}}]}},"code":["var log = require('../table/log');","var replaceParamChar = require('./replaceParamChar');","","function wrapQuery(connection) {","\tvar runOriginalQuery = connection.query;","\treturn runQuery;","","\tfunction runQuery(query, onCompleted) {","\t\tvar params = query.parameters;","\t\tvar sql = replaceParamChar(query, params);","\t\tlog(sql);","\t\tlog('parameters: ' + params);","","\t\trunOriginalQuery.call(connection, sql, params, onInnerCompleted);","","\t\tfunction onInnerCompleted(err, result) {","\t\t\tif (err) ","\t\t\t\tonCompleted(err);","\t\t\telse","\t\t\t\tonCompleted(null, result.rows);","\t\t}","\t}","","}","","module.exports = wrapQuery;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":1,"9":0,"10":0,"11":0,"12":0,"14":0,"16":1,"17":0,"18":0,"20":0,"26":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/log.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/log.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":13},"end":{"line":1,"column":24}}},"2":{"name":"log","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":21},"end":{"line":8,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":2,"column":2}},"2":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"4":{"start":{"line":8,"column":0},"end":{"line":10,"column":2}},"5":{"start":{"line":9,"column":1},"end":{"line":9,"column":13}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var logger = function() {","};","","function log() {","\tlogger.apply(null, arguments);","}","","log.registerLogger = function(cb) {","\tlogger = cb;","};","","module.exports = log;"],"l":{"1":1,"4":1,"5":0,"8":1,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamChar.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamChar.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"replaceParamChar","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":12,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":3,"column":27}},"3":{"start":{"line":3,"column":8},"end":{"line":3,"column":27}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":42}},"5":{"start":{"line":5,"column":4},"end":{"line":5,"column":17}},"6":{"start":{"line":6,"column":4},"end":{"line":6,"column":40}},"7":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"8":{"start":{"line":8,"column":8},"end":{"line":8,"column":43}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":31}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":15}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":34}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":4},"end":{"line":2,"column":4}},{"start":{"line":2,"column":4},"end":{"line":2,"column":4}}]}},"code":["function replaceParamChar(query, params) {","    if (params.length === 0)","        return query.sql();","    var splitted = query.sql().split('?');","    var sql = '';","    var lastIndex = splitted.length - 1;","    for (var i = 0; i < lastIndex; i++) {","        sql += splitted[i] + '$' + (i + 1);","    }","    sql += splitted[lastIndex];","    return sql;","}","","module.exports = replaceParamChar;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQueryStream.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQueryStream.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"wrapQueryStream","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}}},"2":{"name":"runQuery","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"4":{"start":{"line":5,"column":0},"end":{"line":19,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":41}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":17,"column":2}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":32}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":44}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":11}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":31}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":51}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":50}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":33}}},"branchMap":{},"code":["var log = require('../table/log');","var replaceParamChar = require('./replaceParamChar');","var newStreamableQuery = require('./newStreamableQuery');","","function wrapQueryStream(connection) {","\tvar runOriginalQuery = connection.query;","\treturn runQuery;","","\tfunction runQuery(query, options) {","\t\tvar params = query.parameters;","\t\tvar sql = replaceParamChar(query, params);","\t\tlog(sql);","\t\tlog('parameters: ' + params);","\t\tquery = newStreamableQuery(sql, params, options);","","\t\treturn runOriginalQuery.call(connection, query);","\t}","","}","","module.exports = wrapQueryStream;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newStreamableQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newStreamableQuery.js","s":{"1":1,"2":1,"3":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":37}}},"branchMap":{},"code":["var QueryStream = require('pg-query-stream');","","module.exports = function (sql, params) {","\treturn new QueryStream(sql, params);","}"],"l":{"1":1,"3":1,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDate.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"encodeDate","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":41}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":41}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":25}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function encodeDate (date) {","\tif (date.toISOString)","\t\treturn  \"'\" + date.toISOString() + \"'\";","\treturn \"'\" + date + \"'\";","}","","module.exports = encodeDate;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeBoolean.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeBoolean.js","s":{"1":1,"2":0,"3":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"encodeBoolean","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":24}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}}},"branchMap":{},"code":["function encodeBoolean(bool) {","\treturn bool.toString();","}","","module.exports = encodeBoolean;"],"l":{"1":1,"2":0,"5":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/deleteFromSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/deleteFromSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"deleteFromSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":29}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":54}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}}},"branchMap":{},"code":["var format = 'delete from %s %s%s';","var util = require('util');","","function deleteFromSql(table, alias, whereSql) {","    var name = table._dbName;","    return util.format(format, name, alias, whereSql);","}","module.exports = deleteFromSql;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/selectForUpdateSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/selectForUpdateSql.js","s":{"1":1,"2":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":34}}},"branchMap":{},"code":["module.exports = function(alias) {","\treturn ' FOR UPDATE OF ' + alias;","}"],"l":{"1":1,"2":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/promise.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/promise.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1},"b":{"1":[1,0]},"f":{"1":1},"fnMap":{"1":{"name":"newPromise","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":7,"column":28}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":28}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":26}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},{"start":{"line":6,"column":1},"end":{"line":6,"column":1}}]}},"code":["var promise = require('promise/domains');","var deferred = require('deferred');","var objectToCallback = require('./objectToCallback');","","function newPromise(func) {","\tif (!func)","\t\treturn deferred.resolve();","\treturn new promise(func);","}","","newPromise.all = promise.all;","newPromise.denodeify = promise.denodeify;","module.exports = newPromise;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"8":0,"11":1,"12":1,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/objectToCallback.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/objectToCallback.js","s":{"1":1,"2":0,"3":1,"4":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":34}}},"2":{"name":"invoke","line":4,"loc":{"start":{"line":4,"column":1},"end":{"line":4,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":15}},"3":{"start":{"line":4,"column":1},"end":{"line":6,"column":2}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}}},"branchMap":{},"code":["module.exports = function(object) {","\treturn invoke;","","\tfunction invoke(resolve) {","\t\tresolve(object);","\t}","};"],"l":{"1":1,"2":0,"4":1,"5":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/begin.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/begin.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"begin","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":17}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":60}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":59}},"4":{"start":{"line":5,"column":0},"end":{"line":8,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":36}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":35}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":23}}},"branchMap":{},"code":["var beginCommand = require('./commands/beginCommand');","var executeQuery = require('./executeQueries/executeQuery');","var setSessionSingleton = require('./setSessionSingleton');","","function begin() {","\tsetSessionSingleton('changes', []);","\treturn executeQuery(beginCommand);","}","","module.exports = begin;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/beginCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/beginCommand.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"empty","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":17}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}},"branchMap":{},"code":["var newParameterized = require('../query/newParameterized');","","var command = newParameterized('BEGIN');","function empty() {}","","command.endEdit = empty;","command.matches = empty;","","module.exports = command;"],"l":{"1":1,"3":1,"4":1,"6":1,"7":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/newParameterized.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/newParameterized.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":5,"8":5,"9":1,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":1,"22":5,"23":5,"24":5},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":5,"3":0,"4":0,"5":0,"6":5},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":24},"end":{"line":4,"column":47}}},"2":{"name":"Parameterized","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":30},"end":{"line":14,"column":41}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":34},"end":{"line":18,"column":50}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":33},"end":{"line":26,"column":49}}},"6":{"name":"(anonymous_6)","line":34,"loc":{"start":{"line":34,"column":17},"end":{"line":34,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":69}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":61}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":43}},"6":{"start":{"line":9,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":22}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":33}},"9":{"start":{"line":14,"column":0},"end":{"line":16,"column":2}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":22}},"11":{"start":{"line":18,"column":0},"end":{"line":24,"column":2}},"12":{"start":{"line":19,"column":4},"end":{"line":23,"column":70}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":62}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":67}},"15":{"start":{"line":23,"column":8},"end":{"line":23,"column":70}},"16":{"start":{"line":26,"column":0},"end":{"line":32,"column":2}},"17":{"start":{"line":27,"column":4},"end":{"line":31,"column":70}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":62}},"19":{"start":{"line":29,"column":8},"end":{"line":29,"column":67}},"20":{"start":{"line":31,"column":8},"end":{"line":31,"column":70}},"21":{"start":{"line":34,"column":0},"end":{"line":38,"column":2}},"22":{"start":{"line":35,"column":4},"end":{"line":35,"column":28}},"23":{"start":{"line":36,"column":4},"end":{"line":36,"column":47}},"24":{"start":{"line":37,"column":4},"end":{"line":37,"column":47}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]}},"code":["var extractSql = require('./extractSql');","var extractParameters = require('./parameterized/extractParameters');","","var nextParameterized = function(text, params) {","    nextParameterized = require('../query/newParameterized');","    return nextParameterized(text, params);","}","","function Parameterized(text, parameters) {","    this._text = text;","    this.parameters = parameters;","}","","Parameterized.prototype.sql = function() {","    return this._text;","};","","Parameterized.prototype.prepend = function(other) {","    if (other.sql) {","        var params = other.parameters.concat(this.parameters);","        return nextParameterized(other.sql() + this._text, params);","    } else","        return nextParameterized(other + this._text, this.parameters);","};","","Parameterized.prototype.append = function(other) {","    if (other.sql) {        ","        var params = this.parameters.concat(other.parameters);","        return nextParameterized(this._text + other.sql(), params);","    } else","        return nextParameterized(this._text + other, this.parameters);","};","","module.exports = function(text, parameters) {","    text = extractSql(text);","    parameters = extractParameters(parameters);","    return new Parameterized(text, parameters);","};",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"9":1,"10":5,"11":5,"14":1,"15":0,"18":1,"19":0,"20":0,"21":0,"23":0,"26":1,"27":0,"28":0,"29":0,"31":0,"34":1,"35":5,"36":5,"37":5}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractSql.js","s":{"1":1,"2":5,"3":3,"4":2,"5":1},"b":{"1":[3,2]},"f":{"1":5},"fnMap":{"1":{"name":"extract","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":13}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":13}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":11}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function extract(sql) {","\tif (sql)","\t\treturn sql;","\treturn '';","}","","module.exports = extract;",""],"l":{"1":1,"2":5,"3":3,"4":2,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/parameterized/extractParameters.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/parameterized/extractParameters.js","s":{"1":1,"2":5,"3":0,"4":5,"5":1},"b":{"1":[0,5]},"f":{"1":5},"fnMap":{"1":{"name":"extract","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":4,"column":2}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":29}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":11}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function extract(parameters) {\t","\tif (parameters) {","\t\treturn parameters.slice(0);\t","\t}","\treturn [];","}","","module.exports = extract;",""],"l":{"1":1,"2":5,"3":0,"5":5,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQuery.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"executeQuery","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":29}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}}},"branchMap":{},"code":["var newResolver = require('./resolveExecuteQuery');","var newPromise = require('../promise');","","function executeQuery(query) {","\tvar resolver = newResolver(query);","\treturn newPromise(resolver);","}","","module.exports = executeQuery;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/resolveExecuteQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/resolveExecuteQuery.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"resolveExecuteQuery","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}}},"2":{"name":"resolve","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":38}}},"3":{"name":"onCompleted","line":17,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":3,"column":0},"end":{"line":32,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":19}},"4":{"start":{"line":6,"column":4},"end":{"line":30,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":36}},"6":{"start":{"line":8,"column":8},"end":{"line":11,"column":9}},"7":{"start":{"line":9,"column":12},"end":{"line":9,"column":51}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":49}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":53}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":48}},"11":{"start":{"line":17,"column":8},"end":{"line":29,"column":9}},"12":{"start":{"line":18,"column":12},"end":{"line":28,"column":28}},"13":{"start":{"line":19,"column":16},"end":{"line":19,"column":48}},"14":{"start":{"line":20,"column":16},"end":{"line":21,"column":43}},"15":{"start":{"line":21,"column":20},"end":{"line":21,"column":43}},"16":{"start":{"line":22,"column":16},"end":{"line":25,"column":19}},"17":{"start":{"line":26,"column":16},"end":{"line":26,"column":30}},"18":{"start":{"line":28,"column":16},"end":{"line":28,"column":28}},"19":{"start":{"line":34,"column":0},"end":{"line":34,"column":37}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":8,"column":8}},{"start":{"line":8,"column":8},"end":{"line":8,"column":8}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":12}},{"start":{"line":18,"column":12},"end":{"line":18,"column":12}}]},"3":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":16},"end":{"line":20,"column":16}},{"start":{"line":20,"column":16},"end":{"line":20,"column":16}}]},"4":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":20},"end":{"line":20,"column":43}},{"start":{"line":20,"column":47},"end":{"line":20,"column":77}}]}},"code":["var getSessionSingleton = require('../getSessionSingleton');","","function resolveExecuteQuery(query) {","    return resolve;","","    function resolve(success, failed) {","        var domain = process.domain;","        if (domain) {","            success = process.domain.bind(success);","            failed = process.domain.bind(failed);","        }","","        var client = getSessionSingleton('dbClient');","","        client.executeQuery(query, onCompleted);","","        function onCompleted(err, rows) {","            if (!err) {","                var lastIndex = rows.length - 1;","                if (!Array.isArray(rows[0]) && Array.isArray(rows[lastIndex]))","                    rows = rows[lastIndex];","                Object.defineProperty(rows, 'queryContext', {","                    value: query.queryContext,","                    enumerable: false","                });","                success(rows);","            } else","                failed(err);","        }","    }","","}","","module.exports = resolveExecuteQuery;",""],"l":{"1":1,"3":1,"4":0,"6":1,"7":0,"8":0,"9":0,"10":0,"13":0,"15":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"26":0,"28":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionSingleton.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionSingleton.js","s":{"1":1,"2":1,"3":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":2}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":34}}},"branchMap":{},"code":["var getSessionContext = require('./getSessionContext');","","module.exports = function(name) {","\treturn getSessionContext()[name];","};"],"l":{"1":1,"3":1,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionContext.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionContext.js","s":{"1":1,"2":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":2}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":27}}},"branchMap":{},"code":["module.exports = function() {","\treturn process.domain.rdb;\t","};"],"l":{"1":1,"2":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/setSessionSingleton.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/setSessionSingleton.js","s":{"1":1,"2":1,"3":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":2}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":35}}},"branchMap":{},"code":["var getSessionContext = require('./getSessionContext');","","module.exports = function(name, value) {","\tgetSessionContext()[name] = value;","};"],"l":{"1":1,"3":1,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commit.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"commit","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":18}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":64}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"6":{"start":{"line":7,"column":0},"end":{"line":11,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":28}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":28}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":54}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":24}}},"branchMap":{},"code":["var commitCommand = require('./commands/commitCommand');","var pushCommand = require('./commands/pushCommand');","var executeChanges = require('./executeQueries/executeChanges');","var releaseDbClient = require('./releaseDbClient');","var popChanges = require('./popChanges');","","function commit() {","\tpushCommand(commitCommand);","\tvar changes = popChanges();","\treturn executeChanges(changes).then(releaseDbClient);","}","","module.exports = commit;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/commitCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/commitCommand.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"empty","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":17}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}},"branchMap":{},"code":["var newParameterized = require('../query/newParameterized');","","var command = newParameterized('COMMIT');","function empty() {}","","command.endEdit = empty;","command.matches = empty;","","module.exports = command;"],"l":{"1":1,"3":1,"4":1,"6":1,"7":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/pushCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/pushCommand.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"pushCommand","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":30}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":27}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":23}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}}},"branchMap":{},"code":["var getChangeSet = require('./getChangeSet');","var notifyDirty = require('../notifyDirty');","var negotiateEndEdit = require('./negotiateEndEdit');","","function pushCommand(command) {","\tnotifyDirty();","\tvar changes = getChangeSet();","\tnegotiateEndEdit(changes);","\tchanges.push(command);","}","","module.exports = pushCommand;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/getChangeSet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/getChangeSet.js","s":{"1":1,"2":1,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"getChangeSet","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":0},"end":{"line":4,"column":1}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":39}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}}},"branchMap":{},"code":["var getSessionSingleton = require('../getSessionSingleton');","function getChangeSet() {","\treturn getSessionSingleton('changes');","}","","module.exports = getChangeSet;"],"l":{"1":1,"2":1,"3":0,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/notifyDirty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/notifyDirty.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":65}}},"branchMap":{},"code":["var setSessionSingleton = require('./setSessionSingleton');","module.exports = setSessionSingleton.bind(null, 'isDirty', true);"],"l":{"1":1,"2":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/negotiateEndEdit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/negotiateEndEdit.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateEndEdit","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":17}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":34}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},{"start":{"line":3,"column":1},"end":{"line":3,"column":1}}]},"2":{"line":3,"type":"binary-expr","locations":[{"start":{"line":3,"column":5},"end":{"line":3,"column":9}},{"start":{"line":3,"column":13},"end":{"line":3,"column":25}}]}},"code":["function negotiateEndEdit(changes) {","\tvar last = changes[changes.length - 1];","\tif (last && last.endEdit) ","\t\tlast.endEdit();","}\t","","module.exports = negotiateEndEdit;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeChanges.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeChanges.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"executeChanges","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}}},"2":{"name":"execute","line":11,"loc":{"start":{"line":11,"column":1},"end":{"line":11,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":21,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":22}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":22}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":12}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":18}},"8":{"start":{"line":11,"column":1},"end":{"line":19,"column":2}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":6}},"10":{"start":{"line":13,"column":2},"end":{"line":17,"column":3}},"11":{"start":{"line":14,"column":3},"end":{"line":14,"column":35}},"12":{"start":{"line":16,"column":3},"end":{"line":16,"column":49}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":32}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},{"start":{"line":5,"column":1},"end":{"line":5,"column":1}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]}},"code":["var executeQuery = require('./executeQuery');","var newPromise = require('../promise');","","function executeChanges(queries) {","\tif (queries.length === 0)","\t\treturn newPromise();","\tvar i = -1;","\treturn execute();","","","\tfunction execute() {","\t\ti++;","\t\tif (i+1 == queries.length )","\t\t\treturn executeQuery(queries[i]);","\t\telse {","\t\t\treturn executeQuery(queries[i]).then(execute);","\t\t}","\t\t\t","\t}","\t","}","","module.exports = executeChanges;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"11":1,"12":0,"13":0,"14":0,"16":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/releaseDbClient.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/releaseDbClient.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"release","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":60}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":48}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":1},"end":{"line":8,"column":9}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":9}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":["var getSessionSingleton = require('./getSessionSingleton');","var deleteSessionContext = require('./deleteSessionContext')","","function release() {","\tvar done = getSessionSingleton('dbClientDone');","\tdeleteSessionContext();","\tif (done)","\t\tdone();","}","","module.exports = release;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSessionContext.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSessionContext.js","s":{"1":1,"2":0,"3":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"deleteContext","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}}},"branchMap":{},"code":["function deleteContext() {","\tdelete process.domain.rdb;","}","","module.exports = deleteContext;"],"l":{"1":1,"2":0,"5":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChanges.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChanges.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"popChanges","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":60}},"3":{"start":{"line":4,"column":0},"end":{"line":17,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":32}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":1},"end":{"line":14,"column":2}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":36}},"8":{"start":{"line":9,"column":2},"end":{"line":10,"column":21}},"9":{"start":{"line":10,"column":3},"end":{"line":10,"column":21}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":46}},"11":{"start":{"line":12,"column":2},"end":{"line":12,"column":23}},"12":{"start":{"line":13,"column":2},"end":{"line":13,"column":20}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":18}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":28}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]}},"code":["var getChangeSet = require('./commands/getChangeSet');","var compressChanges = require('./commands/compressChanges');","","function popChanges() {\t","\tvar changeSet = getChangeSet();","\tvar length = changeSet.length;","\tif (length > 0) {","\t\tvar lastCmd = changeSet[length-1];","\t\tif (lastCmd.endEdit)","\t\t\tlastCmd.endEdit();","\t\tvar compressed = compressChanges(changeSet);","\t\tchangeSet.length = 0;","\t\treturn compressed;","\t}","\treturn changeSet;","","}","","module.exports = popChanges;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"19":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChanges.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChanges.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"compress","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":60}},"3":{"start":{"line":4,"column":0},"end":{"line":24,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":68}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":21}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":30}},"8":{"start":{"line":10,"column":1},"end":{"line":22,"column":2}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":27}},"10":{"start":{"line":12,"column":2},"end":{"line":20,"column":3}},"11":{"start":{"line":13,"column":3},"end":{"line":19,"column":4}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":27}},"13":{"start":{"line":15,"column":4},"end":{"line":16,"column":11}},"14":{"start":{"line":16,"column":5},"end":{"line":16,"column":11}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":65}},"16":{"start":{"line":18,"column":4},"end":{"line":18,"column":8}},"17":{"start":{"line":21,"column":2},"end":{"line":21,"column":27}},"18":{"start":{"line":23,"column":1},"end":{"line":23,"column":19}},"19":{"start":{"line":26,"column":0},"end":{"line":26,"column":26}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":6},"end":{"line":12,"column":24}},{"start":{"line":12,"column":28},"end":{"line":12,"column":59}}]},"3":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]}},"code":["var newParameterized = require('../query/newParameterized');","var getSessionSingleton = require('../getSessionSingleton');","","function compress(queries) {","\tvar multipleStatements = getSessionSingleton('multipleStatements');","\tvar compressed = [];","\tvar queryCount = queries.length;","\tvar lastIndex = queryCount-1;","\t","\tfor (var i = 0; i < queryCount; i++) {","\t\tvar current = queries[i];","\t\tif (multipleStatements && current.parameters.length === 0) {","\t\t\tfor (var i2 = i+1; i2 < queryCount; i2++) {","\t\t\t\tvar next = queries[i2];","\t\t\t\tif (next.parameters.length > 0)","\t\t\t\t\tbreak;","\t\t\t\tcurrent = newParameterized(current.sql() + ';' + next.sql());","\t\t\t\ti++;","\t\t\t}","\t\t}","\t\tcompressed.push(current);","\t}","\treturn compressed;","}","","module.exports = compress;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"21":0,"23":0,"26":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rollback.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rollback.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"rollback","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":60}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"7":{"start":{"line":8,"column":0},"end":{"line":18,"column":1}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":67}},"9":{"start":{"line":10,"column":4},"end":{"line":13,"column":34}},"10":{"start":{"line":15,"column":4},"end":{"line":16,"column":34}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":34}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":17}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":26}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]}},"code":["var rollbackCommand = require('./commands/rollbackCommand');","var executeQuery = require('./executeQueries/executeQuery');","var releaseDbClient = require('./releaseDbClient');","var popChanges = require('./popChanges');","var newThrow = require('./newThrow');","var resultToPromise = require('./resultToPromise');","","function rollback(e) {","    var executeRollback = executeQuery.bind(null, rollbackCommand);","    var chain = resultToPromise()","        \t\t\t.then(popChanges)","        \t\t\t.then(executeRollback)","        \t\t\t.then(releaseDbClient);","","    if (e)","        return newThrow(e, chain);","    return chain;","}","","module.exports = rollback;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"15":0,"16":0,"17":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/rollbackCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/rollbackCommand.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"empty","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":17}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}},"branchMap":{},"code":["var newParameterized = require('../query/newParameterized');","","var command = newParameterized('ROLLBACK');","function empty() {}","","command.endEdit = empty;","command.matches = empty;","","module.exports = command;","","",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newThrow.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newThrow.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newThrow","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}}},"2":{"name":"throwError","line":5,"loc":{"start":{"line":5,"column":1},"end":{"line":5,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":57}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":53}},"4":{"start":{"line":5,"column":1},"end":{"line":8,"column":2}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":23}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":10}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}}},"branchMap":{},"code":["var tryReleaseDbClient = require('./tryReleaseDbClient');","","function newThrow(e, previousPromise) {","\treturn previousPromise.then(throwError, throwError);","\tfunction throwError() {","\t\ttryReleaseDbClient();","\t\tthrow e;","\t}","}","","module.exports = newThrow;"],"l":{"1":1,"3":1,"4":0,"5":1,"6":0,"7":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryReleaseDbClient.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryReleaseDbClient.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"tryReleaseDbClient","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":18}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":36}}},"branchMap":{},"code":["var release = require('./releaseDbClient');","","function tryReleaseDbClient() {","    try {","        release();","    } ","    catch (e) {","","    }","","}","","module.exports = tryReleaseDbClient;",""],"l":{"1":1,"3":1,"4":0,"5":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToPromise.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToPromise.js","s":{"1":1,"2":1,"3":2,"4":1},"b":{},"f":{"1":2},"fnMap":{"1":{"name":"resultToPromise","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"2":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":5,"column":1},"end":{"line":5,"column":33}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}}},"branchMap":{},"code":["","var deferred = require('deferred');","","function resultToPromise(result) {","\treturn deferred.resolve(result);","}","","module.exports = resultToPromise;"],"l":{"2":1,"4":1,"5":2,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newPool.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newPool.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newPool","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"6":{"start":{"line":7,"column":0},"end":{"line":17,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":53}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":18}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":41}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":12}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":26}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":37}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":15}},"14":{"start":{"line":16,"column":1},"end":{"line":16,"column":10}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}}},"branchMap":{},"code":["var pools = require('../pools');","var promise = require('../table/promise');","var end = require('./pool/end');","var newPgPool = require('./pool/newPgPool');","var newId = require('../newId');","","function newPool(connectionString, poolOptions) {","\tvar pool = newPgPool(connectionString, poolOptions);","\tvar id = newId();","\tvar boundEnd = end.bind(null, pool, id);","\tvar c = {};","","\tc.connect = pool.connect;","\tc.end = promise.denodeify(boundEnd);","\tpools[id] = c;","\treturn c;","}","","module.exports = newPool;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"15":0,"16":0,"19":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pools.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pools.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"end","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":3}},"4":{"start":{"line":9,"column":0},"end":{"line":16,"column":1}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":17}},"6":{"start":{"line":11,"column":4},"end":{"line":14,"column":5}},"7":{"start":{"line":12,"column":5},"end":{"line":12,"column":39}},"8":{"start":{"line":13,"column":5},"end":{"line":13,"column":23}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":28}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":23}}},"branchMap":{},"code":["var promise = require('./table/promise');","var pools = require('./newObject')();","","Object.defineProperty(pools, 'end', {","    enumerable: false,","    value: end","});","","function end() {","    var all = [];","    for (var poolId in pools) {","    \tvar endPool = pools[poolId].end();","    \tall.push(endPool);","    }","    return promise.all(all);","}","","module.exports = pools;",""],"l":{"1":1,"2":1,"4":1,"9":1,"10":0,"11":0,"12":0,"13":0,"15":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newObject.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newObject.js","s":{"1":1,"2":2,"3":1},"b":{},"f":{"1":2},"fnMap":{"1":{"name":"newObject","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":11}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}}},"branchMap":{},"code":["function newObject() {","\treturn {};","}","","module.exports = newObject;"],"l":{"1":1,"2":2,"5":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/end.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/end.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"endPool","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}}},"2":{"name":"onDrained","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":28}},"4":{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":25}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":15}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"branchMap":{},"code":["var pools = require('../../pools');","","function endPool(pgPool, id, done) {\t","    pgPool.drain(onDrained);","","    function onDrained() {","        pgPool.destroyAllNow();","        delete pools[id];","        done();","    }","}","","module.exports = endPool;",""],"l":{"1":1,"3":1,"4":0,"6":1,"7":0,"8":0,"9":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/newPgPool.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/newPgPool.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"newPgPool","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":50}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":14},"end":{"line":15,"column":27}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":23},"end":{"line":17,"column":37}}},"4":{"name":"(anonymous_4)","line":22,"loc":{"start":{"line":22,"column":29},"end":{"line":22,"column":41}}},"5":{"name":"(anonymous_5)","line":34,"loc":{"start":{"line":34,"column":27},"end":{"line":34,"column":39}}},"6":{"name":"(anonymous_6)","line":45,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":32}}},"7":{"name":"(anonymous_7)","line":59,"loc":{"start":{"line":59,"column":19},"end":{"line":59,"column":32}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":19},"end":{"line":61,"column":41}}},"9":{"name":"(anonymous_9)","line":65,"loc":{"start":{"line":65,"column":38},"end":{"line":65,"column":49}}},"10":{"name":"(anonymous_10)","line":67,"loc":{"start":{"line":67,"column":25},"end":{"line":67,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"5":{"start":{"line":8,"column":0},"end":{"line":77,"column":1}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":36}},"7":{"start":{"line":10,"column":4},"end":{"line":50,"column":7}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":53}},"9":{"start":{"line":17,"column":8},"end":{"line":43,"column":11}},"10":{"start":{"line":18,"column":10},"end":{"line":18,"column":39}},"11":{"start":{"line":18,"column":18},"end":{"line":18,"column":39}},"12":{"start":{"line":22,"column":10},"end":{"line":31,"column":13}},"13":{"start":{"line":23,"column":12},"end":{"line":23,"column":42}},"14":{"start":{"line":28,"column":12},"end":{"line":30,"column":13}},"15":{"start":{"line":29,"column":14},"end":{"line":29,"column":35}},"16":{"start":{"line":34,"column":10},"end":{"line":40,"column":13}},"17":{"start":{"line":37,"column":12},"end":{"line":39,"column":13}},"18":{"start":{"line":38,"column":14},"end":{"line":38,"column":35}},"19":{"start":{"line":41,"column":10},"end":{"line":41,"column":31}},"20":{"start":{"line":42,"column":10},"end":{"line":42,"column":34}},"21":{"start":{"line":46,"column":8},"end":{"line":46,"column":34}},"22":{"start":{"line":47,"column":8},"end":{"line":47,"column":37}},"23":{"start":{"line":48,"column":8},"end":{"line":48,"column":21}},"24":{"start":{"line":52,"column":4},"end":{"line":52,"column":28}},"25":{"start":{"line":53,"column":4},"end":{"line":57,"column":5}},"26":{"start":{"line":54,"column":6},"end":{"line":56,"column":7}},"27":{"start":{"line":55,"column":8},"end":{"line":55,"column":48}},"28":{"start":{"line":59,"column":4},"end":{"line":75,"column":6}},"29":{"start":{"line":60,"column":6},"end":{"line":60,"column":34}},"30":{"start":{"line":61,"column":6},"end":{"line":74,"column":9}},"31":{"start":{"line":62,"column":8},"end":{"line":64,"column":9}},"32":{"start":{"line":63,"column":10},"end":{"line":63,"column":31}},"33":{"start":{"line":65,"column":8},"end":{"line":65,"column":61}},"34":{"start":{"line":65,"column":17},"end":{"line":65,"column":61}},"35":{"start":{"line":66,"column":8},"end":{"line":66,"column":27}},"36":{"start":{"line":67,"column":8},"end":{"line":73,"column":11}},"37":{"start":{"line":68,"column":10},"end":{"line":72,"column":11}},"38":{"start":{"line":69,"column":12},"end":{"line":69,"column":33}},"39":{"start":{"line":71,"column":12},"end":{"line":71,"column":33}},"40":{"start":{"line":76,"column":4},"end":{"line":76,"column":16}},"41":{"start":{"line":79,"column":0},"end":{"line":79,"column":27}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":18},"end":{"line":9,"column":29}},{"start":{"line":9,"column":33},"end":{"line":9,"column":35}}]},"2":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":11},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":55},"end":{"line":11,"column":72}}]},"3":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":25},"end":{"line":12,"column":48}},{"start":{"line":12,"column":52},"end":{"line":12,"column":76}}]},"4":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":56}},{"start":{"line":13,"column":60},"end":{"line":13,"column":87}}]},"5":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":11},"end":{"line":14,"column":26}},{"start":{"line":14,"column":30},"end":{"line":14,"column":46}}]},"6":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":10},"end":{"line":18,"column":10}},{"start":{"line":18,"column":10},"end":{"line":18,"column":10}}]},"7":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":12},"end":{"line":28,"column":12}},{"start":{"line":28,"column":12},"end":{"line":28,"column":12}}]},"8":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":12}},{"start":{"line":37,"column":12},"end":{"line":37,"column":12}}]},"9":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]},"10":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":8}},{"start":{"line":62,"column":8},"end":{"line":62,"column":8}}]},"11":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":8},"end":{"line":65,"column":8}},{"start":{"line":65,"column":8},"end":{"line":65,"column":8}}]},"12":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":10},"end":{"line":68,"column":10}},{"start":{"line":68,"column":10},"end":{"line":68,"column":10}}]}},"code":["//slightly modified code from github.com/brianc/node-postgres","var EventEmitter = require('events').EventEmitter;","","var defaults = require('./defaults');","var genericPool = require('generic-pool');","var pg = require('pg');","","function newPgPool(connectionString, poolOptions) {","    poolOptions = poolOptions || {};","    var pool = genericPool.Pool({","      max: poolOptions.size || poolOptions.poolSize || defaults.poolSize,","      idleTimeoutMillis: poolOptions.idleTimeout || defaults.poolIdleTimeout,","      reapIntervalMillis: poolOptions.reapIntervalMillis || defaults.reapIntervalMillis,","      log: poolOptions.log || defaults.poolLog,","      create: function(cb) {","        var client = new pg.Client(connectionString);","        client.connect(function(err) {","          if(err) return cb(err, null);","","          //handle connected client background errors by emitting event","          //via the pg object and then removing errored client from the pool","          client.on('error', function(e) {","            pool.emit('error', e, client);","","            // If the client is already being destroyed, the error","            // occurred during stream ending. Do not attempt to destroy","            // the client again.","            if (!client._destroying) {","              pool.destroy(client);","            }","          });","","          // Remove connection from pool on disconnect","          client.on('end', function(e) {","            // Do not enter infinite loop between pool.destroy","            // and client 'end' event...","            if ( ! client._destroying ) {","              pool.destroy(client);","            }","          });","          client.poolCount = 0;","          return cb(null, client);","        });","      },","      destroy: function(client) {","        client._destroying = true;","        client.poolCount = undefined;","        client.end();","      }","    });","    //mixin EventEmitter to pool","    EventEmitter.call(pool);","    for(var key in EventEmitter.prototype) {","      if(EventEmitter.prototype.hasOwnProperty(key)) {","        pool[key] = EventEmitter.prototype[key];","      }","    }","    //monkey-patch with connect method","    pool.connect = function(cb) {","      var domain = process.domain;","      pool.acquire(function(err, client) {","        if(domain) {","          cb = domain.bind(cb);","        }","        if(err)  return cb(err, null, function() {/*NOOP*/});","        client.poolCount++;","        cb(null, client, function(err) {","          if(err) {","            pool.destroy(client);","          } else {","            pool.release(client);","          }","        });","      });","    };","    return pool;","}","","module.exports = newPgPool;",""],"l":{"2":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"16":0,"17":0,"18":0,"22":0,"23":0,"28":0,"29":0,"34":0,"37":0,"38":0,"41":0,"42":0,"46":0,"47":0,"48":0,"52":0,"53":0,"54":0,"55":0,"59":0,"60":0,"61":0,"62":0,"63":0,"65":0,"66":0,"67":0,"68":0,"69":0,"71":0,"76":0,"79":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/defaults.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/defaults.js","s":{"1":1},"b":{"1":[0,1],"2":[0,1]},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":45,"column":2}}},"branchMap":{"1":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":39},"end":{"line":6,"column":59}},{"start":{"line":6,"column":62},"end":{"line":6,"column":78}}]},"2":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":43},"end":{"line":9,"column":63}},{"start":{"line":9,"column":66},"end":{"line":9,"column":82}}]}},"code":["var defaults = module.exports = {","  // database host defaults to localhost","  host: 'localhost',","","  //database user's name","  user: process.platform === 'win32' ? process.env.USERNAME : process.env.USER,","","  //name of database to connect","  database: process.platform === 'win32' ? process.env.USERNAME : process.env.USER,","","  //database user's password","  password: null,","","  //database port","  port: 5432,","","  //number of rows to return at a time from a prepared statement's","  //portal. 0 will return all rows at once","  rows: 0,","","  // binary result mode","  binary: false,","","  //Connection pool options - see https://github.com/coopernurse/node-pool","  //number of connections to use in connection pool","  //0 will disable connection pooling","  poolSize: 10,","","  //max milliseconds a client can go unused before it is removed","  //from the pool and destroyed","  poolIdleTimeout: 30000,","","  //frequeny to check for idle clients within the client pool","  reapIntervalMillis: 1000,","","  //pool log function / boolean","  poolLog: false,","","  client_encoding: \"\",","","  ssl: false,","","  application_name : undefined,","  fallback_application_name: undefined","};"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newId.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newId.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}}},"branchMap":{},"code":["module.exports = require('uuid').v4;"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"lock","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":58}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":22}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":22}}},"branchMap":{},"code":["var query = require('./query');","var toIntKey = require('./lock/toIntKey');","","function lock(key) {","    key = toIntKey(key);","    var sql = 'SELECT pg_advisory_xact_lock(' + key + ')';","    return query(sql);","}","","module.exports = lock;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"doQuery","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}}},"2":{"name":"unwrapResult","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":58}},"6":{"start":{"line":9,"column":0},"end":{"line":11,"column":1}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":19}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"branchMap":{},"code":["var executeQueries = require('./table/executeQueries');","var wrapQuery = require('./query/wrapQuery');","","function doQuery(query) {","\tvar wrappedQuery = wrapQuery(query);","\treturn executeQueries([wrappedQuery]).then(unwrapResult);","}","","function unwrapResult(results) {","\treturn results[0];","}","","module.exports = doQuery;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"9":1,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":1},"b":{"1":[0,0],"2":[0,0,0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"executeQueries","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":33}}},"2":{"name":"onDoneChanges","line":19,"loc":{"start":{"line":19,"column":1},"end":{"line":19,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":64}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":72}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":59}},"6":{"start":{"line":7,"column":0},"end":{"line":22,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":28}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":44}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":24}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":68}},"11":{"start":{"line":12,"column":1},"end":{"line":15,"column":2}},"12":{"start":{"line":13,"column":2},"end":{"line":13,"column":16}},"13":{"start":{"line":14,"column":2},"end":{"line":14,"column":76}},"14":{"start":{"line":17,"column":1},"end":{"line":17,"column":52}},"15":{"start":{"line":19,"column":1},"end":{"line":21,"column":2}},"16":{"start":{"line":20,"column":2},"end":{"line":20,"column":37}},"17":{"start":{"line":24,"column":0},"end":{"line":24,"column":32}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},{"start":{"line":12,"column":1},"end":{"line":12,"column":1}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":5},"end":{"line":12,"column":23}},{"start":{"line":12,"column":27},"end":{"line":12,"column":37}},{"start":{"line":12,"column":41},"end":{"line":12,"column":73}},{"start":{"line":12,"column":78},"end":{"line":12,"column":105}}]}},"code":["var executeChanges = require('./executeQueries/executeChanges');","var popChanges = require('./popChanges');","var executeQueriesCore = require('./executeQueries/executeQueriesCore');","var newParameterized = require('./query/newParameterized');","var getSessionSingleton = require('./getSessionSingleton');","","function executeQueries(queries) {","\tvar changes = popChanges();","\tvar lastChange = changes[changes.length-1];","\tvar query = queries[0];","\tvar multipleStatements = getSessionSingleton('multipleStatements');","\tif (multipleStatements && lastChange && lastChange.parameters.length===0  && query.parameters.length===0) {","\t\tchanges.pop();","\t\tqueries[0] = newParameterized( lastChange.sql() +  ';' + query.sql(), []);","\t}","","\treturn executeChanges(changes).then(onDoneChanges); ","","\tfunction onDoneChanges() {","\t\treturn executeQueriesCore(queries);","\t}","}","","module.exports = executeQueries;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"17":0,"19":1,"20":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQueriesCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQueriesCore.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"executeQueriesCore","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":19}},"4":{"start":{"line":5,"column":1},"end":{"line":8,"column":2}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":19}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}}},"branchMap":{},"code":["var executeQuery = require('./executeQuery');","","function executeQueriesCore(queries) {","\tvar promises = [];","\tfor (var i = 0; i < queries.length; i++) {","\t\tvar q = executeQuery(queries[i]);","\t\tpromises.push(q);","\t}","\treturn promises;","}","","module.exports = executeQueriesCore;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/wrapQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/wrapQuery.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"wrapQuery","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":59}},"3":{"start":{"line":4,"column":0},"end":{"line":11,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":60}},"6":{"start":{"line":7,"column":1},"end":{"line":10,"column":3}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":27}}},"branchMap":{},"code":["var negotiateSql = require('./negotiateSql');","var negotiateParameters = require('./negotiateParameters');","","function wrapQuery(query) {","\tvar safeSql = negotiateSql(query);","\tvar safeParameters = negotiateParameters(query.parameters);","\treturn {","\t\tsql: safeSql,","\t\tparameters: safeParameters","\t};","}","","module.exports = wrapQuery;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSql.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"negotiateSql","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":9},"end":{"line":3,"column":20}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":12,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":38}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":38}},"4":{"start":{"line":3,"column":22},"end":{"line":3,"column":35}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":21}},"6":{"start":{"line":6,"column":1},"end":{"line":11,"column":65}},"7":{"start":{"line":7,"column":2},"end":{"line":7,"column":13}},"8":{"start":{"line":8,"column":6},"end":{"line":11,"column":65}},"9":{"start":{"line":9,"column":2},"end":{"line":9,"column":36}},"10":{"start":{"line":9,"column":22},"end":{"line":9,"column":33}},"11":{"start":{"line":11,"column":2},"end":{"line":11,"column":65}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},{"start":{"line":6,"column":1},"end":{"line":6,"column":1}}]},"3":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":6}},{"start":{"line":8,"column":6},"end":{"line":8,"column":6}}]}},"code":["function negotiateSql(query) {","\tif(typeof(query) === 'string')","\t\treturn function() { return query; };","","\tvar sql = query.sql;","\tif(typeof(sql) === 'function')","\t\treturn sql;","\telse if(typeof(sql) === 'string')","\t\treturn function() { return sql; };","\telse","\t\tthrow new Error('Query lacks sql property string or function');","}","","module.exports = negotiateSql;"],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParameters.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParameters.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateParameters","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":7,"column":87}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":12}},"4":{"start":{"line":4,"column":6},"end":{"line":7,"column":87}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":20}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":87}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":6},"end":{"line":4,"column":6}},{"start":{"line":4,"column":6},"end":{"line":4,"column":6}}]}},"code":["function negotiateParameters(parameters) {","\tif(parameters === undefined)","\t\treturn [];","\telse if(parameters.length !== undefined)","\t\treturn parameters;","\telse","\t\tthrow new Error('Query has invalid parameters property. Must be undefined or array');","}","","module.exports = negotiateParameters;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKey.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKey.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"toIntKey","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}}},"2":{"name":"isIntegerString","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":31}}},"3":{"name":"isInteger","line":22,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":25}}},"4":{"name":"trim","line":26,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":33,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":3,"column":19}},"3":{"start":{"line":3,"column":8},"end":{"line":3,"column":19}},"4":{"start":{"line":4,"column":4},"end":{"line":5,"column":25}},"5":{"start":{"line":5,"column":8},"end":{"line":5,"column":25}},"6":{"start":{"line":6,"column":4},"end":{"line":6,"column":20}},"7":{"start":{"line":7,"column":4},"end":{"line":12,"column":5}},"8":{"start":{"line":8,"column":8},"end":{"line":8,"column":41}},"9":{"start":{"line":9,"column":8},"end":{"line":9,"column":36}},"10":{"start":{"line":10,"column":8},"end":{"line":11,"column":28}},"11":{"start":{"line":11,"column":12},"end":{"line":11,"column":28}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":24}},"13":{"start":{"line":16,"column":4},"end":{"line":20,"column":5}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":37}},"15":{"start":{"line":18,"column":8},"end":{"line":18,"column":38}},"16":{"start":{"line":19,"column":8},"end":{"line":19,"column":57}},"17":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":69}},"19":{"start":{"line":26,"column":4},"end":{"line":32,"column":5}},"20":{"start":{"line":27,"column":8},"end":{"line":27,"column":46}},"21":{"start":{"line":28,"column":8},"end":{"line":28,"column":39}},"22":{"start":{"line":29,"column":8},"end":{"line":30,"column":41}},"23":{"start":{"line":30,"column":12},"end":{"line":30,"column":41}},"24":{"start":{"line":31,"column":8},"end":{"line":31,"column":21}},"25":{"start":{"line":35,"column":0},"end":{"line":35,"column":26}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":4},"end":{"line":2,"column":4}},{"start":{"line":2,"column":4},"end":{"line":2,"column":4}}]},"2":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"3":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":8}},{"start":{"line":10,"column":8},"end":{"line":10,"column":8}}]},"4":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":16},"end":{"line":19,"column":38}},{"start":{"line":19,"column":42},"end":{"line":19,"column":55}}]},"5":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":16},"end":{"line":23,"column":38}},{"start":{"line":23,"column":44},"end":{"line":23,"column":67}}]},"6":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":8}},{"start":{"line":29,"column":8},"end":{"line":29,"column":8}}]}},"code":["function toIntKey(key) {","    if (isInteger())","        return key;","    if (isIntegerString())","        return trim(key);","    var intKey = '';","    for (var i = 0; i < key.length; ++i) {","        var value = key[i].toUpperCase();","        value = parseInt(value, 16);","        if (!isNaN(value))","            intKey += value;","    }","","    return trim(intKey);","","    function isIntegerString() {","        var pattern = /^-?\\d+\\.?\\d*$/","        var reg = new RegExp(pattern);","        return (typeof key == 'string' && reg.test(key));","    }","","    function isInteger() {","        return (typeof key == 'number') && (Math.floor(key) === key);","    }","","    function trim(value) {","        var maxBigInt = '9223372036854775807';","        value = value.substring(0, 19);","        if (value > maxBigInt) ","            return value.substring(0,18);","        return value;","    }","}","","module.exports = toIntKey;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"14":0,"16":1,"17":0,"18":0,"19":0,"22":1,"23":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"35":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabase.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabase.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"newDatabase","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":31}}},"3":{"name":"onRun","line":18,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":25}}},"4":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":12},"end":{"line":28,"column":23}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":30}},"9":{"start":{"line":10,"column":0},"end":{"line":37,"column":1}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":15}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":54}},"12":{"start":{"line":14,"column":4},"end":{"line":22,"column":6}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":36}},"14":{"start":{"line":16,"column":8},"end":{"line":16,"column":33}},"15":{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},"16":{"start":{"line":19,"column":12},"end":{"line":19,"column":59}},"17":{"start":{"line":20,"column":12},"end":{"line":20,"column":55}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":22}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":18}},"21":{"start":{"line":28,"column":4},"end":{"line":30,"column":6}},"22":{"start":{"line":29,"column":8},"end":{"line":29,"column":26}},"23":{"start":{"line":32,"column":4},"end":{"line":34,"column":6}},"24":{"start":{"line":33,"column":8},"end":{"line":33,"column":28}},"25":{"start":{"line":36,"column":4},"end":{"line":36,"column":13}},"26":{"start":{"line":39,"column":0},"end":{"line":39,"column":29}}},"branchMap":{},"code":["var createDomain = require('../createDomain');","var newTransaction = require('./newTransaction');","var newPromise = require('../table/promise');","var begin = require('../table/begin');","var newPool = require('./newPool');","var commit = require('../table/commit');","var rollback = require('../table/rollback');","var lock = require('../lock');","","function newDatabase(connectionString, poolOptions) {","    var c = {};","    var pool = newPool(connectionString, poolOptions);","","    c.transaction = function() {","        var domain = createDomain();","        return domain.run(onRun);","","        function onRun() {","            var transaction = newTransaction(domain, pool);","            return newPromise(transaction).then(begin);","        }","    };","","    c.commit = commit;","    c.rollback = rollback;","    c.lock = lock;","    ","    c.end = function() {","        return pool.end();","    };","","    c.accept = function(caller) {","        caller.visitMySql();","    };","","    return c;","}","","module.exports = newDatabase;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"11":0,"12":0,"14":0,"15":0,"16":0,"18":1,"19":0,"20":0,"24":0,"25":0,"26":0,"28":0,"29":0,"32":0,"33":0,"36":0,"39":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newTransaction.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newTransaction.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newResolveTransaction","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":40}}},"3":{"name":"onConnected","line":12,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"6":{"start":{"line":7,"column":0},"end":{"line":32,"column":1}},"7":{"start":{"line":9,"column":4},"end":{"line":31,"column":6}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":34}},"9":{"start":{"line":12,"column":8},"end":{"line":30,"column":9}},"10":{"start":{"line":13,"column":12},"end":{"line":16,"column":13}},"11":{"start":{"line":14,"column":16},"end":{"line":14,"column":29}},"12":{"start":{"line":15,"column":16},"end":{"line":15,"column":23}},"13":{"start":{"line":17,"column":12},"end":{"line":17,"column":25}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":60}},"15":{"start":{"line":19,"column":12},"end":{"line":19,"column":65}},"16":{"start":{"line":21,"column":12},"end":{"line":21,"column":38}},"17":{"start":{"line":22,"column":12},"end":{"line":22,"column":67}},"18":{"start":{"line":23,"column":12},"end":{"line":23,"column":67}},"19":{"start":{"line":24,"column":12},"end":{"line":24,"column":40}},"20":{"start":{"line":25,"column":12},"end":{"line":25,"column":46}},"21":{"start":{"line":26,"column":12},"end":{"line":26,"column":56}},"22":{"start":{"line":27,"column":12},"end":{"line":27,"column":42}},"23":{"start":{"line":28,"column":12},"end":{"line":28,"column":29}},"24":{"start":{"line":29,"column":12},"end":{"line":29,"column":24}},"25":{"start":{"line":34,"column":0},"end":{"line":34,"column":39}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":12},"end":{"line":13,"column":12}},{"start":{"line":13,"column":12},"end":{"line":13,"column":12}}]}},"code":["var wrapQuery = require('./wrapQuery');","var wrapQueryStream = require('./wrapQueryStream');","var deleteFromSql = require('./deleteFromSql');","var selectForUpdateSql = require('./selectForUpdateSql');","var encodeDate = require('./encodeDate');","","function newResolveTransaction(domain, pool) {","","    return function(onSuccess, onError) {","        pool.connect(onConnected);","","        function onConnected(err, connection) {","            if (err) {","                onError(err);","                return;","            }","            var rdb = {};","            connection.executeQuery = wrapQuery(connection);","            connection.streamQuery = wrapQueryStream(connection);","","            rdb.dbClient = connection;","            rdb.dbClientDone = connection.release.bind(connection);","            rdb.encodeBoolean = connection.escape.bind(connection);","            rdb.encodeDate = encodeDate;","            rdb.deleteFromSql = deleteFromSql;","            rdb.selectForUpdateSql = selectForUpdateSql;","            rdb.multipleStatements = true;","            domain.rdb = rdb;    ","            onSuccess();","        }","    };","}","","module.exports = newResolveTransaction;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"9":0,"10":0,"12":1,"13":0,"14":0,"15":0,"17":0,"18":0,"19":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuery.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"wrapQuery","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}}},"2":{"name":"runQuery","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":3,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":7,"column":1},"end":{"line":13,"column":2}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":32}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":11}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":31}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":69}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"branchMap":{},"code":["var log = require('../table/log');","","function wrapQuery(connection) {","\tvar runOriginalQuery = connection.query;","\treturn runQuery;","","\tfunction runQuery(query, onCompleted) {","\t\tvar params = query.parameters;","\t\tvar sql = query.sql();","\t\tlog(sql);","\t\tlog('parameters: ' + params);","\t\treturn runOriginalQuery.call(connection, sql, params, onCompleted);","\t}","","}","","module.exports = wrapQuery;"],"l":{"1":1,"3":1,"4":0,"5":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQueryStream.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQueryStream.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"wrapQueryStream","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}}},"2":{"name":"runQuery","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":7,"column":1},"end":{"line":9,"column":2}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":56}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}}},"branchMap":{},"code":["var log = require('../table/log');","","function wrapQueryStream(connection) {","\tvar runOriginalQuery = connection.query;","\treturn runQuery;","","\tfunction runQuery(query, options) {","\t\treturn connection.executeQuery(query).stream(options);\t","\t}","}","","module.exports = wrapQueryStream;"],"l":{"1":1,"3":1,"4":0,"5":0,"7":1,"8":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/deleteFromSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/deleteFromSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"deleteFromSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":29}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":61}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}}},"branchMap":{},"code":["var format = 'delete %s from %s as %s%s';","var util = require('util');","","function deleteFromSql(table, alias, whereSql) {","    var name = table._dbName;","    return util.format(format, alias, name, alias, whereSql);","}","module.exports = deleteFromSql;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/selectForUpdateSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/selectForUpdateSql.js","s":{"1":1,"2":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":22}}},"branchMap":{},"code":["module.exports = function(alias) {","\treturn ' FOR UPDATE';","}"],"l":{"1":1,"2":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDate.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"encodeDate","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}}},"2":{"name":"truncate","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":38}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":38}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":23}},"5":{"start":{"line":6,"column":0},"end":{"line":8,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":40}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":28}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function encodeDate (date) {","\tif (date.toISOString)","\t\treturn truncate(date.toISOString());","\treturn truncate(date);","}","function truncate(date) {","\treturn \"'\" + date.substring(0,23) + \"'\"","}","","module.exports = encodeDate;"],"l":{"1":1,"2":0,"3":0,"4":0,"6":1,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newPool.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newPool.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newPool","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":66}},"7":{"start":{"line":8,"column":0},"end":{"line":19,"column":1}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":47}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":41}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":18}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":41}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":12}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":43}},"14":{"start":{"line":16,"column":1},"end":{"line":16,"column":37}},"15":{"start":{"line":17,"column":1},"end":{"line":17,"column":15}},"16":{"start":{"line":18,"column":1},"end":{"line":18,"column":10}},"17":{"start":{"line":21,"column":0},"end":{"line":21,"column":25}}},"branchMap":{},"code":["var pools = require('../pools');","var promise = require('../table/promise');","var end = require('./pool/end');","var mysql = require('mysql');","var newId = require('../newId');","var negotiatePoolOptions = require('./pool/negotiatePoolOptions');","","function newPool(connectionString, poolOptions) {","\tvar pool = mysql.createPool(connectionString);","\tnegotiatePoolOptions(pool, poolOptions);","\tvar id = newId();","\tvar boundEnd = end.bind(null, pool, id);","\tvar c = {};","","\tc.connect = pool.getConnection.bind(pool);","\tc.end = promise.denodeify(boundEnd);","\tpools[id] = c;","\treturn c;","}","","module.exports = newPool;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/pool/end.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/pool/end.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"endPool","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}}},"2":{"name":"onEnd","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":25}},"4":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":25}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":36}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":25}}},"branchMap":{},"code":["var pools = require('../../pools');","","function endPool(mysqlPool, id, done) {\t","    mysqlPool.end(onEnd);","","    function onEnd() {","        delete pools[id];","        done.apply(null, arguments);","    }","}","","module.exports = endPool;",""],"l":{"1":1,"3":1,"4":0,"6":1,"7":0,"8":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/pool/negotiatePoolOptions.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/pool/negotiatePoolOptions.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiatePoolOptions","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":10,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":26}},"3":{"start":{"line":3,"column":1},"end":{"line":9,"column":2}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":5,"column":2},"end":{"line":8,"column":24}},"6":{"start":{"line":6,"column":3},"end":{"line":6,"column":34}},"7":{"start":{"line":8,"column":3},"end":{"line":8,"column":24}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":38}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]}},"code":["function negotiatePoolOptions(pool, options) {","\tvar config = pool.config;","\tfor(var name in options) {","\t\tvar value = options[name];","\t\tif (name === 'size')","\t\t\tconfig.connectionLimit = value;","\t\telse","\t\t\tconfig[name] = value;","\t}","}","","module.exports = negotiatePoolOptions;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"8":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newDatabase.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newDatabase.js","s":{"1":4,"2":4,"3":4,"4":4,"5":4,"6":4,"7":4,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"newDatabase","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":20},"end":{"line":13,"column":31}}},"3":{"name":"onRun","line":18,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":25}}},"4":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":12},"end":{"line":28,"column":23}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"8":{"start":{"line":9,"column":0},"end":{"line":38,"column":1}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":54}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":15}},"11":{"start":{"line":13,"column":4},"end":{"line":23,"column":6}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":36}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":33}},"14":{"start":{"line":18,"column":8},"end":{"line":22,"column":9}},"15":{"start":{"line":19,"column":12},"end":{"line":19,"column":59}},"16":{"start":{"line":20,"column":12},"end":{"line":20,"column":53}},"17":{"start":{"line":21,"column":12},"end":{"line":21,"column":21}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"19":{"start":{"line":26,"column":4},"end":{"line":26,"column":22}},"20":{"start":{"line":28,"column":4},"end":{"line":30,"column":6}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":26}},"22":{"start":{"line":32,"column":4},"end":{"line":34,"column":6}},"23":{"start":{"line":33,"column":8},"end":{"line":33,"column":29}},"24":{"start":{"line":37,"column":4},"end":{"line":37,"column":13}},"25":{"start":{"line":40,"column":0},"end":{"line":40,"column":29}}},"branchMap":{},"code":["var createDomain = require('../createDomain');","var newTransaction = require('./newTransaction');","var promise = require('../table/promise');","var begin = require('../table/begin');","var commit = require('../table/commit');","var rollback = require('../table/rollback');","var newPool = require('./newPool');","","function newDatabase(connectionString, poolOptions) {","    var pool = newPool(connectionString, poolOptions);","    var c = {};","","    c.transaction = function() {","        var domain = createDomain();","","        return domain.run(onRun);","","        function onRun() {","            var transaction = newTransaction(domain, pool);","            var p = promise(transaction).then(begin);","            return p;","        }","    };","","    c.rollback = rollback;","    c.commit = commit;","","    c.end = function() {","        return pool.end();","    };","","    c.accept = function(caller) {","        caller.visitSqlite();","    };","","","    return c;","}","","module.exports = newDatabase;",""],"l":{"1":4,"2":4,"3":4,"4":4,"5":4,"6":4,"7":4,"9":1,"10":0,"11":0,"13":0,"14":0,"16":0,"18":1,"19":0,"20":0,"21":0,"25":0,"26":0,"28":0,"29":0,"32":0,"33":0,"37":0,"40":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newTransaction.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newTransaction.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newResolveTransaction","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":45}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":11},"end":{"line":10,"column":40}}},"3":{"name":"onConnected","line":13,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":47}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"7":{"start":{"line":8,"column":0},"end":{"line":32,"column":1}},"8":{"start":{"line":10,"column":4},"end":{"line":31,"column":6}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":34}},"10":{"start":{"line":13,"column":8},"end":{"line":30,"column":9}},"11":{"start":{"line":14,"column":12},"end":{"line":17,"column":13}},"12":{"start":{"line":15,"column":16},"end":{"line":15,"column":29}},"13":{"start":{"line":16,"column":16},"end":{"line":16,"column":23}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":25}},"15":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"16":{"start":{"line":20,"column":12},"end":{"line":20,"column":57}},"17":{"start":{"line":21,"column":12},"end":{"line":21,"column":34}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":36}},"19":{"start":{"line":23,"column":12},"end":{"line":23,"column":46}},"20":{"start":{"line":24,"column":12},"end":{"line":24,"column":40}},"21":{"start":{"line":25,"column":12},"end":{"line":25,"column":46}},"22":{"start":{"line":26,"column":12},"end":{"line":26,"column":56}},"23":{"start":{"line":27,"column":12},"end":{"line":27,"column":43}},"24":{"start":{"line":28,"column":12},"end":{"line":28,"column":29}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":24}},"26":{"start":{"line":34,"column":0},"end":{"line":34,"column":39}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":12}},{"start":{"line":14,"column":12},"end":{"line":14,"column":12}}]}},"code":["var wrapQuery = require('./wrapQuery');","var wrapQueryStream = require('./wrapQueryStream');","var encodeBoolean = require('./encodeBoolean');","var encodeDate = require('./encodeDate');","var deleteFromSql = require('./deleteFromSql');","var selectForUpdateSql = require('./selectForUpdateSql');","","function newResolveTransaction(domain, pool) {","","    return function(onSuccess, onError) {","        pool.connect(onConnected);","","        function onConnected(err, client, done) {","            if (err) {","                onError(err);","                return;","            }","            var rdb = {};","            client.executeQuery = wrapQuery(client);            ","            client.streamQuery = wrapQueryStream(client);            ","            rdb.dbClient = client;","            rdb.dbClientDone = done;","            rdb.encodeBoolean = encodeBoolean;","            rdb.encodeDate = encodeDate;","            rdb.deleteFromSql = deleteFromSql;","            rdb.selectForUpdateSql = selectForUpdateSql;","            rdb.multipleStatements = false;","            domain.rdb = rdb;    ","            onSuccess();","        }","    };","}","","module.exports = newResolveTransaction;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"10":0,"11":0,"13":1,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/wrapQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/wrapQuery.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"wrapQuery","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}}},"2":{"name":"runQuery","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":39}}},"3":{"name":"onInnerCompleted","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":3,"column":0},"end":{"line":23,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":39}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":7,"column":1},"end":{"line":21,"column":2}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":32}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":11}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":31}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":67}},"11":{"start":{"line":15,"column":2},"end":{"line":20,"column":3}},"12":{"start":{"line":16,"column":3},"end":{"line":19,"column":28}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":21}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":28}},"15":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":3},"end":{"line":16,"column":3}},{"start":{"line":16,"column":3},"end":{"line":16,"column":3}}]}},"code":["var log = require('../table/log');","","function wrapQuery(connection) {","\tvar runOriginalQuery = connection.all;","\treturn runQuery;","","\tfunction runQuery(query, onCompleted) {","\t\tvar params = query.parameters;","\t\tvar sql = query.sql();","\t\tlog(sql);","\t\tlog('parameters: ' + params);","","\t\trunOriginalQuery.call(connection, sql, params, onInnerCompleted);","","\t\tfunction onInnerCompleted(err, rows) {","\t\t\tif (err) ","\t\t\t\tonCompleted(err);","\t\t\telse","\t\t\t\tonCompleted(null, rows);","\t\t}","\t}","","}","","module.exports = wrapQuery;"],"l":{"1":1,"3":1,"4":0,"5":0,"7":1,"8":0,"9":0,"10":0,"11":0,"13":0,"15":1,"16":0,"17":0,"19":0,"25":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/wrapQueryStream.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/wrapQueryStream.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"wrapQueryStream","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}}},"2":{"name":"runQuery","line":8,"loc":{"start":{"line":8,"column":1},"end":{"line":8,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":57}},"3":{"start":{"line":4,"column":0},"end":{"line":18,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"6":{"start":{"line":8,"column":1},"end":{"line":16,"column":2}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":32}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":24}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":11}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":31}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":51}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":50}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":33}}},"branchMap":{},"code":["var log = require('../table/log');","var newStreamableQuery = require('./newStreamableQuery');","","function wrapQueryStream(connection) {","\tvar runOriginalQuery = connection.query;","\treturn runQuery;","","\tfunction runQuery(query, options) {","\t\tvar params = query.parameters;","\t\tvar sql = query.sql();","\t\tlog(sql);","\t\tlog('parameters: ' + params);","\t\tquery = newStreamableQuery(sql, params, options);","","\t\treturn runOriginalQuery.call(connection, query);","\t}","","}","","module.exports = wrapQueryStream;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newStreamableQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newStreamableQuery.js","s":{"1":1,"2":1,"3":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":37}}},"branchMap":{},"code":["var QueryStream = require('pg-query-stream');","","module.exports = function (sql, params) {","\treturn new QueryStream(sql, params);","}"],"l":{"1":1,"3":1,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBoolean.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBoolean.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"encodeBoolean","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":11}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":11}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":10}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function encodeBoolean(bool) {","\tif (bool)","\t\treturn 1;","\treturn 0;","}","","module.exports = encodeBoolean;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeDate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeDate.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"encodeDate","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":41}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":41}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":25}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function encodeDate (date) {","\tif (date.toISOString)","\t\treturn  \"'\" + date.toISOString() + \"'\";","\treturn \"'\" + date + \"'\";","}","","module.exports = encodeDate;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/deleteFromSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/deleteFromSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"deleteFromSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":79}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":29}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":73}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}}},"branchMap":{},"code":["var format = 'delete from %s where %s.rowId in (SELECT %s.rowId FROM %s %s%s)'; ","var util = require('util');","","function deleteFromSql(table, alias, whereSql) {","    var name = table._dbName;","    return util.format(format, name, name, alias, name, alias, whereSql);","}","module.exports = deleteFromSql;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/selectForUpdateSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/selectForUpdateSql.js","s":{"1":1,"2":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":34}}},"branchMap":{},"code":["module.exports = function(alias) {","\treturn ' FOR UPDATE OF ' + alias;","}"],"l":{"1":1,"2":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newPool.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/newPool.js","s":{"1":4,"2":4,"3":4,"4":4,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newPool","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":54}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"6":{"start":{"line":7,"column":0},"end":{"line":17,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":58}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":18}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":41}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":12}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":26}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":37}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":15}},"14":{"start":{"line":16,"column":1},"end":{"line":16,"column":10}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}}},"branchMap":{},"code":["var pools = require('../pools');","var promise = require('../table/promise');","var end = require('./pool/end');","var newGenericPool = require('./pool/newGenericPool');","var newId = require('../newId');","","function newPool(connectionString, poolOptions) {","\tvar pool = newGenericPool(connectionString, poolOptions);","\tvar id = newId();","\tvar boundEnd = end.bind(null, pool, id);","\tvar c = {};","","\tc.connect = pool.connect;","\tc.end = promise.denodeify(boundEnd);","\tpools[id] = c;","\treturn c;","}","","module.exports = newPool;"],"l":{"1":4,"2":4,"3":4,"4":4,"5":0,"7":1,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"15":0,"16":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/end.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/end.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"endPool","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}}},"2":{"name":"onDrained","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":33}},"4":{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":36}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":25}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":15}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"branchMap":{},"code":["var pools = require('../../pools');","","function endPool(genericPool, id, done) {\t","    genericPool.drain(onDrained);","","    function onDrained() {","        genericPool.destroyAllNow();","        delete pools[id];","        done();","    }","}","","module.exports = endPool;",""],"l":{"1":1,"3":1,"4":0,"6":1,"7":0,"8":0,"9":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/newGenericPool.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/newGenericPool.js","s":{"1":6,"2":6,"3":6,"4":6,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newGenericPool","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":55}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":27}}},"3":{"name":"onConnected","line":17,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":34}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":15},"end":{"line":25,"column":32}}},"5":{"name":"(anonymous_5)","line":38,"loc":{"start":{"line":38,"column":19},"end":{"line":38,"column":32}}},"6":{"name":"(anonymous_6)","line":40,"loc":{"start":{"line":40,"column":19},"end":{"line":40,"column":41}}},"7":{"name":"(anonymous_7)","line":44,"loc":{"start":{"line":44,"column":38},"end":{"line":44,"column":49}}},"8":{"name":"(anonymous_8)","line":46,"loc":{"start":{"line":46,"column":25},"end":{"line":46,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":50}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"5":{"start":{"line":7,"column":0},"end":{"line":56,"column":1}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":36}},"7":{"start":{"line":9,"column":4},"end":{"line":29,"column":7}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":72}},"9":{"start":{"line":17,"column":8},"end":{"line":22,"column":9}},"10":{"start":{"line":18,"column":10},"end":{"line":19,"column":33}},"11":{"start":{"line":19,"column":12},"end":{"line":19,"column":33}},"12":{"start":{"line":20,"column":10},"end":{"line":20,"column":31}},"13":{"start":{"line":21,"column":10},"end":{"line":21,"column":34}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":37}},"15":{"start":{"line":27,"column":8},"end":{"line":27,"column":23}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":28}},"17":{"start":{"line":32,"column":4},"end":{"line":36,"column":5}},"18":{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},"19":{"start":{"line":34,"column":8},"end":{"line":34,"column":48}},"20":{"start":{"line":38,"column":4},"end":{"line":54,"column":6}},"21":{"start":{"line":39,"column":6},"end":{"line":39,"column":34}},"22":{"start":{"line":40,"column":6},"end":{"line":53,"column":9}},"23":{"start":{"line":41,"column":8},"end":{"line":43,"column":9}},"24":{"start":{"line":42,"column":10},"end":{"line":42,"column":31}},"25":{"start":{"line":44,"column":8},"end":{"line":44,"column":61}},"26":{"start":{"line":44,"column":17},"end":{"line":44,"column":61}},"27":{"start":{"line":45,"column":8},"end":{"line":45,"column":27}},"28":{"start":{"line":46,"column":8},"end":{"line":52,"column":11}},"29":{"start":{"line":47,"column":10},"end":{"line":51,"column":11}},"30":{"start":{"line":48,"column":12},"end":{"line":48,"column":33}},"31":{"start":{"line":50,"column":12},"end":{"line":50,"column":33}},"32":{"start":{"line":55,"column":4},"end":{"line":55,"column":16}},"33":{"start":{"line":58,"column":0},"end":{"line":58,"column":32}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":29}},{"start":{"line":8,"column":33},"end":{"line":8,"column":35}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":11},"end":{"line":10,"column":27}},{"start":{"line":10,"column":31},"end":{"line":10,"column":51}},{"start":{"line":10,"column":55},"end":{"line":10,"column":72}}]},"3":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":25},"end":{"line":11,"column":48}},{"start":{"line":11,"column":52},"end":{"line":11,"column":76}}]},"4":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":26},"end":{"line":12,"column":56}},{"start":{"line":12,"column":60},"end":{"line":12,"column":87}}]},"5":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":11},"end":{"line":13,"column":26}},{"start":{"line":13,"column":30},"end":{"line":13,"column":46}}]},"6":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":10},"end":{"line":18,"column":10}},{"start":{"line":18,"column":10},"end":{"line":18,"column":10}}]},"7":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":6}},{"start":{"line":33,"column":6},"end":{"line":33,"column":6}}]},"8":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":8}},{"start":{"line":41,"column":8},"end":{"line":41,"column":8}}]},"9":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"10":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":10},"end":{"line":47,"column":10}},{"start":{"line":47,"column":10},"end":{"line":47,"column":10}}]}},"code":["var EventEmitter = require('events').EventEmitter;","","var defaults = require('./defaults');","var genericPool = require('generic-pool');","var sqlite = require('sqlite3');","","function newGenericPool(connectionString, poolOptions) {","    poolOptions = poolOptions || {};","    var pool = genericPool.Pool({","      max: poolOptions.size || poolOptions.poolSize || defaults.poolSize,","      idleTimeoutMillis: poolOptions.idleTimeout || defaults.poolIdleTimeout,","      reapIntervalMillis: poolOptions.reapIntervalMillis || defaults.reapIntervalMillis,","      log: poolOptions.log || defaults.poolLog,","      create: function(cb) {","        var client = new sqlite.Database(connectionString, onConnected);","","        function onConnected(err) {","          if(err) ","            return cb(err, null);","          client.poolCount = 0;","          return cb(null, client);","        }","      },","","      destroy: function(client) {","        client.poolCount = undefined;","        client.close();","      }","    });","    //mixin EventEmitter to pool","    EventEmitter.call(pool);","    for(var key in EventEmitter.prototype) {","      if(EventEmitter.prototype.hasOwnProperty(key)) {","        pool[key] = EventEmitter.prototype[key];","      }","    }","    //monkey-patch with connect method","    pool.connect = function(cb) {","      var domain = process.domain;","      pool.acquire(function(err, client) {","        if(domain) {","          cb = domain.bind(cb);","        }","        if(err)  return cb(err, null, function() {/*NOOP*/});","        client.poolCount++;","        cb(null, client, function(err) {","          if(err) {","            pool.destroy(client);","          } else {","            pool.release(client);","          }","        });","      });","    };","    return pool;","}","","module.exports = newGenericPool;",""],"l":{"1":6,"3":6,"4":6,"5":6,"7":1,"8":0,"9":0,"15":0,"17":1,"18":0,"19":0,"20":0,"21":0,"26":0,"27":0,"31":0,"32":0,"33":0,"34":0,"38":0,"39":0,"40":0,"41":0,"42":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"55":0,"58":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/defaults.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/defaults.js","s":{"1":1},"b":{"1":[0,1],"2":[0,1]},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":45,"column":2}}},"branchMap":{"1":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":39},"end":{"line":6,"column":59}},{"start":{"line":6,"column":62},"end":{"line":6,"column":78}}]},"2":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":43},"end":{"line":9,"column":63}},{"start":{"line":9,"column":66},"end":{"line":9,"column":82}}]}},"code":["var defaults = module.exports = {","  // database host defaults to localhost","  host: 'localhost',","","  //database user's name","  user: process.platform === 'win32' ? process.env.USERNAME : process.env.USER,","","  //name of database to connect","  database: process.platform === 'win32' ? process.env.USERNAME : process.env.USER,","","  //database user's password","  password: null,","","  //database port","  port: 5432,","","  //number of rows to return at a time from a prepared statement's","  //portal. 0 will return all rows at once","  rows: 0,","","  // binary result mode","  binary: false,","","  //Connection pool options - see https://github.com/coopernurse/node-pool","  //number of connections to use in connection pool","  //0 will disable connection pooling","  poolSize: 10,","","  //max milliseconds a client can go unused before it is removed","  //from the pool and destroyed","  poolIdleTimeout: 30000,","","  //frequeny to check for idle clients within the client pool","  reapIntervalMillis: 1000,","","  //pool log function / boolean","  poolLog: false,","","  client_encoding: \"\",","","  ssl: false,","","  application_name : undefined,","  fallback_application_name: undefined","};"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEvent.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEvent.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"emitEvent","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":23}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":31}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":34}}},"5":{"name":"(anonymous_5)","line":21,"loc":{"start":{"line":21,"column":15},"end":{"line":21,"column":34}}},"6":{"name":"(anonymous_6)","line":30,"loc":{"start":{"line":30,"column":18},"end":{"line":30,"column":37}}},"7":{"name":"(anonymous_7)","line":35,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":40,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":20}},"3":{"start":{"line":3,"column":1},"end":{"line":10,"column":3}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":50}},"5":{"start":{"line":6,"column":2},"end":{"line":9,"column":3}},"6":{"start":{"line":7,"column":3},"end":{"line":7,"column":26}},"7":{"start":{"line":8,"column":3},"end":{"line":8,"column":34}},"8":{"start":{"line":12,"column":1},"end":{"line":14,"column":3}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":27}},"10":{"start":{"line":16,"column":1},"end":{"line":19,"column":3}},"11":{"start":{"line":17,"column":2},"end":{"line":18,"column":22}},"12":{"start":{"line":18,"column":3},"end":{"line":18,"column":22}},"13":{"start":{"line":21,"column":1},"end":{"line":28,"column":3}},"14":{"start":{"line":22,"column":2},"end":{"line":27,"column":3}},"15":{"start":{"line":23,"column":3},"end":{"line":26,"column":4}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":26}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":11}},"18":{"start":{"line":30,"column":1},"end":{"line":33,"column":3}},"19":{"start":{"line":31,"column":2},"end":{"line":32,"column":25}},"20":{"start":{"line":32,"column":3},"end":{"line":32,"column":25}},"21":{"start":{"line":35,"column":1},"end":{"line":37,"column":3}},"22":{"start":{"line":36,"column":2},"end":{"line":36,"column":17}},"23":{"start":{"line":39,"column":1},"end":{"line":39,"column":13}},"24":{"start":{"line":42,"column":0},"end":{"line":42,"column":27}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"2":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":3},"end":{"line":23,"column":3}},{"start":{"line":23,"column":3},"end":{"line":23,"column":3}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":31,"column":2}},{"start":{"line":31,"column":2},"end":{"line":31,"column":2}}]}},"code":["function emitEvent() {","\tvar callbacks = [];","\tvar emit = function() {","\t\t","\t\tvar copy = callbacks.slice(0, callbacks.length);","\t\tfor (var i = 0; i < copy.length; i++) {","\t\t\tvar callback = copy[i];","\t\t\tcallback.apply(null,arguments);","\t\t}","\t};","","\temit.add = function(callback) {","\t\tcallbacks.push(callback);","\t};","","\temit.tryAdd = function(callback) {","\t\tif (callback)","\t\t\temit.add(callback);","\t};\t","","\temit.remove = function(callback) {","\t\tfor (var i = 0; i < callbacks.length; i++) {\t\t\t","\t\t\tif(callbacks[i] == callback){","\t\t\t\tcallbacks.splice(i,1);","\t\t\t\treturn;","\t\t\t}","\t\t}","\t};","","\temit.tryRemove = function(callback) {","\t\tif(callback)","\t\t\temit.remove(callback);","\t};","","\temit.clear = function() {","\t\tcallbacks = [];","\t};","","\treturn emit;","}","","module.exports = emitEvent;"],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"8":0,"12":0,"13":0,"16":0,"17":0,"18":0,"21":0,"22":0,"23":0,"24":0,"25":0,"30":0,"31":0,"32":0,"35":0,"36":0,"39":0,"42":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilter.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"emptyFilter","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":18},"end":{"line":10,"column":34}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":33}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":18},"end":{"line":26,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":76}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":66}},"3":{"start":{"line":3,"column":0},"end":{"line":5,"column":1}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":50}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":50}},"7":{"start":{"line":10,"column":0},"end":{"line":16,"column":2}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":41}},"9":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":40}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":17}},"12":{"start":{"line":18,"column":0},"end":{"line":24,"column":2}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":41}},"14":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"15":{"start":{"line":21,"column":8},"end":{"line":21,"column":39}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":17}},"17":{"start":{"line":26,"column":0},"end":{"line":28,"column":2}},"18":{"start":{"line":27,"column":4},"end":{"line":27,"column":23}},"19":{"start":{"line":30,"column":0},"end":{"line":30,"column":29}}},"branchMap":{},"code":["var negotiateRawSqlFilter = require('./table/column/negotiateRawSqlFilter');","var parameterized = require('./table/query/newParameterized')('');","function emptyFilter() {","    return emptyFilter.and.apply(null, arguments);","}","","emptyFilter.sql = parameterized.sql;","emptyFilter.parameters = parameterized.parameters;","","emptyFilter.and = function(other) {","    other = negotiateRawSqlFilter(other);","    for (var i = 1; i < arguments.length; i++) {","        other = other.and(arguments[i]);","    }","    return other;","};","","emptyFilter.or = function(other) {","    other = negotiateRawSqlFilter(other);","    for (var i = 1; i < arguments.length; i++) {","        other = other.or(arguments[i]);","    }","    return other;","};","","emptyFilter.not = function() {","    return emptyFilter;","};","","module.exports = emptyFilter;",""],"l":{"1":1,"2":1,"3":1,"4":0,"7":1,"8":1,"10":1,"11":0,"12":0,"13":0,"15":0,"18":1,"19":0,"20":0,"21":0,"23":0,"26":1,"27":0,"30":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateRawSqlFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateRawSqlFilter.js","s":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":23},"end":{"line":1,"column":34}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":28}}},"3":{"name":"negotiateRawSqlFilter","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":60}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":51}},"4":{"start":{"line":6,"column":0},"end":{"line":9,"column":2}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":45}},"7":{"start":{"line":11,"column":0},"end":{"line":31,"column":1}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":20}},"9":{"start":{"line":13,"column":4},"end":{"line":27,"column":5}},"10":{"start":{"line":14,"column":8},"end":{"line":15,"column":26}},"11":{"start":{"line":15,"column":12},"end":{"line":15,"column":26}},"12":{"start":{"line":16,"column":8},"end":{"line":24,"column":30}},"13":{"start":{"line":17,"column":12},"end":{"line":17,"column":33}},"14":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"15":{"start":{"line":19,"column":16},"end":{"line":19,"column":35}},"16":{"start":{"line":21,"column":12},"end":{"line":21,"column":48}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":30}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":26}},"19":{"start":{"line":29,"column":4},"end":{"line":29,"column":61}},"20":{"start":{"line":30,"column":4},"end":{"line":30,"column":37}},"21":{"start":{"line":33,"column":0},"end":{"line":33,"column":39}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":8}},{"start":{"line":14,"column":8},"end":{"line":14,"column":8}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":8}},{"start":{"line":16,"column":8},"end":{"line":16,"column":8}}]},"4":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":12}},{"start":{"line":18,"column":12},"end":{"line":18,"column":12}}]}},"code":["var newParameterized = function() {","    newParameterized = require('../query/newParameterized');","    return newParameterized.apply(null, arguments);","};","","var newBoolean = function() {","    newBoolean = require('./newBoolean');","    return newBoolean.apply(null, arguments);","};","","function negotiateRawSqlFilter(filter) {","    var params = [];","    if (filter) {","        if (filter.and)","            return filter;","        if (filter.sql) {","            var sql = filter.sql;","            if (typeof filter.sql == 'function') {                ","                sql = filter.sql();","            }","            params.push(sql, filter.parameters);","        }","        else","            params = [filter];","    } else {","        params = [filter];","    }","","    var parameterized = newParameterized.apply(null, params);","    return newBoolean(parameterized);","}","","module.exports = negotiateRawSqlFilter;"],"l":{"1":1,"2":0,"3":0,"6":1,"7":0,"8":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"24":0,"26":0,"29":0,"30":0,"33":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newArray.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newArray.js","s":{"1":1,"2":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":2}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":11}}},"branchMap":{},"code":["module.exports = function() {","\treturn [];","};"],"l":{"1":1,"2":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollection.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollection.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newCollection","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":17},"end":{"line":9,"column":43}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":30}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":16},"end":{"line":17,"column":34}}},"5":{"name":"onEach","line":22,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":33}}},"6":{"name":"(anonymous_6)","line":27,"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":35}}},"7":{"name":"onEach","line":33,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":33}}},"8":{"name":"(anonymous_8)","line":42,"loc":{"start":{"line":42,"column":13},"end":{"line":42,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":53,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":15}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":25}},"4":{"start":{"line":4,"column":4},"end":{"line":6,"column":5}},"5":{"start":{"line":5,"column":8},"end":{"line":5,"column":39}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":31}},"7":{"start":{"line":9,"column":4},"end":{"line":11,"column":6}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":37}},"9":{"start":{"line":13,"column":4},"end":{"line":15,"column":6}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":30}},"11":{"start":{"line":17,"column":4},"end":{"line":25,"column":6}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":24}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":26}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":22}},"15":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":33}},"17":{"start":{"line":27,"column":4},"end":{"line":38,"column":6}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":22}},"19":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"20":{"start":{"line":30,"column":12},"end":{"line":30,"column":38}},"21":{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},"22":{"start":{"line":34,"column":12},"end":{"line":34,"column":37}},"23":{"start":{"line":35,"column":12},"end":{"line":35,"column":20}},"24":{"start":{"line":40,"column":4},"end":{"line":49,"column":7}},"25":{"start":{"line":43,"column":9},"end":{"line":43,"column":24}},"26":{"start":{"line":44,"column":9},"end":{"line":46,"column":10}},"27":{"start":{"line":45,"column":10},"end":{"line":45,"column":37}},"28":{"start":{"line":47,"column":12},"end":{"line":47,"column":26}},"29":{"start":{"line":52,"column":4},"end":{"line":52,"column":13}},"30":{"start":{"line":55,"column":0},"end":{"line":55,"column":31}}},"branchMap":{},"code":["function newCollection() {","    var c = {};","    var initialArgs = [];","    for (var i = 0; i < arguments.length; i++) {","        initialArgs.push(arguments[i]);","    }","    var ranges = [initialArgs];","","    c.addRange = function(otherCollection) {","        ranges.push(otherCollection);","    };","","    c.add = function(element) {","        c.addRange([element]);","    };","","    c.toArray = function(element) {","        var result = [];","        c.forEach(onEach);","        return result;","","        function onEach(element) {","            result.push(element);","        }","    };","","    c.forEach = function(callback) {","        var index = 0;","        for (var i = 0; i < ranges.length; i++) {","            ranges[i].forEach(onEach);","        }","","        function onEach(element) {","            callback(element, index);","            index++;","        }","","    };","","    Object.defineProperty(c, 'length', {","        enumerable: false,","        get: function() {","        \tvar result = 0;","        \tfor (var i = 0; i < ranges.length; i++) {","        \t\tresult += ranges[i].length;","        \t}","            return result;","        },","    });","","","    return c;","}","","module.exports = newCollection;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":0,"9":0,"10":0,"13":0,"14":0,"17":0,"18":0,"19":0,"20":0,"22":1,"23":0,"27":0,"28":0,"29":0,"30":0,"33":1,"34":0,"35":0,"40":0,"43":0,"44":0,"45":0,"47":0,"52":0,"55":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutable.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newImmutable","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}}},"2":{"name":"run","line":6,"loc":{"start":{"line":6,"column":1},"end":{"line":6,"column":16}}},"3":{"name":"runFirst","line":11,"loc":{"start":{"line":11,"column":1},"end":{"line":11,"column":25}}},"4":{"name":"runNIgnoreArgs","line":17,"loc":{"start":{"line":17,"column":1},"end":{"line":17,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":20,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":12}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":21}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}},"5":{"start":{"line":6,"column":1},"end":{"line":9,"column":2}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":38}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"8":{"start":{"line":11,"column":1},"end":{"line":15,"column":2}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":33}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":24}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":16}},"12":{"start":{"line":17,"column":1},"end":{"line":19,"column":2}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":16}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"branchMap":{},"code":["function newImmutable(fn) {","\tvar result;","\tvar _run = runFirst;","\treturn run;","","\tfunction run() {\t","\t\tvar args = [].slice.call(arguments);\t","\t\treturn _run(args);","\t}","","\tfunction runFirst(args) {","\t\tresult =  fn.apply(null, args);","\t\t_run = runNIgnoreArgs;","\t\treturn result;","\t}","","\tfunction runNIgnoreArgs() {","\t\treturn result;","\t}","}","","module.exports = newImmutable;"],"l":{"1":1,"2":0,"3":0,"4":0,"6":1,"7":0,"8":0,"11":1,"12":0,"13":0,"14":0,"17":1,"18":0,"22":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"_new","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":25}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":26},"end":{"line":28,"column":47}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":19},"end":{"line":34,"column":40}}},"4":{"name":"(anonymous_4)","line":39,"loc":{"start":{"line":39,"column":17},"end":{"line":39,"column":40}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":20},"end":{"line":43,"column":43}}},"6":{"name":"(anonymous_6)","line":47,"loc":{"start":{"line":47,"column":19},"end":{"line":47,"column":42}}},"7":{"name":"(anonymous_7)","line":51,"loc":{"start":{"line":51,"column":20},"end":{"line":51,"column":47}}},"8":{"name":"(anonymous_8)","line":55,"loc":{"start":{"line":55,"column":30},"end":{"line":55,"column":57}}},"9":{"name":"(anonymous_9)","line":59,"loc":{"start":{"line":59,"column":24},"end":{"line":59,"column":35}}},"10":{"name":"(anonymous_10)","line":62,"loc":{"start":{"line":62,"column":34},"end":{"line":62,"column":45}}},"11":{"name":"call","line":66,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":30}}},"12":{"name":"(anonymous_12)","line":74,"loc":{"start":{"line":74,"column":20},"end":{"line":74,"column":31}}},"13":{"name":"(anonymous_13)","line":77,"loc":{"start":{"line":77,"column":30},"end":{"line":77,"column":41}}},"14":{"name":"(anonymous_14)","line":82,"loc":{"start":{"line":82,"column":23},"end":{"line":82,"column":34}}},"15":{"name":"(anonymous_15)","line":86,"loc":{"start":{"line":86,"column":33},"end":{"line":86,"column":44}}},"16":{"name":"(anonymous_16)","line":90,"loc":{"start":{"line":90,"column":33},"end":{"line":90,"column":44}}},"17":{"name":"(anonymous_17)","line":97,"loc":{"start":{"line":97,"column":34},"end":{"line":97,"column":45}}},"18":{"name":"(anonymous_18)","line":104,"loc":{"start":{"line":104,"column":19},"end":{"line":104,"column":30}}},"19":{"name":"(anonymous_19)","line":113,"loc":{"start":{"line":113,"column":22},"end":{"line":113,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":52}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":39}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":55}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":46}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":53}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":59}},"16":{"start":{"line":16,"column":0},"end":{"line":16,"column":67}},"17":{"start":{"line":18,"column":0},"end":{"line":118,"column":1}},"18":{"start":{"line":19,"column":4},"end":{"line":19,"column":29}},"19":{"start":{"line":20,"column":4},"end":{"line":20,"column":30}},"20":{"start":{"line":21,"column":4},"end":{"line":21,"column":31}},"21":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"22":{"start":{"line":23,"column":4},"end":{"line":23,"column":37}},"23":{"start":{"line":24,"column":4},"end":{"line":24,"column":38}},"24":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":35}},"26":{"start":{"line":28,"column":4},"end":{"line":32,"column":6}},"27":{"start":{"line":29,"column":8},"end":{"line":29,"column":53}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":46}},"29":{"start":{"line":31,"column":8},"end":{"line":31,"column":40}},"30":{"start":{"line":34,"column":4},"end":{"line":37,"column":6}},"31":{"start":{"line":35,"column":8},"end":{"line":35,"column":53}},"32":{"start":{"line":36,"column":8},"end":{"line":36,"column":40}},"33":{"start":{"line":39,"column":4},"end":{"line":41,"column":6}},"34":{"start":{"line":40,"column":8},"end":{"line":40,"column":41}},"35":{"start":{"line":43,"column":4},"end":{"line":45,"column":6}},"36":{"start":{"line":44,"column":8},"end":{"line":44,"column":37}},"37":{"start":{"line":47,"column":4},"end":{"line":49,"column":6}},"38":{"start":{"line":48,"column":8},"end":{"line":48,"column":36}},"39":{"start":{"line":51,"column":4},"end":{"line":53,"column":6}},"40":{"start":{"line":52,"column":8},"end":{"line":52,"column":48}},"41":{"start":{"line":55,"column":4},"end":{"line":57,"column":6}},"42":{"start":{"line":56,"column":8},"end":{"line":56,"column":58}},"43":{"start":{"line":59,"column":4},"end":{"line":61,"column":6}},"44":{"start":{"line":60,"column":8},"end":{"line":60,"column":44}},"45":{"start":{"line":62,"column":4},"end":{"line":64,"column":6}},"46":{"start":{"line":63,"column":8},"end":{"line":63,"column":54}},"47":{"start":{"line":66,"column":4},"end":{"line":72,"column":5}},"48":{"start":{"line":67,"column":8},"end":{"line":67,"column":33}},"49":{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},"50":{"start":{"line":69,"column":12},"end":{"line":69,"column":37}},"51":{"start":{"line":71,"column":8},"end":{"line":71,"column":44}},"52":{"start":{"line":74,"column":4},"end":{"line":76,"column":6}},"53":{"start":{"line":75,"column":8},"end":{"line":75,"column":40}},"54":{"start":{"line":77,"column":4},"end":{"line":79,"column":6}},"55":{"start":{"line":78,"column":8},"end":{"line":78,"column":50}},"56":{"start":{"line":82,"column":4},"end":{"line":84,"column":6}},"57":{"start":{"line":83,"column":8},"end":{"line":83,"column":43}},"58":{"start":{"line":86,"column":4},"end":{"line":88,"column":6}},"59":{"start":{"line":87,"column":8},"end":{"line":87,"column":53}},"60":{"start":{"line":90,"column":4},"end":{"line":95,"column":6}},"61":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"62":{"start":{"line":92,"column":12},"end":{"line":92,"column":59}},"63":{"start":{"line":94,"column":8},"end":{"line":94,"column":21}},"64":{"start":{"line":97,"column":4},"end":{"line":102,"column":6}},"65":{"start":{"line":98,"column":8},"end":{"line":100,"column":9}},"66":{"start":{"line":99,"column":12},"end":{"line":99,"column":60}},"67":{"start":{"line":101,"column":8},"end":{"line":101,"column":21}},"68":{"start":{"line":104,"column":4},"end":{"line":106,"column":6}},"69":{"start":{"line":105,"column":8},"end":{"line":105,"column":39}},"70":{"start":{"line":108,"column":4},"end":{"line":108,"column":45}},"71":{"start":{"line":109,"column":4},"end":{"line":109,"column":58}},"72":{"start":{"line":111,"column":4},"end":{"line":111,"column":64}},"73":{"start":{"line":112,"column":4},"end":{"line":112,"column":72}},"74":{"start":{"line":113,"column":4},"end":{"line":116,"column":6}},"75":{"start":{"line":114,"column":8},"end":{"line":114,"column":32}},"76":{"start":{"line":115,"column":8},"end":{"line":115,"column":21}},"77":{"start":{"line":117,"column":4},"end":{"line":117,"column":17}},"78":{"start":{"line":120,"column":0},"end":{"line":120,"column":22}}},"branchMap":{},"code":["var newColumn = require('./table/column/newColumn');","var column = require('./table/column');","var join = require('./table/join');","var hasMany = require('./table/hasMany');","var hasOne = require('./table/hasOne');","var getMany = require('./table/getMany');","var getById = require('./table/getById');","var tryGetById = require('./table/tryGetById');","var tryGetFirst = require('./table/tryGetFirstFromDb');","var newCache = require('./table/newRowCache');","var newContext = require('./newObject');","var insert = require('./table/insert');","var _delete = require('./table/delete');","var cascadeDelete = require('./table/cascadeDelete');","var createReadStream = require('./table/createReadStream');","var createJSONReadStream = require('./table/createJSONReadStream');","","function _new(tableName) {","    var table = newContext();","    table._dbName = tableName;","    table._primaryColumns = [];","    table._columns = [];","    table._columnDiscriminators = [];","    table._formulaDiscriminators = [];","    table._relations = {};","    table._cache = newCache(table);","","    table.primaryColumn = function(columnName) {","        var columnDef = newColumn(table, columnName);","        table._primaryColumns.push(columnDef);","        return column(columnDef, table);","    };","","    table.column = function(columnName) {","        var columnDef = newColumn(table, columnName);","        return column(columnDef, table);","    };","","    table.join = function(relatedTable) {","        return join(table, relatedTable);","    };","","    table.hasMany = function(joinRelation) {","        return hasMany(joinRelation);","    };","","    table.hasOne = function(joinRelation) {","        return hasOne(joinRelation);","    };","","    table.getMany = function(filter, strategy) {","        return getMany(table, filter, strategy);","    };","","    table.getMany.exclusive = function(filter, strategy) {","        return getMany.exclusive(table, filter, strategy);","    };","","    table.tryGetFirst = function() {","        return call(tryGetFirst, arguments);","    };","    table.tryGetFirst.exclusive = function() {","        return call(tryGetFirst.exclusive, arguments);","    };","","    function call(func, args) {","        var mergedArgs = [table];","        for (var i = 0; i < args.length; i++) {","            mergedArgs.push(args[i]);","        }","        return func.apply(null, mergedArgs);","    }","","    table.getById = function() {","        return call(getById, arguments);","    };","    table.getById.exclusive = function() {","        return call(getById.exclusive, arguments);","    };","","","    table.tryGetById = function() {","        return call(tryGetById, arguments);","    };","","    table.tryGetById.exclusive = function() {","        return call(tryGetById.exclusive, arguments);","    };","","    table.columnDiscriminators = function() {","        for (var i = 0; i < arguments.length; i++) {","            table._columnDiscriminators.push(arguments[i]);","        }","        return table;","    };","","    table.formulaDiscriminators = function() {","        for (var i = 0; i < arguments.length; i++) {","            table._formulaDiscriminators.push(arguments[i]);","        }","        return table;","    };","","    table.insert = function() {","        return call(insert, arguments);","    };","","    table.delete = _delete.bind(null, table);","    table.cascadeDelete = cascadeDelete.bind(null, table);","","    table.createReadStream = createReadStream.bind(null, table);","    table.createJSONReadStream = createJSONReadStream.bind(null, table);","    table.exclusive = function() {","        table._exclusive = true;","        return table;","    };","    return table;","}","","module.exports = _new;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"28":0,"29":0,"30":0,"31":0,"34":0,"35":0,"36":0,"39":0,"40":0,"43":0,"44":0,"47":0,"48":0,"51":0,"52":0,"55":0,"56":0,"59":0,"60":0,"62":0,"63":0,"66":1,"67":0,"68":0,"69":0,"71":0,"74":0,"75":0,"77":0,"78":0,"82":0,"83":0,"86":0,"87":0,"90":0,"91":0,"92":0,"94":0,"97":0,"98":0,"99":0,"101":0,"104":0,"105":0,"108":0,"109":0,"111":0,"112":0,"113":0,"114":0,"115":0,"117":0,"120":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newColumn.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newColumn.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":17},"end":{"line":10,"column":38}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":31}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":14},"end":{"line":24,"column":34}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":14},"end":{"line":29,"column":34}}},"5":{"name":"(anonymous_5)","line":34,"loc":{"start":{"line":34,"column":21},"end":{"line":34,"column":41}}},"6":{"name":"(anonymous_6)","line":39,"loc":{"start":{"line":39,"column":17},"end":{"line":39,"column":37}}},"7":{"name":"(anonymous_7)","line":44,"loc":{"start":{"line":44,"column":24},"end":{"line":44,"column":44}}},"8":{"name":"(anonymous_8)","line":49,"loc":{"start":{"line":49,"column":13},"end":{"line":49,"column":37}}},"9":{"name":"(anonymous_9)","line":56,"loc":{"start":{"line":56,"column":8},"end":{"line":56,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}},"9":{"start":{"line":10,"column":0},"end":{"line":74,"column":2}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":12}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":51}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":18}},"13":{"start":{"line":14,"column":1},"end":{"line":14,"column":16}},"14":{"start":{"line":15,"column":1},"end":{"line":15,"column":17}},"15":{"start":{"line":16,"column":1},"end":{"line":16,"column":24}},"16":{"start":{"line":17,"column":1},"end":{"line":17,"column":17}},"17":{"start":{"line":19,"column":1},"end":{"line":22,"column":3}},"18":{"start":{"line":20,"column":2},"end":{"line":20,"column":30}},"19":{"start":{"line":21,"column":2},"end":{"line":21,"column":29}},"20":{"start":{"line":24,"column":1},"end":{"line":27,"column":3}},"21":{"start":{"line":25,"column":2},"end":{"line":25,"column":30}},"22":{"start":{"line":26,"column":2},"end":{"line":26,"column":31}},"23":{"start":{"line":29,"column":1},"end":{"line":32,"column":3}},"24":{"start":{"line":30,"column":2},"end":{"line":30,"column":30}},"25":{"start":{"line":31,"column":2},"end":{"line":31,"column":31}},"26":{"start":{"line":34,"column":1},"end":{"line":37,"column":3}},"27":{"start":{"line":35,"column":2},"end":{"line":35,"column":30}},"28":{"start":{"line":36,"column":2},"end":{"line":36,"column":38}},"29":{"start":{"line":39,"column":1},"end":{"line":42,"column":3}},"30":{"start":{"line":40,"column":2},"end":{"line":40,"column":30}},"31":{"start":{"line":41,"column":2},"end":{"line":41,"column":34}},"32":{"start":{"line":44,"column":1},"end":{"line":47,"column":3}},"33":{"start":{"line":45,"column":2},"end":{"line":45,"column":30}},"34":{"start":{"line":46,"column":2},"end":{"line":46,"column":41}},"35":{"start":{"line":49,"column":1},"end":{"line":54,"column":3}},"36":{"start":{"line":50,"column":2},"end":{"line":50,"column":30}},"37":{"start":{"line":51,"column":2},"end":{"line":51,"column":42}},"38":{"start":{"line":52,"column":2},"end":{"line":52,"column":35}},"39":{"start":{"line":53,"column":2},"end":{"line":53,"column":22}},"40":{"start":{"line":56,"column":1},"end":{"line":59,"column":3}},"41":{"start":{"line":57,"column":2},"end":{"line":57,"column":30}},"42":{"start":{"line":58,"column":2},"end":{"line":58,"column":26}},"43":{"start":{"line":61,"column":1},"end":{"line":61,"column":16}},"44":{"start":{"line":62,"column":1},"end":{"line":62,"column":13}},"45":{"start":{"line":63,"column":1},"end":{"line":63,"column":19}},"46":{"start":{"line":64,"column":1},"end":{"line":64,"column":13}},"47":{"start":{"line":65,"column":1},"end":{"line":65,"column":22}},"48":{"start":{"line":66,"column":1},"end":{"line":66,"column":13}},"49":{"start":{"line":67,"column":1},"end":{"line":67,"column":29}},"50":{"start":{"line":68,"column":1},"end":{"line":68,"column":13}},"51":{"start":{"line":69,"column":1},"end":{"line":69,"column":19}},"52":{"start":{"line":70,"column":1},"end":{"line":70,"column":13}},"53":{"start":{"line":71,"column":1},"end":{"line":71,"column":26}},"54":{"start":{"line":72,"column":1},"end":{"line":72,"column":13}},"55":{"start":{"line":73,"column":1},"end":{"line":73,"column":10}}},"branchMap":{},"code":["var equal = require('./equal');","var notEqual = require('./notEqual');","var lessThan = require('./lessThan');","var lessThanOrEqual = require('./lessThanOrEqual');","var greaterThan = require('./greaterThan');","var greaterThanOrEqual = require('./greaterThanOrEqual');","var _in = require('./in');","var _extractAlias = require('./extractAlias');","","module.exports = function(table,name) {\t","\tvar c = {};","\tvar extractAlias = _extractAlias.bind(null,table);","\tc._dbName = name;","\tc.alias = name;\t","\tc.dbNull = null;\t","\ttable._columns.push(c);","\ttable[name] = c;","\t","\tc.equal = function(arg,alias) {","\t\talias = extractAlias(alias);","\t\treturn equal(c,arg, alias);","\t};","","\tc.notEqual = function(arg,alias) {","\t\talias = extractAlias(alias);","\t\treturn notEqual(c,arg,alias);","\t};","","\tc.lessThan = function(arg,alias) {","\t\talias = extractAlias(alias);","\t\treturn lessThan(c,arg,alias);","\t};","","\tc.lessThanOrEqual = function(arg,alias) {","\t\talias = extractAlias(alias);","\t\treturn lessThanOrEqual(c,arg,alias);","\t};","","\tc.greaterThan = function(arg,alias) {","\t\talias = extractAlias(alias);","\t\treturn greaterThan(c,arg,alias);","\t};","","\tc.greaterThanOrEqual = function(arg,alias) {","\t\talias = extractAlias(alias);","\t\treturn greaterThanOrEqual(c,arg,alias);","\t};","","\tc.between = function(from,to,alias) {","\t\talias = extractAlias(alias);","\t\tfrom = c.greaterThanOrEqual(from,alias);","\t\tto = c.lessThanOrEqual(to,alias);","\t\treturn from.and(to);","\t};","","\tc.in = function(arg,alias) {","\t\talias = extractAlias(alias);","\t\treturn _in(c,arg,alias);","\t};","","\tc.eq = c.equal;","\tc.EQ = c.eq;","\tc.ne = c.notEqual;","\tc.NE = c.ne;","\tc.gt = c.greaterThan;","\tc.GT = c.gt;","\tc.ge = c.greaterThanOrEqual;","\tc.GE = c.ge;","\tc.lt = c.lessThan;","\tc.LT = c.lt;","\tc.le = c.lessThanOrEqual;","\tc.LE = c.le;","\treturn c;","};"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"29":0,"30":0,"31":0,"34":0,"35":0,"36":0,"39":0,"40":0,"41":0,"44":0,"45":0,"46":0,"49":0,"50":0,"51":0,"52":0,"53":0,"56":0,"57":0,"58":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/equal.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/equal.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"equal","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}},"4":{"start":{"line":5,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":20}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":44}},"7":{"start":{"line":8,"column":1},"end":{"line":9,"column":26}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":57}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":42}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":27}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":23}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},{"start":{"line":8,"column":1},"end":{"line":8,"column":1}}]}},"code":["var newBoolean = require('./newBoolean');","var nullOperator = ' is ';","var encodeFilterArg = require('./encodeFilterArg');","","function equal(column,arg,alias) {\t","\tvar operator = '=';","\tvar encoded = encodeFilterArg(column, arg);","\tif (encoded.sql() == 'null') ","\t\toperator = nullOperator;","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = equal;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newBoolean.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newBoolean.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"newBoolean","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":31}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":12},"end":{"line":21,"column":28}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":11},"end":{"line":31,"column":27}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":23}}},"7":{"name":"_nextNewBoolean","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":63}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":65}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":63}},"5":{"start":{"line":6,"column":0},"end":{"line":47,"column":1}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":15}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":36}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":37}},"9":{"start":{"line":11,"column":4},"end":{"line":14,"column":6}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":46}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":42}},"12":{"start":{"line":16,"column":4},"end":{"line":19,"column":6}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":47}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":42}},"15":{"start":{"line":21,"column":4},"end":{"line":29,"column":6}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":45}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":63}},"18":{"start":{"line":24,"column":8},"end":{"line":24,"column":46}},"19":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"20":{"start":{"line":26,"column":12},"end":{"line":26,"column":42}},"21":{"start":{"line":28,"column":8},"end":{"line":28,"column":20}},"22":{"start":{"line":31,"column":4},"end":{"line":39,"column":6}},"23":{"start":{"line":32,"column":8},"end":{"line":32,"column":45}},"24":{"start":{"line":33,"column":8},"end":{"line":33,"column":62}},"25":{"start":{"line":34,"column":8},"end":{"line":34,"column":46}},"26":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"27":{"start":{"line":36,"column":12},"end":{"line":36,"column":41}},"28":{"start":{"line":38,"column":8},"end":{"line":38,"column":20}},"29":{"start":{"line":41,"column":4},"end":{"line":44,"column":6}},"30":{"start":{"line":42,"column":8},"end":{"line":42,"column":61}},"31":{"start":{"line":43,"column":8},"end":{"line":43,"column":42}},"32":{"start":{"line":46,"column":4},"end":{"line":46,"column":13}},"33":{"start":{"line":49,"column":0},"end":{"line":52,"column":1}},"34":{"start":{"line":50,"column":4},"end":{"line":50,"column":45}},"35":{"start":{"line":51,"column":4},"end":{"line":51,"column":34}},"36":{"start":{"line":54,"column":0},"end":{"line":54,"column":28}}},"branchMap":{},"code":["var nextNewBoolean = _nextNewBoolean;","var negotiateRawSqlFilter = require('./negotiateRawSqlFilter');","var negotiateNextAndFilter = require('./negotiateNextAndFilter');","var negotiateNextOrFilter = require('./negotiateNextOrFilter');","","function newBoolean(filter) {","    var c = {};","    c.sql = filter.sql.bind(filter);","    c.parameters = filter.parameters;","","    c.append = function(other) {","        var nextFilter = filter.append(other);","        return nextNewBoolean(nextFilter);","    };","","    c.prepend = function(other) {","        var nextFilter = filter.prepend(other);","        return nextNewBoolean(nextFilter);","    };","","    c.and = function(other) {","        other = negotiateRawSqlFilter(other);","        var nextFilter = negotiateNextAndFilter(filter, other);","        var next = nextNewBoolean(nextFilter);","        for (var i = 1; i < arguments.length; i++) {","            next = next.and(arguments[i]);","        }","        return next;","    };","","    c.or = function(other) {","        other = negotiateRawSqlFilter(other);","        var nextFilter = negotiateNextOrFilter(filter, other);","        var next = nextNewBoolean(nextFilter);","        for (var i = 1; i < arguments.length; i++) {","            next = next.or(arguments[i]);","        }","        return next;","    };","","    c.not = function() {","        var nextFilter = filter.prepend('NOT (').append(')');","        return nextNewBoolean(nextFilter);","    };","","    return c;","}","","function _nextNewBoolean(filter) {","    nextNewBoolean = require('./newBoolean');","    return nextNewBoolean(filter);","}","","module.exports = newBoolean;",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"16":0,"17":0,"18":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"28":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":0,"41":0,"42":0,"43":0,"46":0,"49":1,"50":0,"51":0,"54":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextAndFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextAndFilter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateNextAndFilter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":16}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":16}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":45}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function negotiateNextAndFilter(filter, other) {\t\t","\tif (!other.sql())","\t\treturn filter;","\treturn filter.append(' AND ').append(other);","}","","module.exports = negotiateNextAndFilter;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextOrFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextOrFilter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateNextOrFilter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":16}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":16}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":69}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function negotiateNextOrFilter(filter, other) {","\tif (!other.sql())","\t\treturn filter;","\treturn filter.prepend('(').append(' OR ').append(other).append(')');","}","","module.exports = negotiateNextOrFilter;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/encodeFilterArg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/encodeFilterArg.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"encodeFilterArg","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":5,"column":28}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":28}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function encodeFilterArg (column, arg) {","\tif (column.encode.safe)","\t\treturn column.encode.safe(arg);","\telse","\t\treturn column.encode(arg);","}","","module.exports = encodeFilterArg;"],"l":{"1":1,"2":0,"3":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/notEqual.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/notEqual.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"notEqual","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":5,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":21}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":44}},"7":{"start":{"line":8,"column":1},"end":{"line":9,"column":26}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":57}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":42}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":27}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":26}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},{"start":{"line":8,"column":1},"end":{"line":8,"column":1}}]}},"code":["var newBoolean = require('./newBoolean');","var encodeFilterArg = require('./encodeFilterArg');","var nullOperator = ' is not ';","","function notEqual(column,arg,alias) {\t","\tvar operator = '<>';","\tvar encoded = encodeFilterArg(column, arg);","\tif (encoded.sql() == 'null') ","\t\toperator = nullOperator;","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = notEqual;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThan.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThan.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"lessThanOrEqual","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":20}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":57}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":27}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}}},"branchMap":{},"code":["var newBoolean = require('./newBoolean');","var encodeFilterArg = require('./encodeFilterArg');","","function lessThanOrEqual(column,arg,alias) {\t","\tvar operator = '<';","\tvar encoded = encodeFilterArg(column, arg);","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter = encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = lessThanOrEqual;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThanOrEqual.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThanOrEqual.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"lessThanOrEqual","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":21}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":57}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":27}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}}},"branchMap":{},"code":["var newBoolean = require('./newBoolean');","var encodeFilterArg = require('./encodeFilterArg');","","function lessThanOrEqual(column,arg,alias) {\t","\tvar operator = '<=';","\tvar encoded = encodeFilterArg(column, arg);","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter = encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = lessThanOrEqual;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThan.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThan.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"greaterThan","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":20}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":57}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":42}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":27}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}}},"branchMap":{},"code":["var newBoolean = require('./newBoolean');","var encodeFilterArg = require('./encodeFilterArg');","","function greaterThan(column,arg,alias) {\t","\tvar operator = '>';","\tvar encoded = encodeFilterArg(column, arg);","\tvar firstPart = alias + '.' + column._dbName + operator;\t","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = greaterThan;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThanOrEqual.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThanOrEqual.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"greaterThanOrEqual","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":21}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":57}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":42}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":27}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}}},"branchMap":{},"code":["var newBoolean = require('./newBoolean');","var encodeFilterArg = require('./encodeFilterArg');","","function greaterThanOrEqual(column,arg,alias) {\t","\tvar operator = '>=';","\tvar encoded = encodeFilterArg(column, arg);","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = greaterThanOrEqual;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/in.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/in.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"_in","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}},"4":{"start":{"line":5,"column":0},"end":{"line":22,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":12}},"6":{"start":{"line":7,"column":1},"end":{"line":10,"column":2}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":36}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":28}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":55}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":49}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":21}},"12":{"start":{"line":15,"column":1},"end":{"line":19,"column":2}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":51}},"14":{"start":{"line":17,"column":2},"end":{"line":17,"column":66}},"15":{"start":{"line":18,"column":2},"end":{"line":18,"column":18}},"16":{"start":{"line":20,"column":1},"end":{"line":20,"column":37}},"17":{"start":{"line":21,"column":1},"end":{"line":21,"column":27}},"18":{"start":{"line":24,"column":0},"end":{"line":24,"column":21}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":["var newParameterized = require('../query/newParameterized');","var newBoolean = require('./newBoolean');","var encodeFilterArg = require('./encodeFilterArg');","","function _in(column,values,alias) {","\tvar filter;","\tif (values.length === 0) {","\t\tfilter =  newParameterized('1=2');","\t\treturn newBoolean(filter);","\t}","\tvar firstPart = alias + '.' + column._dbName + ' in '; ","\tvar parameterized = newParameterized(firstPart);\t","\tvar separator = '(';","","\tfor (var i = 0; i < values.length; i++) {","\t\tvar encoded = encodeFilterArg(column, values[i]);","\t\tparameterized = parameterized.append(separator).append(encoded);","\t\tseparator = ',';\t\t","\t}","\tfilter =  parameterized.append(')');","\treturn newBoolean(filter);","}","","module.exports = _in;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"20":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/extractAlias.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/extractAlias.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"extract","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":23}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":23}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":22}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function extract(table, optionalAlias) {","\tif (optionalAlias)","\t\treturn optionalAlias;","\treturn table._dbName;","}","","module.exports = extract;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"defineColumn","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":23}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":10},"end":{"line":9,"column":21}}},"4":{"name":"(anonymous_4)","line":14,"loc":{"start":{"line":14,"column":10},"end":{"line":14,"column":21}}},"5":{"name":"(anonymous_5)","line":19,"loc":{"start":{"line":19,"column":10},"end":{"line":19,"column":21}}},"6":{"name":"(anonymous_6)","line":24,"loc":{"start":{"line":24,"column":13},"end":{"line":24,"column":55}}},"7":{"name":"(anonymous_7)","line":29,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":24}}},"8":{"name":"(anonymous_8)","line":34,"loc":{"start":{"line":34,"column":12},"end":{"line":34,"column":23}}},"9":{"name":"(anonymous_9)","line":39,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":29}}},"10":{"name":"(anonymous_10)","line":44,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":24}}},"11":{"name":"(anonymous_11)","line":52,"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":28}}},"12":{"name":"(anonymous_12)","line":57,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":63,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":12}},"3":{"start":{"line":4,"column":1},"end":{"line":7,"column":3}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":44}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":11}},"6":{"start":{"line":9,"column":1},"end":{"line":12,"column":3}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":35}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":11}},"9":{"start":{"line":14,"column":1},"end":{"line":17,"column":3}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":35}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":11}},"12":{"start":{"line":19,"column":1},"end":{"line":22,"column":3}},"13":{"start":{"line":20,"column":2},"end":{"line":20,"column":35}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":11}},"15":{"start":{"line":24,"column":1},"end":{"line":27,"column":3}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":70}},"17":{"start":{"line":26,"column":2},"end":{"line":26,"column":11}},"18":{"start":{"line":29,"column":1},"end":{"line":32,"column":3}},"19":{"start":{"line":30,"column":2},"end":{"line":30,"column":38}},"20":{"start":{"line":31,"column":2},"end":{"line":31,"column":11}},"21":{"start":{"line":34,"column":1},"end":{"line":37,"column":3}},"22":{"start":{"line":35,"column":2},"end":{"line":35,"column":37}},"23":{"start":{"line":36,"column":2},"end":{"line":36,"column":11}},"24":{"start":{"line":39,"column":1},"end":{"line":42,"column":3}},"25":{"start":{"line":40,"column":2},"end":{"line":40,"column":25}},"26":{"start":{"line":41,"column":2},"end":{"line":41,"column":11}},"27":{"start":{"line":44,"column":1},"end":{"line":50,"column":3}},"28":{"start":{"line":45,"column":2},"end":{"line":45,"column":30}},"29":{"start":{"line":46,"column":2},"end":{"line":46,"column":25}},"30":{"start":{"line":47,"column":2},"end":{"line":47,"column":24}},"31":{"start":{"line":48,"column":2},"end":{"line":48,"column":23}},"32":{"start":{"line":49,"column":2},"end":{"line":49,"column":11}},"33":{"start":{"line":52,"column":1},"end":{"line":55,"column":3}},"34":{"start":{"line":53,"column":2},"end":{"line":53,"column":24}},"35":{"start":{"line":54,"column":2},"end":{"line":54,"column":11}},"36":{"start":{"line":57,"column":1},"end":{"line":60,"column":3}},"37":{"start":{"line":58,"column":2},"end":{"line":58,"column":30}},"38":{"start":{"line":59,"column":2},"end":{"line":59,"column":11}},"39":{"start":{"line":62,"column":1},"end":{"line":62,"column":10}},"40":{"start":{"line":65,"column":0},"end":{"line":65,"column":30}}},"branchMap":{},"code":["function defineColumn(column, table) {\t","\tvar c = {};","","\tc.string = function() {","\t\trequire('./column/string')(table, column);","\t\treturn c;","\t};","","\tc.json = function() {","\t\trequire('./column/json')(column);","\t\treturn c;","\t};","","\tc.guid = function() {","\t\trequire('./column/guid')(column);","\t\treturn c;","\t};","","\tc.date = function() {","\t\trequire('./column/date')(column);","\t\treturn c;","\t};","","\tc.numeric = function(optionalPrecision,optionalScale) {","\t\trequire('./column/numeric')(column,optionalPrecision,optionalScale);","\t\treturn c;","\t};","","\tc.boolean = function() {","\t\trequire('./column/boolean')(column);","\t\treturn c;","\t};","","\tc.binary = function() {","\t\trequire('./column/binary')(column);","\t\treturn c;","\t};","","\tc.default = function(value) {","\t\tcolumn.default = value;","\t\treturn c;","\t};","","\tc.as = function(alias) {","\t\tvar oldAlias = column.alias;","\t\tdelete table[oldAlias];","\t\ttable[alias] = column;","\t\tcolumn.alias = alias;","\t\treturn c;","\t};","","\tc.dbNull = function(value) {","\t\tcolumn.dbNull = value;","\t\treturn c;","\t};","","\tc.serializable = function(value) {","\t\tcolumn.serializable = value;","\t\treturn c;\t\t","\t};","","\treturn c;","}","","module.exports = defineColumn;"],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"9":0,"10":0,"11":0,"14":0,"15":0,"16":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"29":0,"30":0,"31":0,"34":0,"35":0,"36":0,"39":0,"40":0,"41":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"52":0,"53":0,"54":0,"57":0,"58":0,"59":0,"62":0,"65":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/join.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/join.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"newJoin","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":11},"end":{"line":8,"column":22}}},"3":{"name":"verifyColumnExists","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":44}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":27}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":17},"end":{"line":32,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":40,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":15}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":25}},"6":{"start":{"line":8,"column":4},"end":{"line":14,"column":6}},"7":{"start":{"line":9,"column":8},"end":{"line":12,"column":9}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":45}},"9":{"start":{"line":11,"column":12},"end":{"line":11,"column":43}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":17}},"11":{"start":{"line":16,"column":4},"end":{"line":24,"column":5}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":43}},"13":{"start":{"line":18,"column":8},"end":{"line":22,"column":9}},"14":{"start":{"line":19,"column":12},"end":{"line":20,"column":23}},"15":{"start":{"line":20,"column":16},"end":{"line":20,"column":23}},"16":{"start":{"line":23,"column":8},"end":{"line":23,"column":57}},"17":{"start":{"line":26,"column":4},"end":{"line":38,"column":6}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":77}},"19":{"start":{"line":28,"column":8},"end":{"line":28,"column":35}},"20":{"start":{"line":29,"column":8},"end":{"line":29,"column":49}},"21":{"start":{"line":31,"column":8},"end":{"line":35,"column":11}},"22":{"start":{"line":33,"column":16},"end":{"line":33,"column":51}},"23":{"start":{"line":37,"column":8},"end":{"line":37,"column":24}},"24":{"start":{"line":39,"column":4},"end":{"line":39,"column":13}},"25":{"start":{"line":42,"column":0},"end":{"line":42,"column":25}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":12}},{"start":{"line":19,"column":12},"end":{"line":19,"column":12}}]}},"code":["var newJoinRelation = require('./newJoinRelation');","var newRelatedTable = require('./newRelatedTable');","","function newJoin(parentTable, childTable) {","    var c = {};","    var columnNames = [];","","    c.by = function() {","        for (var i = 0; i < arguments.length; i++) {","            verifyColumnExists(arguments[i]);","            columnNames.push(arguments[i]);","        }","        return c;","    };","","    function verifyColumnExists(columnName) {","        var columns = parentTable._columns;","        for (var i = 0; i < columns.length; i++) {","            if (columns[i]._dbName === columnName)","                return;","","        }","        throw new Error('Unknown column: ' + columnName);","    }","","    c.as = function(alias) {","        var relation = newJoinRelation(parentTable, childTable, columnNames);","        relation.leftAlias = alias;","        parentTable._relations[alias] = relation;","","        Object.defineProperty(parentTable, alias, {","            get: function() {","                return newRelatedTable([relation]);","            }","        });","","        return relation;","    };","    return c;","}","","module.exports = newJoin;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"13":0,"16":1,"17":0,"18":0,"19":0,"20":0,"23":0,"26":0,"27":0,"28":0,"29":0,"31":0,"33":0,"37":0,"39":0,"42":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelation.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelation.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":0,"50":0,"51":0,"52":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"_newJoin","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":56}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":33}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":14},"end":{"line":20,"column":25}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":35}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":21},"end":{"line":35,"column":38}}},"6":{"name":"(anonymous_6)","line":39,"loc":{"start":{"line":39,"column":21},"end":{"line":39,"column":38}}},"7":{"name":"(anonymous_7)","line":43,"loc":{"start":{"line":43,"column":15},"end":{"line":43,"column":32}}},"8":{"name":"(anonymous_8)","line":47,"loc":{"start":{"line":47,"column":20},"end":{"line":47,"column":37}}},"9":{"name":"addColumns","line":59,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":26}}},"10":{"name":"tryAdd","line":69,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":28}}},"11":{"name":"isNullOrUndefined","line":79,"loc":{"start":{"line":79,"column":4},"end":{"line":79,"column":37}}},"12":{"name":"parentToKey","line":83,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":33}}},"13":{"name":"(anonymous_13)","line":84,"loc":{"start":{"line":84,"column":40},"end":{"line":84,"column":57}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":59}},"2":{"start":{"line":8,"column":0},"end":{"line":89,"column":1}},"3":{"start":{"line":9,"column":4},"end":{"line":9,"column":15}},"4":{"start":{"line":10,"column":4},"end":{"line":10,"column":32}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":30}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":19}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":39}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":17}},"9":{"start":{"line":16,"column":4},"end":{"line":18,"column":6}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":29}},"11":{"start":{"line":20,"column":4},"end":{"line":22,"column":6}},"12":{"start":{"line":21,"column":8},"end":{"line":21,"column":25}},"13":{"start":{"line":24,"column":4},"end":{"line":31,"column":6}},"14":{"start":{"line":25,"column":8},"end":{"line":25,"column":38}},"15":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"16":{"start":{"line":27,"column":12},"end":{"line":27,"column":31}},"17":{"start":{"line":29,"column":8},"end":{"line":29,"column":44}},"18":{"start":{"line":30,"column":8},"end":{"line":30,"column":41}},"19":{"start":{"line":33,"column":4},"end":{"line":33,"column":33}},"20":{"start":{"line":35,"column":4},"end":{"line":37,"column":6}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":40}},"22":{"start":{"line":39,"column":4},"end":{"line":41,"column":6}},"23":{"start":{"line":40,"column":8},"end":{"line":40,"column":39}},"24":{"start":{"line":43,"column":4},"end":{"line":45,"column":6}},"25":{"start":{"line":44,"column":8},"end":{"line":44,"column":35}},"26":{"start":{"line":47,"column":4},"end":{"line":55,"column":6}},"27":{"start":{"line":48,"column":8},"end":{"line":48,"column":38}},"28":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"29":{"start":{"line":51,"column":12},"end":{"line":51,"column":24}},"30":{"start":{"line":53,"column":8},"end":{"line":53,"column":44}},"31":{"start":{"line":54,"column":8},"end":{"line":54,"column":53}},"32":{"start":{"line":57,"column":4},"end":{"line":57,"column":13}},"33":{"start":{"line":59,"column":4},"end":{"line":67,"column":5}},"34":{"start":{"line":60,"column":8},"end":{"line":60,"column":49}},"35":{"start":{"line":61,"column":8},"end":{"line":66,"column":9}},"36":{"start":{"line":62,"column":12},"end":{"line":62,"column":39}},"37":{"start":{"line":63,"column":12},"end":{"line":63,"column":30}},"38":{"start":{"line":64,"column":12},"end":{"line":65,"column":23}},"39":{"start":{"line":65,"column":16},"end":{"line":65,"column":23}},"40":{"start":{"line":69,"column":4},"end":{"line":77,"column":5}},"41":{"start":{"line":70,"column":8},"end":{"line":76,"column":9}},"42":{"start":{"line":71,"column":12},"end":{"line":71,"column":38}},"43":{"start":{"line":72,"column":12},"end":{"line":75,"column":13}},"44":{"start":{"line":73,"column":16},"end":{"line":73,"column":39}},"45":{"start":{"line":74,"column":16},"end":{"line":74,"column":23}},"46":{"start":{"line":79,"column":4},"end":{"line":81,"column":5}},"47":{"start":{"line":80,"column":8},"end":{"line":80,"column":51}},"48":{"start":{"line":83,"column":4},"end":{"line":88,"column":5}},"49":{"start":{"line":84,"column":8},"end":{"line":86,"column":11}},"50":{"start":{"line":85,"column":12},"end":{"line":85,"column":40}},"51":{"start":{"line":87,"column":8},"end":{"line":87,"column":27}},"52":{"start":{"line":91,"column":0},"end":{"line":91,"column":26}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":8}},{"start":{"line":26,"column":8},"end":{"line":26,"column":8}}]},"2":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":12},"end":{"line":64,"column":12}},{"start":{"line":64,"column":12},"end":{"line":64,"column":12}}]},"4":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":72,"column":12}},{"start":{"line":72,"column":12},"end":{"line":72,"column":12}}]},"5":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":15},"end":{"line":80,"column":28}},{"start":{"line":80,"column":32},"end":{"line":80,"column":50}}]}},"code":["var newLeg = require('./relation/newJoinLeg'),","    getById = require('./getById'),","    nullPromise = require('./nullPromise'),","    newGetRelated = require('./newGetRelated'),","    getRelatives = require('./joinRelation/getRelatives'),","    tryGetFromCacheById = require('./tryGetFromCacheById');","","function _newJoin(parentTable, childTable, columnNames) {","    var c = {};","    c.parentTable = parentTable;","    c.childTable = childTable;","    c.columns = [];","    var columns = parentTable._columns;","    addColumns();","","    c.accept = function(visitor) {","        visitor.visitJoin(c);","    };","","    c.toLeg = function() {","        return newLeg(c);","    };","","    c.getFromDb = function(parent) {","        var key = parentToKey(parent);","        if (key.some(isNullOrUndefined)) {","            return nullPromise;","        }","        var args = [childTable].concat(key);","        return getById.apply(null, args);","    };","","    c.getFromCache = c.getFromDb;","","    c.toGetRelated = function(parent) {","        return newGetRelated(parent, c);","    };","","    c.getRelatives = function(parent) {","        return getRelatives(parent, c);","    };","","    c.expand = function(parent) {","        parent.expand(c.leftAlias);","    };","","    c.getRowsSync = function(parent) {","        var key = parentToKey(parent);","","        if (key.some(isNullOrUndefined)) {","            return null;","        }","        var args = [childTable].concat(key);","        return tryGetFromCacheById.apply(null, args);","    };","","    return c;","","    function addColumns() {","        var numberOfColumns = columnNames.length;","        for (var i = 0; i < columns.length; i++) {","            var curColumn = columns[i];","            tryAdd(curColumn);","            if (numberOfColumns === c.columns.length)","                return;","        }","    }","","    function tryAdd(column) {","        for (var i = 0; i < columnNames.length; i++) {","            var name = columnNames[i];","            if (column._dbName === name) {","                c.columns.push(column);","                return;","            }","        }","    }","","    function isNullOrUndefined(item) {","        return item === null || item === undefined;","    }","","    function parentToKey(parent) {","        var primaryKeys = c.columns.map(function(column) {","            return parent[column.alias];","        });","        return primaryKeys;","    }","}","","module.exports = _newJoin;",""],"l":{"1":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"20":0,"21":0,"24":0,"25":0,"26":0,"27":0,"29":0,"30":0,"33":0,"35":0,"36":0,"39":0,"40":0,"43":0,"44":0,"47":0,"48":0,"50":0,"51":0,"53":0,"54":0,"57":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"79":1,"80":0,"83":1,"84":0,"85":0,"87":0,"91":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newJoinLeg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newJoinLeg.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newLeg","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":3,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":15}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":34}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":15}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":29}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":32}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":30}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":28}},"12":{"start":{"line":14,"column":1},"end":{"line":16,"column":3}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":23}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":10}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":24}}},"branchMap":{},"code":["var newCollection = require('../../newCollection');","","function newLeg(relation) {","\tvar c = {};","\tvar span = {};\t","\tspan.table = relation.childTable;","\tspan.legs = newCollection();","\tc.span = span;","\tc.name = relation.leftAlias;","\tc.table = relation.parentTable;","\tc.columns = relation.columns;","\tc.expand = relation.expand;","","\tc.accept = function(visitor) {","\t\tvisitor.visitJoin(c);","\t};","","\treturn c;\t","}","","module.exports = newLeg;",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"18":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getById.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getById.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"getById","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":1},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":48}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":57}},"6":{"start":{"line":7,"column":1},"end":{"line":8,"column":33}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":33}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":44}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":44}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":[" var tryGetFromCacheById = require('./tryGetFromCacheById');"," var getFromDbById = require('./getFromDbById');"," var resultToPromise = require('./resultToPromise');","","function getById() {","\tvar cached =  tryGetFromCacheById.apply(null,arguments);","\tif (cached)","\t\treturn resultToPromise(cached);","\treturn getFromDbById.apply(null,arguments);","}","","getById.exclusive = getFromDbById.exclusive;","","module.exports = getById;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromCacheById.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromCacheById.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"tryGet","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":50}}},"2":{"name":"addPkValue","line":6,"loc":{"start":{"line":6,"column":1},"end":{"line":6,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":11,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":22}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":43}},"5":{"start":{"line":6,"column":1},"end":{"line":8,"column":2}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":44}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":37}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":24}}},"branchMap":{},"code":["function tryGet(table, id, id2, optionalStrategy) {","\tvar fakeRow = {};","\tvar args = arguments;","\ttable._primaryColumns.forEach(addPkValue);","","\tfunction addPkValue(pkColumn, index){","\t\tfakeRow[pkColumn.alias] = args[index + 1];","\t}","","\treturn table._cache.tryGet(fakeRow);","}","module.exports = tryGet;"],"l":{"1":1,"2":0,"3":0,"4":0,"6":1,"7":0,"10":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getFromDbById.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getFromDbById.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":0,"13":0,"14":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"get","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}},"2":{"name":"onResult","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":27}}},"4":{"name":"onResult","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":66}},"4":{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":8,"column":46}},"6":{"start":{"line":8,"column":12},"end":{"line":8,"column":46}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":19}},"8":{"start":{"line":13,"column":0},"end":{"line":21,"column":1}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":76}},"10":{"start":{"line":16,"column":4},"end":{"line":20,"column":5}},"11":{"start":{"line":17,"column":8},"end":{"line":18,"column":46}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":46}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":19}},"14":{"start":{"line":23,"column":0},"end":{"line":23,"column":21}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":8}},{"start":{"line":17,"column":8},"end":{"line":17,"column":8}}]}},"code":["var tryGetFromDbById = require('./tryGetFromDbById');","","function get() {","    return tryGetFromDbById.apply(null, arguments).then(onResult);","","    function onResult(row) {","        if (row === null)","            throw new Error(\"Row not found.\");","        return row;","    }","}","","get.exclusive = function() {","    return tryGetFromDbById.exclusive.apply(null, arguments).then(onResult);","","    function onResult(row) {","        if (row === null)","            throw new Error(\"Row not found.\");","        return row;","    }","}","","module.exports = get;",""],"l":{"1":1,"3":1,"4":0,"6":1,"7":0,"8":0,"9":0,"13":1,"14":0,"16":1,"17":0,"18":0,"19":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromDbById.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromDbById.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"tryGet","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":18}}},"2":{"name":"tryGet","line":12,"loc":{"start":{"line":12,"column":19},"end":{"line":12,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":68}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":60}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":58}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":54}},"9":{"start":{"line":12,"column":0},"end":{"line":17,"column":1}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":60}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":29}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":58}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":64}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":24}}},"branchMap":{},"code":["var newPrimaryKeyFilter = require('./newPrimaryKeyFilter');","var tryGetFirstFromDb = require('./tryGetFirstFromDb');","var extractStrategy = require('./tryGetFromDbById/extractStrategy');","","function tryGet() {","    var filter = newPrimaryKeyFilter.apply(null, arguments);","    var table = arguments[0];","    var strategy = extractStrategy.apply(null, arguments);","    return tryGetFirstFromDb(table, filter, strategy);","}","","tryGet.exclusive = function tryGet() {","    var filter = newPrimaryKeyFilter.apply(null, arguments);","    var table = arguments[0];","    var strategy = extractStrategy.apply(null, arguments);","    return tryGetFirstFromDb.exclusive(table, filter, strategy);","}","","module.exports = tryGet;",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"15":0,"16":0,"19":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newPrimaryKeyFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newPrimaryKeyFilter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"primaryKeyFilter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":11,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":44}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":24}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":43}},"5":{"start":{"line":5,"column":1},"end":{"line":9,"column":2}},"6":{"start":{"line":6,"column":2},"end":{"line":6,"column":23}},"7":{"start":{"line":7,"column":2},"end":{"line":7,"column":47}},"8":{"start":{"line":8,"column":2},"end":{"line":8,"column":33}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}}},"branchMap":{},"code":["function primaryKeyFilter(table,id,id2,etc) {","\tvar primaryColumns = table._primaryColumns;","\tvar key = arguments[1];","\tvar filter = primaryColumns[0].equal(key);","\tfor (var i = 1; i < primaryColumns.length; i++) {","\t\tkey = arguments[i+1];","\t\tvar colFilter = primaryColumns[i].equal(key);","\t\tfilter = filter.and(colFilter);","\t}\t","\treturn filter;","}","","module.exports = primaryKeyFilter;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFirstFromDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFirstFromDb.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":1,"14":0,"15":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"tryGet","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}}},"2":{"name":"filterRows","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":26}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":19},"end":{"line":15,"column":53}}},"4":{"name":"setLimit","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":34}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":61}},"6":{"start":{"line":9,"column":0},"end":{"line":13,"column":1}},"7":{"start":{"line":10,"column":4},"end":{"line":11,"column":23}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":16}},"10":{"start":{"line":15,"column":0},"end":{"line":18,"column":1}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":34}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":71}},"13":{"start":{"line":20,"column":0},"end":{"line":22,"column":1}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":48}},"15":{"start":{"line":24,"column":0},"end":{"line":24,"column":24}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]}},"code":["var getMany = require('./getMany');","var util = require('util');","","function tryGet(table, filter, strategy) {","    strategy = setLimit(strategy);","    return getMany(table, filter, strategy).then(filterRows);","}","","function filterRows(rows) {","    if (rows.length > 0)","        return rows[0];","    return null;","}","","tryGet.exclusive = function(table, filter, strategy) {","    strategy = setLimit(strategy);","    return getMany.exclusive(table, filter, strategy).then(filterRows);","}","","function setLimit(strategy) {","    return util._extend({ limit: 1 }, strategy);","}","","module.exports = tryGet;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"9":1,"10":0,"11":0,"12":0,"15":1,"16":0,"17":0,"20":1,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getMany.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getMany.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":1,"19":0,"20":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"getMany","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}}},"2":{"name":"getManyCore","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":54}}},"3":{"name":"onResult","line":20,"loc":{"start":{"line":20,"column":1},"end":{"line":20,"column":27}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":20},"end":{"line":25,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":59}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":70}},"7":{"start":{"line":8,"column":0},"end":{"line":10,"column":1}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":43}},"9":{"start":{"line":12,"column":0},"end":{"line":23,"column":1}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":27}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":15}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":40}},"13":{"start":{"line":16,"column":1},"end":{"line":16,"column":43}},"14":{"start":{"line":17,"column":1},"end":{"line":17,"column":87}},"15":{"start":{"line":18,"column":1},"end":{"line":18,"column":47}},"16":{"start":{"line":20,"column":1},"end":{"line":22,"column":2}},"17":{"start":{"line":21,"column":2},"end":{"line":21,"column":35}},"18":{"start":{"line":25,"column":0},"end":{"line":27,"column":2}},"19":{"start":{"line":26,"column":1},"end":{"line":26,"column":48}},"20":{"start":{"line":29,"column":0},"end":{"line":29,"column":25}}},"branchMap":{},"code":["var newQuery = require('./newQuery');","var executeQueries = require('./executeQueries');","var resultToRows = require('./resultToRows');","var strategyToSpan = require('./strategyToSpan');","var emptyInnerJoin = require('./query/newParameterized')();","var negotiateRawSqlFilter = require('./column/negotiateRawSqlFilter');","","function getMany(table,filter,strategy) {","\treturn getManyCore(table,filter,strategy);","}","","function getManyCore(table,filter,strategy,exclusive) {","\tvar alias = table._dbName;","\tvar noOrderBy;","\tfilter = negotiateRawSqlFilter(filter);","\tvar span = strategyToSpan(table,strategy);","\tvar queries = newQuery([],table,filter,span,alias,emptyInnerJoin,noOrderBy,exclusive);","\treturn executeQueries(queries).then(onResult);","\t","\tfunction onResult(result) {","\t\treturn resultToRows(span,result);","\t}","}","","getMany.exclusive = function(table,filter,strategy) {","\treturn getManyCore(table,filter,strategy,true);","};","","module.exports = getMany;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"20":1,"21":0,"25":1,"26":0,"29":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newQuery","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":79}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":55}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":61}},"7":{"start":{"line":8,"column":0},"end":{"line":18,"column":1}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":32}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":60}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":32}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":93}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":27}},"13":{"start":{"line":14,"column":1},"end":{"line":14,"column":102}},"14":{"start":{"line":16,"column":1},"end":{"line":16,"column":58}},"15":{"start":{"line":17,"column":1},"end":{"line":17,"column":16}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":26}}},"branchMap":{},"code":["var newSingleQuery = require('./query/newSingleQuery');","var addSubQueries = require('./query/addSubQueries');","var extractFilter = require('./query/extractFilter');","var extractOrderBy = require('./query/extractOrderBy');","var extractLimit = require('./query/extractLimit');","var extractLimitQuery = require('./query/extractLimitQuery');","","function newQuery(queries,table,filter,span,alias,innerJoin,orderBy,exclusive) {\t","\tfilter = extractFilter(filter);","\torderBy = extractOrderBy(table,alias,span.orderBy,orderBy);","\tvar limit = extractLimit(span);","\tvar singleQuery = newSingleQuery(table,filter,span,alias,innerJoin,orderBy,limit,exclusive);","\tqueries.push(singleQuery);","\tsingleQuery.queryContext.limitQuery  = extractLimitQuery(table, filter, span, alias, orderBy, limit);","","\taddSubQueries(queries,table,filter,span,alias,innerJoin);","\treturn queries;","}","","module.exports = newQuery;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/newSingleQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/newSingleQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":73}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":9},"end":{"line":12,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":57}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":55}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":63}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":61}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":69}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":55}},"8":{"start":{"line":9,"column":0},"end":{"line":27,"column":1}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":12}},"10":{"start":{"line":12,"column":1},"end":{"line":21,"column":3}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":27}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":49}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":37}},"14":{"start":{"line":16,"column":2},"end":{"line":16,"column":39}},"15":{"start":{"line":17,"column":2},"end":{"line":17,"column":49}},"16":{"start":{"line":18,"column":2},"end":{"line":18,"column":40}},"17":{"start":{"line":19,"column":2},"end":{"line":19,"column":66}},"18":{"start":{"line":20,"column":2},"end":{"line":20,"column":139}},"19":{"start":{"line":23,"column":1},"end":{"line":23,"column":63}},"20":{"start":{"line":24,"column":1},"end":{"line":24,"column":60}},"21":{"start":{"line":26,"column":1},"end":{"line":26,"column":10}},"22":{"start":{"line":29,"column":0},"end":{"line":29,"column":22}}},"branchMap":{},"code":["var newColumnSql = require('./singleQuery/newColumnSql');","var newJoinSql = require('./singleQuery/newJoinSql');","var newWhereSql = require('./singleQuery/newWhereSql');","var newQueryContext = require('./singleQuery/newQueryContext');","var negotiateLimit = require('./singleQuery/negotiateLimit');","var negotiateExclusive = require('./singleQuery/negotiateExclusive');","var extractLimitQuery = require('./extractLimitQuery');","","function _new(table,filter,span,alias,innerJoin,orderBy,limit,exclusive) {","\tvar c = {};","","\tc.sql = function() {","\t\tvar name = table._dbName;","\t\tvar columnSql = newColumnSql(table,span,alias);","\t\tvar innerJoinSql = innerJoin.sql();","\t\tvar joinSql = newJoinSql(span,alias);","\t\tvar whereSql = newWhereSql(table,filter,alias);","\t\tvar safeLimit = negotiateLimit(limit);","\t\tvar exclusiveClause = negotiateExclusive(table,alias,exclusive);","\t\treturn 'select ' + columnSql + ' from ' + name + ' ' + alias + innerJoinSql + joinSql + whereSql + orderBy + safeLimit + exclusiveClause;","\t};","","\tc.parameters = innerJoin.parameters.concat(filter.parameters);","\tc.queryContext = newQueryContext(filter, alias, innerJoin);","","\treturn c;","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"9":1,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"23":0,"24":0,"26":0,"29":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newColumnSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newColumnSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":69}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":67}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":57}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":43}}},"branchMap":{},"code":["var newShallowColumnSql = require('./columnSql/newShallowColumnSql');","var newJoinedColumnSql = require('./columnSql/newJoinedColumnSql');","","module.exports = function(table,span,alias) {","\tvar shallowColumnSql = newShallowColumnSql(table,alias);","\tvar joinedColumnSql = newJoinedColumnSql(span,alias);","\treturn shallowColumnSql + joinedColumnSql;","};"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/columnSql/newShallowColumnSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/columnSql/newShallowColumnSql.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}}},"2":{"name":"encodeColumn","line":11,"loc":{"start":{"line":11,"column":1},"end":{"line":11,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":14,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":28}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":36}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":30}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":38}},"6":{"start":{"line":6,"column":1},"end":{"line":8,"column":2}},"7":{"start":{"line":7,"column":2},"end":{"line":7,"column":46}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":12}},"9":{"start":{"line":11,"column":1},"end":{"line":13,"column":2}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":50}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":22}}},"branchMap":{},"code":["function _new(table,alias) {","\tvar aliasDot = alias + '.';","\tvar commaAliasDot = ',' + aliasDot;","\tvar columns = table._columns;","\tvar sql = aliasDot + encodeColumn(0);","\tfor (var i = 1; i < columns.length; i++) {","\t\tsql = sql + commaAliasDot + encodeColumn(i);","\t}","\treturn sql;","","\tfunction encodeColumn(i) {","\t\treturn columns[i]._dbName + ' as s' + alias + i;","\t}","}","","module.exports = _new;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"9":0,"11":1,"12":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/columnSql/newJoinedColumnSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/columnSql/newJoinedColumnSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":38}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":29}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":29}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":29}}},"5":{"name":"onEach","line":23,"loc":{"start":{"line":23,"column":1},"end":{"line":23,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":57}},"2":{"start":{"line":3,"column":0},"end":{"line":29,"column":2}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":15}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":14}},"6":{"start":{"line":8,"column":1},"end":{"line":11,"column":3}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":60}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":22}},"9":{"start":{"line":13,"column":1},"end":{"line":15,"column":3}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":19}},"11":{"start":{"line":17,"column":1},"end":{"line":18,"column":3}},"12":{"start":{"line":20,"column":1},"end":{"line":20,"column":27}},"13":{"start":{"line":23,"column":1},"end":{"line":26,"column":2}},"14":{"start":{"line":24,"column":2},"end":{"line":24,"column":16}},"15":{"start":{"line":25,"column":2},"end":{"line":25,"column":10}},"16":{"start":{"line":28,"column":1},"end":{"line":28,"column":12}}},"branchMap":{},"code":["var joinLegToColumnSql = require('./joinLegToColumnSql');","","module.exports = function(span,alias) {","\tvar index = 0;","\tvar c = {};","\tvar sql = '';","","\tc.visitJoin = function(leg) {","\t\tvar joinSql = joinLegToColumnSql(leg,alias + '_' + index);","\t\tsql = sql + joinSql;","\t};","","\tc.visitOne = function (leg) {","\t\tc.visitJoin(leg);","\t};","","\tc.visitMany = function(leg) {","\t};","","\tspan.legs.forEach(onEach);","","","\tfunction onEach(leg) {","\t\tleg.accept(c);","\t\tindex++;","\t}","","\treturn sql;","};"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"8":0,"9":0,"10":0,"13":0,"14":0,"17":0,"20":0,"23":1,"24":0,"25":0,"28":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/columnSql/joinLegToColumnSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/columnSql/joinLegToColumnSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"sql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}}},"2":{"name":"_initJOinedColumnSql","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":21}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":62}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":54}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":49}},"8":{"start":{"line":11,"column":0},"end":{"line":14,"column":1}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":54}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":39}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["var newShallowColumnSql = require('./newShallowColumnSql');\t","var newJoinedColumnSql = _initJOinedColumnSql;","","function sql(leg,alias) {","\tvar span = leg.span;","\tvar shallowColumnSql = newShallowColumnSql(span.table,alias);","\tvar joinedColumnSql = newJoinedColumnSql(span,alias);","\treturn ',' + shallowColumnSql + joinedColumnSql;","}","","function _initJOinedColumnSql(span,alias) {","\tnewJoinedColumnSql = require('./newJoinedColumnSql');\t","\treturn newJoinedColumnSql(span,alias);","} ","","module.exports = sql;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"11":1,"12":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newJoinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newJoinSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"_new","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":29}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":28}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":29}}},"5":{"name":"onEachLeg","line":20,"loc":{"start":{"line":20,"column":1},"end":{"line":20,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":61}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":59}},"3":{"start":{"line":4,"column":0},"end":{"line":28,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":14}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":16}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":12}},"8":{"start":{"line":10,"column":1},"end":{"line":12,"column":3}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":53}},"10":{"start":{"line":14,"column":1},"end":{"line":16,"column":3}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":52}},"12":{"start":{"line":18,"column":1},"end":{"line":18,"column":32}},"13":{"start":{"line":20,"column":1},"end":{"line":24,"column":2}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":35}},"15":{"start":{"line":22,"column":2},"end":{"line":22,"column":16}},"16":{"start":{"line":23,"column":2},"end":{"line":23,"column":10}},"17":{"start":{"line":26,"column":1},"end":{"line":26,"column":30}},"18":{"start":{"line":27,"column":1},"end":{"line":27,"column":12}},"19":{"start":{"line":30,"column":0},"end":{"line":30,"column":22}}},"branchMap":{},"code":["var joinLegToJoinSql = require('./joinSql/joinLegToJoinSql');","var oneLegToJoinSql = require('./joinSql/oneLegToJoinSql');","","function _new(span,alias) {","\tvar sql = '';","\tvar legNo = 0;","\tvar childAlias;","","\tvar c = {};\t","\tc.visitJoin = function(leg) {","\t\tsql = sql + joinLegToJoinSql(leg,alias,childAlias);","\t};","","\tc.visitOne = function(leg) {","\t\tsql = sql + oneLegToJoinSql(leg,alias,childAlias);","\t};","","\tc.visitMany = function(leg) {};","","\tfunction onEachLeg(leg) {","\t\tchildAlias = alias + '_' + legNo;","\t\tleg.accept(c);","\t\tlegNo++;","\t}","","\tspan.legs.forEach(onEachLeg);","\treturn sql;","}","","module.exports = _new;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"14":0,"15":0,"18":0,"20":1,"21":0,"22":0,"23":0,"26":0,"27":0,"30":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/joinLegToJoinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/joinLegToJoinSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"toJoinSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}}},"2":{"name":"_newJoinSql","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":67}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":35}},"5":{"start":{"line":9,"column":0},"end":{"line":12,"column":1}},"6":{"start":{"line":10,"column":1},"end":{"line":10,"column":39}},"7":{"start":{"line":11,"column":1},"end":{"line":11,"column":41}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}}},"branchMap":{},"code":["var joinLegToShallowJoinSql = require('./joinLegToShallowJoinSql');","var newJoinSql = _newJoinSql; ","","function toJoinSql(leg,alias,childAlias) {","\treturn joinLegToShallowJoinSql(leg,alias,childAlias) +","\t\t\tnewJoinSql(leg.span,childAlias);","}","","function _newJoinSql() {","\tnewJoinSql = require('../newJoinSql');","\treturn newJoinSql.apply(null,arguments);","}","","module.exports = toJoinSql;"],"l":{"1":1,"2":1,"4":1,"5":0,"9":1,"10":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/joinLegToShallowJoinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/joinLegToShallowJoinSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"toJoinSql","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":3,"column":0},"end":{"line":8,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":29}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":33}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":100}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}}},"branchMap":{},"code":["var newShallowJoinSql = require('./newShallowJoinSql');","","function toJoinSql(leg,alias,childAlias) {","\tvar parentTable = leg.table;","\tvar columns = leg.columns;","\tvar childTable = leg.span.table;","\treturn ' LEFT' + newShallowJoinSql(childTable,columns,childTable._primaryColumns,alias,childAlias);","}","","module.exports = toJoinSql;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/newShallowJoinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/newShallowJoinSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":72}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":71}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":84}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":12}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":22}}},"branchMap":{},"code":["var newJoinCore = require('./newShallowJoinSqlCore');","","function _new(rightTable,leftColumns,rightColumns,leftAlias,rightAlias) {\t","\tvar sql = ' JOIN ' + rightTable._dbName + ' ' +  rightAlias + ' ON (';","\tsql += newJoinCore(rightTable,leftColumns,rightColumns,leftAlias,rightAlias) + ')';","\treturn sql;","}","","module.exports = _new;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/newShallowJoinSqlCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/newShallowJoinSqlCore.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":72}}},"2":{"name":"addColumn","line":11,"loc":{"start":{"line":11,"column":1},"end":{"line":11,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":3,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":14}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":20}},"5":{"start":{"line":6,"column":1},"end":{"line":9,"column":2}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":15}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":22}},"8":{"start":{"line":11,"column":1},"end":{"line":15,"column":2}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":38}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":40}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":105}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":51}},"13":{"start":{"line":18,"column":1},"end":{"line":18,"column":12}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":22}}},"branchMap":{},"code":["var newDiscriminatorSql = require('./newDiscriminatorSql');","","function _new(rightTable,leftColumns,rightColumns,leftAlias,rightAlias) {\t","\tvar sql = '';","\tvar delimiter = '';","\tfor (var i = 0; i < leftColumns.length; i++) {","\t\taddColumn(i);","\t\tdelimiter = ' AND ';","\t}","\t","\tfunction addColumn(index) {","\t\tvar leftColumn = leftColumns[index];","\t\tvar rightColumn = rightColumns[index];","\t\tsql += delimiter + leftAlias + '.' + leftColumn._dbName + '=' + rightAlias + '.' + rightColumn._dbName;","\t}","","\tsql += newDiscriminatorSql(rightTable,rightAlias);","\treturn sql;","}","","module.exports = _new;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":1,"12":0,"13":0,"14":0,"17":0,"18":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/newDiscriminatorSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/newDiscriminatorSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"newDiscriminatorSql","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":64}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":51}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":25}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":25}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":15}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":37}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},{"start":{"line":5,"column":1},"end":{"line":5,"column":1}}]}},"code":["var newDiscriminatorSqlCore = require('../newDiscriminatorSql');","","function newDiscriminatorSql(table, alias) {","\tvar result = newDiscriminatorSqlCore(table,alias);","\tif (result)","\t\treturn ' AND' + result;","\treturn result;","\t","}","","module.exports = newDiscriminatorSql;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newDiscriminatorSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newDiscriminatorSql.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newDiscriminatorSql","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}}},"2":{"name":"addFormula","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":23}}},"3":{"name":"addColumn","line":17,"loc":{"start":{"line":17,"column":1},"end":{"line":17,"column":22}}},"4":{"name":"and","line":25,"loc":{"start":{"line":25,"column":1},"end":{"line":25,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":31,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":17}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":58}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":56}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":14}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":13}},"7":{"start":{"line":7,"column":1},"end":{"line":7,"column":15}},"8":{"start":{"line":9,"column":1},"end":{"line":15,"column":2}},"9":{"start":{"line":10,"column":2},"end":{"line":14,"column":3}},"10":{"start":{"line":11,"column":3},"end":{"line":11,"column":65}},"11":{"start":{"line":12,"column":3},"end":{"line":12,"column":9}},"12":{"start":{"line":13,"column":3},"end":{"line":13,"column":33}},"13":{"start":{"line":17,"column":1},"end":{"line":23,"column":2}},"14":{"start":{"line":18,"column":2},"end":{"line":22,"column":3}},"15":{"start":{"line":19,"column":3},"end":{"line":19,"column":41}},"16":{"start":{"line":20,"column":3},"end":{"line":20,"column":9}},"17":{"start":{"line":21,"column":3},"end":{"line":21,"column":35}},"18":{"start":{"line":25,"column":1},"end":{"line":30,"column":2}},"19":{"start":{"line":26,"column":2},"end":{"line":29,"column":16}},"20":{"start":{"line":27,"column":3},"end":{"line":27,"column":21}},"21":{"start":{"line":29,"column":3},"end":{"line":29,"column":16}},"22":{"start":{"line":33,"column":0},"end":{"line":33,"column":37}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]}},"code":["function newDiscriminatorSql(table, alias) {","\tvar result = '';","\tvar formulaDiscriminators = table._formulaDiscriminators;","\tvar columnDiscriminators = table._columnDiscriminators;","\taddFormula();","\taddColumn();","\treturn result;","","\tfunction addFormula() {","\t\tfor (var i = 0; i<formulaDiscriminators.length; i++) {","\t\t\tvar current = formulaDiscriminators[i].replace('@this',alias);","\t\t\tand();","\t\t\tresult += '(' + current + ')';","\t\t}","\t}","","\tfunction addColumn() {","\t\tfor (var i = 0; i< columnDiscriminators.length; i++) {","\t\t\tvar current = columnDiscriminators[i];","\t\t\tand();","\t\t\tresult += alias + '.' + current;","\t\t}","\t}","","\tfunction and() {","\t\tif(result)","\t\t\tresult += ' AND ';","\t\telse","\t\t\tresult = ' ';\t","\t}","}","","module.exports = newDiscriminatorSql;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"9":1,"10":0,"11":0,"12":0,"13":0,"17":1,"18":0,"19":0,"20":0,"21":0,"25":1,"26":0,"27":0,"29":0,"33":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/oneLegToJoinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/oneLegToJoinSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"toJoinSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}}},"2":{"name":"_newJoinSql","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":65}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":35}},"5":{"start":{"line":9,"column":0},"end":{"line":12,"column":1}},"6":{"start":{"line":10,"column":1},"end":{"line":10,"column":39}},"7":{"start":{"line":11,"column":1},"end":{"line":11,"column":41}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}}},"branchMap":{},"code":["var oneLegToShallowJoinSql = require('./oneLegToShallowJoinSql');","var newJoinSql = _newJoinSql;","","function toJoinSql(leg,alias,childAlias) {\t","\treturn oneLegToShallowJoinSql(leg,alias,childAlias) +","\t\t\tnewJoinSql(leg.span,childAlias);","}","","function _newJoinSql() {","\tnewJoinSql = require('../newJoinSql');","\treturn newJoinSql.apply(null,arguments);","}","","module.exports = toJoinSql;"],"l":{"1":1,"2":1,"4":1,"5":0,"9":1,"10":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/oneLegToShallowJoinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/joinSql/oneLegToShallowJoinSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"toJoinSql","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":3,"column":0},"end":{"line":8,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":29}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":33}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":101}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}}},"branchMap":{},"code":["var newShallowJoinSql = require('./newShallowJoinSql');","","function toJoinSql(leg,alias,childAlias) {","\tvar parentTable = leg.table;","\tvar columns = leg.columns;","\tvar childTable = leg.span.table;","\treturn ' LEFT' + newShallowJoinSql(childTable,parentTable._primaryColumns,columns,alias,childAlias);","}","","module.exports = toJoinSql;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newWhereSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newWhereSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"newWhereSql","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":3,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":26}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":55}},"7":{"start":{"line":8,"column":1},"end":{"line":11,"column":2}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":33}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":21}},"10":{"start":{"line":12,"column":1},"end":{"line":13,"column":38}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":38}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":15}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":29}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},{"start":{"line":8,"column":1},"end":{"line":8,"column":1}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},{"start":{"line":12,"column":1},"end":{"line":12,"column":1}}]}},"code":["var newDiscriminatorSql = require('./newDiscriminatorSql');","","function newWhereSql(table,filter,alias) {","\tvar separator = ' where';","\tvar result = '';","\tvar sql = filter.sql();","\tvar discriminator = newDiscriminatorSql(table, alias);","\tif (sql) {","\t\tresult = separator + ' ' + sql;","\t\tseparator = ' AND';","\t}","\tif(discriminator)","\t\tresult += separator + discriminator;","\treturn result;\t","}","","module.exports = newWhereSql;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"13":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newQueryContext.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/newQueryContext.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newQueryContext","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":12},"end":{"line":11,"column":31}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":15},"end":{"line":12,"column":29}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":9},"end":{"line":17,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":3,"column":0},"end":{"line":22,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":28}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":12}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":19}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":25}},"8":{"start":{"line":11,"column":1},"end":{"line":15,"column":3}},"9":{"start":{"line":12,"column":2},"end":{"line":14,"column":5}},"10":{"start":{"line":13,"column":3},"end":{"line":13,"column":24}},"11":{"start":{"line":17,"column":1},"end":{"line":19,"column":3}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":16}},"13":{"start":{"line":21,"column":1},"end":{"line":21,"column":10}},"14":{"start":{"line":24,"column":0},"end":{"line":24,"column":33}}},"branchMap":{},"code":["var newCollection = require('../../../newCollection');","","function newQueryContext(filter, alias, innerJoin) {","\tvar rows = newCollection();","","\tvar c = {};","\tc.filter = filter;","\tc.alias = alias;","\tc.innerJoin = innerJoin;","","\tc.expand = function(relation) {","\t\trows.forEach(function(row) {","\t\t\trelation.expand(row);","\t\t});","\t};","","\tc.add = function(row) {","\t\trows.add(row);","\t};","","\treturn c;","}","","module.exports = newQueryContext;"],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"17":0,"18":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/negotiateLimit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/negotiateLimit.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateLimit","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":12}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":12}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":21}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":21}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":14}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":32}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},{"start":{"line":5,"column":1},"end":{"line":5,"column":1}}]}},"code":["function negotiateLimit(limit) {","\tif(!limit)","\t\treturn '';","","\tif(limit.charAt(0) !== ' ')","\t\treturn ' ' + limit;","\treturn limit;","}","","module.exports = negotiateLimit;"],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/negotiateExclusive.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/singleQuery/negotiateExclusive.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateExclusive","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":63}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":7,"column":2}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":58}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":23}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":11}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]},"2":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":5},"end":{"line":4,"column":21}},{"start":{"line":4,"column":25},"end":{"line":4,"column":35}}]}},"code":["var getSessionSingleton = require('../../getSessionSingleton');","","function negotiateExclusive(table, alias, _exclusive) {","\tif (table._exclusive || _exclusive) {","\t\tvar encode =  getSessionSingleton('selectForUpdateSql');","\t\treturn encode(alias);","\t}","\treturn '';","}","","module.exports = negotiateExclusive;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractLimitQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractLimitQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":58}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":61}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"4":{"start":{"line":5,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":6,"column":4},"end":{"line":7,"column":15}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":15}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":53}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":42}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":94}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":52}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":22}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]}},"code":["var newWhereSql = require('./singleQuery/newWhereSql');","var negotiateLimit = require('./singleQuery/negotiateLimit');","var newParameterized = require('./newParameterized');","","function _new(table, filter, span, alias, orderBy, limit) {","    if (!limit)","        return;","    var whereSql = newWhereSql(table, filter, alias);","    var safeLimit = negotiateLimit(limit);","    var sql = 'select * from ' + table._dbName + ' ' + alias + whereSql + orderBy + safeLimit;","","    return newParameterized(sql, filter.parameters);","}","","module.exports = _new;",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":0,"21":1,"22":0,"23":0,"24":1,"25":0,"26":0,"27":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"addSubQueries","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":66}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":29}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":28}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":29}}},"5":{"name":"onEachLeg","line":22,"loc":{"start":{"line":22,"column":1},"end":{"line":22,"column":31}}},"6":{"name":"_joinLegToQuery","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":27}}},"7":{"name":"_oneLegToQuery","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":26}}},"8":{"name":"_manyLegToQuery","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":5,"column":0},"end":{"line":26,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":12}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":12}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":68}},"8":{"start":{"line":10,"column":1},"end":{"line":12,"column":3}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":73}},"10":{"start":{"line":13,"column":1},"end":{"line":15,"column":3}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":72}},"12":{"start":{"line":16,"column":1},"end":{"line":18,"column":3}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":73}},"14":{"start":{"line":20,"column":1},"end":{"line":20,"column":30}},"15":{"start":{"line":22,"column":1},"end":{"line":25,"column":2}},"16":{"start":{"line":23,"column":2},"end":{"line":23,"column":17}},"17":{"start":{"line":24,"column":2},"end":{"line":24,"column":16}},"18":{"start":{"line":28,"column":0},"end":{"line":31,"column":1}},"19":{"start":{"line":29,"column":1},"end":{"line":29,"column":60}},"20":{"start":{"line":30,"column":1},"end":{"line":30,"column":45}},"21":{"start":{"line":33,"column":0},"end":{"line":36,"column":1}},"22":{"start":{"line":34,"column":1},"end":{"line":34,"column":58}},"23":{"start":{"line":35,"column":1},"end":{"line":35,"column":44}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":1}},"25":{"start":{"line":39,"column":1},"end":{"line":39,"column":60}},"26":{"start":{"line":40,"column":1},"end":{"line":40,"column":45}},"27":{"start":{"line":45,"column":0},"end":{"line":45,"column":31}}},"branchMap":{},"code":["var joinLegToQuery = _joinLegToQuery;","var oneLegToQuery = _oneLegToQuery;","var manyLegToQuery = _manyLegToQuery;","","function addSubQueries(queries,table,filter,span,alias,innerJoin) {\t","\tvar c = {};","\tvar _legNo;","\tvar limitQuery = queries[queries.length-1].queryContext.limitQuery;","","\tc.visitJoin = function(leg) {","\t\tjoinLegToQuery(queries, alias,leg,_legNo,filter,innerJoin, limitQuery);","\t};","\tc.visitOne = function(leg) {","\t\toneLegToQuery(queries, alias,leg,_legNo,filter,innerJoin, limitQuery);","\t};","\tc.visitMany = function(leg) {","\t\tmanyLegToQuery(queries, alias,leg,_legNo,filter,innerJoin, limitQuery);","\t};","","\tspan.legs.forEach(onEachLeg);\t","","\tfunction onEachLeg(leg,legNo) {","\t\t_legNo = legNo;","\t\tleg.accept(c);","\t}","}","","function _joinLegToQuery() {","\tjoinLegToQuery = require('./addSubQueries/joinLegToQuery');\t","\treturn joinLegToQuery.apply(null,arguments);","}","","function _oneLegToQuery() {","\toneLegToQuery = require('./addSubQueries/oneLegToQuery');\t","\treturn oneLegToQuery.apply(null,arguments);","}","","function _manyLegToQuery() {","\tmanyLegToQuery = require('./addSubQueries/manyLegToQuery');\t","\treturn manyLegToQuery.apply(null,arguments);","}","","","","module.exports = addSubQueries;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"13":0,"14":0,"16":0,"17":0,"20":0,"22":1,"23":0,"24":0,"28":1,"29":0,"30":0,"33":1,"34":0,"35":0,"38":1,"39":0,"40":0,"45":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractFilter.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"extract","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":16}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":16}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":20}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["var emptyFilter = require('../../emptyFilter');","","function extract(filter) {","\tif (filter)","\t\treturn filter;","\treturn emptyFilter;","}","","module.exports = extract;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractOrderBy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractOrderBy.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"extractOrderBy","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":64}}},"2":{"name":"extractNameAndDirection","line":20,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":46}}},"3":{"name":"pushColumn","line":31,"loc":{"start":{"line":31,"column":4},"end":{"line":31,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":38,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":21}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":10}},"4":{"start":{"line":4,"column":4},"end":{"line":18,"column":5}},"5":{"start":{"line":5,"column":8},"end":{"line":6,"column":32}},"6":{"start":{"line":6,"column":12},"end":{"line":6,"column":32}},"7":{"start":{"line":7,"column":8},"end":{"line":10,"column":9}},"8":{"start":{"line":8,"column":12},"end":{"line":8,"column":71}},"9":{"start":{"line":9,"column":12},"end":{"line":9,"column":74}},"10":{"start":{"line":12,"column":8},"end":{"line":13,"column":35}},"11":{"start":{"line":13,"column":12},"end":{"line":13,"column":35}},"12":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"13":{"start":{"line":16,"column":12},"end":{"line":16,"column":55}},"14":{"start":{"line":20,"column":4},"end":{"line":30,"column":5}},"15":{"start":{"line":21,"column":8},"end":{"line":21,"column":42}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":27}},"17":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"18":{"start":{"line":24,"column":12},"end":{"line":24,"column":42}},"19":{"start":{"line":26,"column":8},"end":{"line":29,"column":10}},"20":{"start":{"line":31,"column":4},"end":{"line":35,"column":5}},"21":{"start":{"line":32,"column":8},"end":{"line":32,"column":36}},"22":{"start":{"line":33,"column":8},"end":{"line":33,"column":37}},"23":{"start":{"line":34,"column":8},"end":{"line":34,"column":63}},"24":{"start":{"line":37,"column":4},"end":{"line":37,"column":44}},"25":{"start":{"line":40,"column":0},"end":{"line":40,"column":32}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"2":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":8}},{"start":{"line":5,"column":8},"end":{"line":5,"column":8}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":8}},{"start":{"line":12,"column":8},"end":{"line":12,"column":8}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"5":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":20},"end":{"line":32,"column":29}},{"start":{"line":32,"column":33},"end":{"line":32,"column":35}}]}},"code":["function extractOrderBy(table, alias, orderBy, originalOrderBy) {","    var dbNames = [];","    var i;","    if (orderBy) {","        if (typeof orderBy === 'string')","            orderBy = [orderBy];","        for (i = 0; i < orderBy.length; i++) {","            var nameAndDirection = extractNameAndDirection(orderBy[i]);","            pushColumn(nameAndDirection.name, nameAndDirection.direction);","        }","    } else {","        if(originalOrderBy)","            return originalOrderBy;","","        for (i = 0; i < table._primaryColumns.length; i++) {","            pushColumn(table._primaryColumns[i].alias);","        }","    }","","    function extractNameAndDirection(orderBy) {","        var elements = orderBy.split(' ');","        var direction = '';","        if (elements.length > 1) {","            direction = ' ' + elements[1];","        }","        return {","            name: elements[0],","            direction: direction","        };","    }","    function pushColumn(property, direction) {","        direction = direction || '';","        var column = table[property];","        dbNames.push(alias + '.' + column._dbName + direction);","    }","","    return ' order by ' + dbNames.join(',');","}","","module.exports = extractOrderBy;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"12":0,"13":0,"15":0,"16":0,"20":1,"21":0,"22":0,"23":0,"24":0,"26":0,"31":1,"32":0,"33":0,"34":0,"37":0,"40":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractLimit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractLimit.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"extractLimit","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":4,"column":2}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":11}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":30}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function extractLimit(span) {","\tif (span.limit) {","\t\treturn ' limit ' + span.limit;","\t}","\treturn '';","}","","module.exports = extractLimit;"],"l":{"1":1,"2":0,"3":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":1,"13":0,"14":0,"15":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"resultToRows","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}}},"2":{"name":"onResult","line":8,"loc":{"start":{"line":8,"column":1},"end":{"line":8,"column":27}}},"3":{"name":"onSubRows","line":15,"loc":{"start":{"line":15,"column":1},"end":{"line":15,"column":22}}},"4":{"name":"_subResultToRows","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}},"4":{"start":{"line":5,"column":0},"end":{"line":18,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":44}},"6":{"start":{"line":8,"column":1},"end":{"line":10,"column":2}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":35}},"8":{"start":{"line":12,"column":1},"end":{"line":12,"column":16}},"9":{"start":{"line":13,"column":1},"end":{"line":13,"column":54}},"10":{"start":{"line":15,"column":1},"end":{"line":17,"column":2}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":21}},"12":{"start":{"line":20,"column":0},"end":{"line":23,"column":1}},"13":{"start":{"line":21,"column":1},"end":{"line":21,"column":61}},"14":{"start":{"line":22,"column":1},"end":{"line":22,"column":37}},"15":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}},"branchMap":{},"code":["var all = require('./promise').all;","var subResultToRows = _subResultToRows;","var dbRowsToRows = require('./resultToRows/dbRowsToRows');","","function resultToRows(span,result) {","\tvar rowsPromise = result[0].then(onResult);","","\tfunction onResult(result) {","\t\treturn dbRowsToRows(span,result);","\t}","","\tresult.shift();","\treturn subResultToRows(span, result).then(onSubRows);","","\tfunction onSubRows() {","\t\treturn rowsPromise;","\t}","}","","function _subResultToRows(span,result) {","\tsubResultToRows = require('./resultToRows/subResultToRows');","\treturn subResultToRows(span,result);","}","","module.exports = resultToRows;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"8":1,"9":0,"12":0,"13":0,"15":1,"16":0,"20":1,"21":0,"22":0,"25":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/dbRowsToRows.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/dbRowsToRows.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"dbRowsToRows","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":39}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":4},"end":{"line":10,"column":5}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":60}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":23}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":16}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"branchMap":{},"code":["var dbRowToRow = require('./dbRowToRow');","var newRowArray = require('../rowArray');","","function dbRowsToRows(span, dbRows) {","    var rows = newRowArray(span.table);","    var queryContext = dbRows.queryContext;","    for (var i = 0; i < dbRows.length; i++) {","        var row = dbRowToRow(span, dbRows[i], queryContext);","        rows.push(row);","    }","    return rows;","}","","module.exports = dbRowsToRows;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/dbRowToRow.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/dbRowToRow.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":1,"25":0,"26":0,"27":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"dbRowToRow","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":14},"end":{"line":16,"column":28}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":15},"end":{"line":21,"column":29}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":15},"end":{"line":26,"column":29}}},"5":{"name":"onEach","line":32,"loc":{"start":{"line":32,"column":1},"end":{"line":32,"column":23}}},"6":{"name":"_nextDbRowToRow","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":63}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":6,"column":0},"end":{"line":37,"column":1}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":24}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":43}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":42}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":33}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":26}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":25}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":12}},"12":{"start":{"line":16,"column":1},"end":{"line":19,"column":3}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":34}},"14":{"start":{"line":18,"column":2},"end":{"line":18,"column":18}},"15":{"start":{"line":21,"column":1},"end":{"line":24,"column":3}},"16":{"start":{"line":22,"column":2},"end":{"line":22,"column":34}},"17":{"start":{"line":23,"column":2},"end":{"line":23,"column":18}},"18":{"start":{"line":26,"column":1},"end":{"line":28,"column":3}},"19":{"start":{"line":27,"column":2},"end":{"line":27,"column":18}},"20":{"start":{"line":30,"column":1},"end":{"line":30,"column":27}},"21":{"start":{"line":32,"column":1},"end":{"line":34,"column":2}},"22":{"start":{"line":33,"column":2},"end":{"line":33,"column":16}},"23":{"start":{"line":36,"column":1},"end":{"line":36,"column":12}},"24":{"start":{"line":39,"column":0},"end":{"line":42,"column":1}},"25":{"start":{"line":40,"column":1},"end":{"line":40,"column":42}},"26":{"start":{"line":41,"column":1},"end":{"line":41,"column":29}},"27":{"start":{"line":44,"column":0},"end":{"line":44,"column":28}}},"branchMap":{},"code":["var negotiateQueryContext = require('./negotiateQueryContext');","var decodeDbRow = require('./decodeDbRow');","var nextDbRowToRow = _nextDbRowToRow;","","","function dbRowToRow(span, dbRow, queryContext) {","\tvar table = span.table;","\tvar row = decodeDbRow(span, table, dbRow);","\tnegotiateQueryContext(queryContext, row);","\trow.queryContext = queryContext;\t\t","\tvar cache = table._cache;","\trow = cache.tryAdd(row);","","\tvar c = {};","\t","\tc.visitOne = function(leg) {","\t\tnextDbRowToRow(leg.span, dbRow);","\t\tleg.expand(row);","\t};","","\tc.visitJoin = function(leg) {","\t\tnextDbRowToRow(leg.span, dbRow);","\t\tleg.expand(row);\t\t","\t};","","\tc.visitMany = function(leg) {","\t\tleg.expand(row);\t\t","\t};","","\tspan.legs.forEach(onEach);","","\tfunction onEach (leg) {","\t\tleg.accept(c);","\t}","","\treturn row;","}","","function _nextDbRowToRow (span, dbRow) {","\tnextDbRowToRow = require('./dbRowToRow');","\tnextDbRowToRow(span, dbRow);","}","","module.exports = dbRowToRow;"],"l":{"1":1,"2":1,"3":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"16":0,"17":0,"18":0,"21":0,"22":0,"23":0,"26":0,"27":0,"30":0,"32":1,"33":0,"36":0,"39":1,"40":0,"41":0,"44":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/negotiateQueryContext.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/negotiateQueryContext.js","s":{"1":1,"2":0,"3":0,"4":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateQueryContext","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":25}},"3":{"start":{"line":3,"column":3},"end":{"line":3,"column":25}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function negotiateQueryContext(queryContext, row) {","\tif (queryContext)","\t\t\tqueryContext.add(row);\t","}","","module.exports = negotiateQueryContext;"],"l":{"1":1,"2":0,"3":0,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/decodeDbRow.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/decodeDbRow.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"decodeDbRow","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":17},"end":{"line":9,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":3,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":38}},"4":{"start":{"line":5,"column":4},"end":{"line":13,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":46}},"6":{"start":{"line":7,"column":8},"end":{"line":12,"column":11}},"7":{"start":{"line":10,"column":16},"end":{"line":10,"column":30}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":25}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":29}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]}},"code":["var newDecodeDbRow = require('./newDecodeDbRow');","","function decodeDbRow(context, table, dbRow) {","    var decode = context._decodeDbRow;","    if (!decode) {","        decode = newDecodeDbRow(table, dbRow);","        Object.defineProperty(context, '_decodeDbRow', {","            enumerable: false,","            get: function() {","                return decode;","            },","        });","    }","    return decode(dbRow);","}","","module.exports = decodeDbRow;",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/newDecodeDbRow.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/newDecodeDbRow.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"newDecodeDbRow","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}}},"2":{"name":"defineColumnProperty","line":27,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":37}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":17},"end":{"line":37,"column":28}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":17},"end":{"line":40,"column":33}}},"5":{"name":"setRelated","line":55,"loc":{"start":{"line":55,"column":4},"end":{"line":55,"column":26}}},"6":{"name":"setSingleRelated","line":63,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":46}}},"7":{"name":"(anonymous_7)","line":65,"loc":{"start":{"line":65,"column":17},"end":{"line":65,"column":28}}},"8":{"name":"createGetRelated","line":71,"loc":{"start":{"line":71,"column":4},"end":{"line":71,"column":42}}},"9":{"name":"(anonymous_9)","line":82,"loc":{"start":{"line":82,"column":37},"end":{"line":82,"column":63}}},"10":{"name":"(anonymous_10)","line":92,"loc":{"start":{"line":92,"column":39},"end":{"line":92,"column":65}}},"11":{"name":"(anonymous_11)","line":100,"loc":{"start":{"line":100,"column":27},"end":{"line":100,"column":46}}},"12":{"name":"(anonymous_12)","line":104,"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":45}}},"13":{"name":"(anonymous_13)","line":111,"loc":{"start":{"line":111,"column":27},"end":{"line":111,"column":43}}},"14":{"name":"(anonymous_14)","line":116,"loc":{"start":{"line":116,"column":31},"end":{"line":116,"column":47}}},"15":{"name":"(anonymous_15)","line":121,"loc":{"start":{"line":121,"column":27},"end":{"line":121,"column":46}}},"16":{"name":"(anonymous_16)","line":126,"loc":{"start":{"line":126,"column":34},"end":{"line":126,"column":45}}},"17":{"name":"decodeDbRow","line":131,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":30}}},"18":{"name":"Row","line":140,"loc":{"start":{"line":140,"column":4},"end":{"line":140,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":64}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":70}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"9":{"start":{"line":10,"column":0},"end":{"line":148,"column":1}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":33}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":41}},"12":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":25}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":30}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":34}},"16":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":32}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":36}},"19":{"start":{"line":27,"column":4},"end":{"line":51,"column":5}},"20":{"start":{"line":28,"column":8},"end":{"line":28,"column":32}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":35}},"22":{"start":{"line":30,"column":8},"end":{"line":30,"column":34}},"23":{"start":{"line":31,"column":8},"end":{"line":31,"column":32}},"24":{"start":{"line":32,"column":8},"end":{"line":32,"column":23}},"25":{"start":{"line":33,"column":8},"end":{"line":33,"column":26}},"26":{"start":{"line":35,"column":8},"end":{"line":50,"column":11}},"27":{"start":{"line":38,"column":16},"end":{"line":38,"column":40}},"28":{"start":{"line":41,"column":16},"end":{"line":41,"column":42}},"29":{"start":{"line":42,"column":16},"end":{"line":42,"column":38}},"30":{"start":{"line":43,"column":16},"end":{"line":43,"column":41}},"31":{"start":{"line":44,"column":16},"end":{"line":44,"column":49}},"32":{"start":{"line":45,"column":16},"end":{"line":45,"column":57}},"33":{"start":{"line":46,"column":16},"end":{"line":47,"column":56}},"34":{"start":{"line":47,"column":20},"end":{"line":47,"column":56}},"35":{"start":{"line":48,"column":16},"end":{"line":48,"column":65}},"36":{"start":{"line":53,"column":4},"end":{"line":53,"column":17}},"37":{"start":{"line":55,"column":4},"end":{"line":61,"column":5}},"38":{"start":{"line":56,"column":8},"end":{"line":56,"column":41}},"39":{"start":{"line":57,"column":8},"end":{"line":60,"column":9}},"40":{"start":{"line":58,"column":12},"end":{"line":58,"column":51}},"41":{"start":{"line":59,"column":12},"end":{"line":59,"column":53}},"42":{"start":{"line":63,"column":4},"end":{"line":69,"column":5}},"43":{"start":{"line":64,"column":8},"end":{"line":68,"column":11}},"44":{"start":{"line":66,"column":16},"end":{"line":66,"column":54}},"45":{"start":{"line":71,"column":4},"end":{"line":79,"column":5}},"46":{"start":{"line":72,"column":8},"end":{"line":72,"column":38}},"47":{"start":{"line":73,"column":8},"end":{"line":77,"column":9}},"48":{"start":{"line":74,"column":12},"end":{"line":74,"column":51}},"49":{"start":{"line":75,"column":12},"end":{"line":75,"column":45}},"50":{"start":{"line":76,"column":12},"end":{"line":76,"column":38}},"51":{"start":{"line":78,"column":8},"end":{"line":78,"column":19}},"52":{"start":{"line":82,"column":4},"end":{"line":90,"column":6}},"53":{"start":{"line":83,"column":8},"end":{"line":83,"column":17}},"54":{"start":{"line":84,"column":8},"end":{"line":88,"column":9}},"55":{"start":{"line":85,"column":12},"end":{"line":85,"column":101}},"56":{"start":{"line":86,"column":12},"end":{"line":86,"column":32}},"57":{"start":{"line":87,"column":12},"end":{"line":87,"column":18}},"58":{"start":{"line":89,"column":8},"end":{"line":89,"column":41}},"59":{"start":{"line":92,"column":4},"end":{"line":98,"column":6}},"60":{"start":{"line":93,"column":8},"end":{"line":96,"column":9}},"61":{"start":{"line":94,"column":12},"end":{"line":94,"column":63}},"62":{"start":{"line":95,"column":12},"end":{"line":95,"column":19}},"63":{"start":{"line":97,"column":8},"end":{"line":97,"column":47}},"64":{"start":{"line":100,"column":4},"end":{"line":102,"column":6}},"65":{"start":{"line":101,"column":8},"end":{"line":101,"column":70}},"66":{"start":{"line":104,"column":4},"end":{"line":109,"column":6}},"67":{"start":{"line":105,"column":8},"end":{"line":105,"column":60}},"68":{"start":{"line":106,"column":8},"end":{"line":106,"column":25}},"69":{"start":{"line":107,"column":8},"end":{"line":107,"column":53}},"70":{"start":{"line":108,"column":8},"end":{"line":108,"column":44}},"71":{"start":{"line":111,"column":4},"end":{"line":114,"column":6}},"72":{"start":{"line":112,"column":8},"end":{"line":112,"column":48}},"73":{"start":{"line":113,"column":8},"end":{"line":113,"column":28}},"74":{"start":{"line":116,"column":4},"end":{"line":119,"column":6}},"75":{"start":{"line":117,"column":8},"end":{"line":117,"column":48}},"76":{"start":{"line":118,"column":8},"end":{"line":118,"column":28}},"77":{"start":{"line":121,"column":4},"end":{"line":124,"column":6}},"78":{"start":{"line":122,"column":8},"end":{"line":122,"column":58}},"79":{"start":{"line":123,"column":8},"end":{"line":123,"column":39}},"80":{"start":{"line":126,"column":4},"end":{"line":129,"column":6}},"81":{"start":{"line":127,"column":8},"end":{"line":127,"column":68}},"82":{"start":{"line":128,"column":8},"end":{"line":128,"column":39}},"83":{"start":{"line":131,"column":4},"end":{"line":138,"column":5}},"84":{"start":{"line":132,"column":8},"end":{"line":136,"column":9}},"85":{"start":{"line":133,"column":12},"end":{"line":133,"column":35}},"86":{"start":{"line":134,"column":12},"end":{"line":134,"column":34}},"87":{"start":{"line":135,"column":12},"end":{"line":135,"column":51}},"88":{"start":{"line":137,"column":8},"end":{"line":137,"column":28}},"89":{"start":{"line":140,"column":4},"end":{"line":145,"column":5}},"90":{"start":{"line":141,"column":8},"end":{"line":141,"column":28}},"91":{"start":{"line":142,"column":8},"end":{"line":142,"column":27}},"92":{"start":{"line":143,"column":8},"end":{"line":143,"column":37}},"93":{"start":{"line":144,"column":8},"end":{"line":144,"column":43}},"94":{"start":{"line":147,"column":4},"end":{"line":147,"column":23}},"95":{"start":{"line":150,"column":0},"end":{"line":150,"column":32}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":16},"end":{"line":46,"column":16}},{"start":{"line":46,"column":16},"end":{"line":46,"column":16}}]},"3":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":8}},{"start":{"line":73,"column":8},"end":{"line":73,"column":8}}]},"4":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":8},"end":{"line":84,"column":8}},{"start":{"line":84,"column":8},"end":{"line":84,"column":8}}]},"5":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":19},"end":{"line":85,"column":48}},{"start":{"line":85,"column":53},"end":{"line":85,"column":99}}]},"6":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":8},"end":{"line":93,"column":8}},{"start":{"line":93,"column":8},"end":{"line":93,"column":8}}]}},"code":["var updateField = require('../updateField');","var newEmitEvent = require('../../emitEvent');","var extractStrategy = require('./toDto/extractStrategy');","var extractDeleteStrategy = require('../extractDeleteStrategy');","var newCascadeDeleteStrategy = require('../newCascadeDeleteStrategy');","var _delete = require('./delete');","var newObject = require('../../newObject');","var toDto = require('./toDto');","","function newDecodeDbRow(table, dbRow) {","    var columns = table._columns;","    var numberOfColumns = columns.length;","    if (dbRow.offset === undefined) {","        dbRow.offset = 0;","    }","","    var offset = dbRow.offset;","","    var keys = Object.keys(dbRow);","","    for (var i = 0; i < numberOfColumns; i++) {","        defineColumnProperty(i);","    }","","    dbRow.offset += numberOfColumns;","","    function defineColumnProperty(i) {","        var column = columns[i];","        var purify = column.purify;","        var decode = column.decode","        var name = column.alias;","        i = offset + i;","        var key = keys[i];","","        Object.defineProperty(Row.prototype, name, {","","            get: function() {","                return this._dbRow[key];","            },","            set: function(value) {","                var oldValue = this[name];","                value = purify(value);","                this._dbRow[key] = value;","                updateField(table, column, this);","                var emit = this._emitColumnChanged[name];","                if (emit)","                    emit(this, column, value, oldValue);","                this._emitChanged(this, column, value, oldValue);","            }","        });","    }","","    setRelated();","","    function setRelated() {","        var relations = table._relations;","        for (var relationName in relations) {","            var relation = relations[relationName];","            setSingleRelated(relationName, relation);","        }","    }","","    function setSingleRelated(name, relation) {","        Object.defineProperty(Row.prototype, name, {","            get: function() {","                return createGetRelated(this, name)();","            }","        });","    }","","    function createGetRelated(row, alias) {","        var get = row._related[alias];","        if (!get) {","            var relation = table._relations[alias];","            get = relation.toGetRelated(row);","            row._related[alias] = get;","        }","        return get;","    }","","","    Row.prototype.subscribeChanged = function(onChanged, name) {","        var emit;","        if (name) {","            emit = this._emitColumnChanged[name] || (this._emitColumnChanged[name] = newEmitEvent());","            emit.add(onChanged);","            return","        }","        this._emitChanged.add(onChanged);","    };","","    Row.prototype.unsubscribeChanged = function(onChanged, name) {","        if (name) {","            this._emitColumnChanged[name].tryRemove(onChanged);","            return;","        }","        this._emitChanged.tryRemove(onChanged);","    };","","    Row.prototype.toJSON = function(strategy) {","        return this.toDto.apply(this, arguments).then(JSON.stringify);","    };","","    Row.prototype.toDto = function(strategy) {","        var args = Array.prototype.slice.call(arguments, 0);","        args.push(table);","        strategy = extractStrategy.apply(null, args);","        return toDto(strategy, table, this);","    };","","    Row.prototype.expand = function(alias) {","        var get = createGetRelated(this, alias);","        get.expanded = true;","    };","","    Row.prototype.isExpanded = function(alias) {","        var get = createGetRelated(this, alias);","        return get.expanded;","    };","","    Row.prototype.delete = function(strategy) {","        strategy = extractDeleteStrategy(strategy, table);","        _delete(this, strategy, table);","    };","","    Row.prototype.cascadeDelete = function() {","        var strategy = newCascadeDeleteStrategy(newObject(), table);","        _delete(this, strategy, table);","    };","","    function decodeDbRow(row) {","        for (var i = 0; i < numberOfColumns; i++) {","            var index = offset + i;","            var key = keys[index];            ","            row[key] = columns[i].decode(row[key]);","        }","        return new Row(row);","    }","","    function Row(dbRow) {","        this._dbRow = dbRow;","        this._related = {};","        this._emitColumnChanged = {};","        this._emitChanged = newEmitEvent();","    }","","    return decodeDbRow;","}","","module.exports = newDecodeDbRow;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"11":0,"12":0,"13":0,"14":0,"17":0,"19":0,"21":0,"22":0,"25":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"35":0,"38":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"53":0,"55":1,"56":0,"57":0,"58":0,"59":0,"63":1,"64":0,"66":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"78":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"89":0,"92":0,"93":0,"94":0,"95":0,"97":0,"100":0,"101":0,"104":0,"105":0,"106":0,"107":0,"108":0,"111":0,"112":0,"113":0,"116":0,"117":0,"118":0,"121":0,"122":0,"123":0,"126":0,"127":0,"128":0,"131":1,"132":0,"133":0,"134":0,"135":0,"137":0,"140":1,"141":0,"142":0,"143":0,"144":0,"147":0,"150":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/updateField.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/updateField.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"updateField","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":62}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":66}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":7,"column":9}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":9}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":52}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":22}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},{"start":{"line":6,"column":1},"end":{"line":6,"column":1}}]}},"code":["var newUpdateCommand = require('./commands/newUpdateCommand');","var pushCommand = require('./commands/pushCommand');","var lastCommandMatches = require('./commands/lastCommandMatches');","","function updateField(table, column, row) {","\tif (lastCommandMatches(row))","\t\treturn;","\tvar command = newUpdateCommand(table, column, row);","\tpushCommand(command);","}","","module.exports = updateField;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommand.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":1,"26":0,"27":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newUpdateCommand","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}}},"2":{"name":"UpdateCommand","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":43}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":41},"end":{"line":19,"column":63}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":30},"end":{"line":23,"column":41}}},"5":{"name":"(anonymous_5)","line":28,"loc":{"start":{"line":28,"column":9},"end":{"line":28,"column":20}}},"6":{"name":"(anonymous_6)","line":33,"loc":{"start":{"line":33,"column":42},"end":{"line":33,"column":53}}},"7":{"name":"(anonymous_7)","line":37,"loc":{"start":{"line":37,"column":34},"end":{"line":37,"column":45}}},"8":{"name":"(anonymous_8)","line":42,"loc":{"start":{"line":42,"column":34},"end":{"line":42,"column":53}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":61}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"4":{"start":{"line":5,"column":0},"end":{"line":7,"column":1}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":49}},"6":{"start":{"line":9,"column":0},"end":{"line":17,"column":1}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":24}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":20}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":63}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":39}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":44}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":56}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":46}},"14":{"start":{"line":19,"column":0},"end":{"line":21,"column":2}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":44}},"16":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"17":{"start":{"line":24,"column":4},"end":{"line":24,"column":40}},"18":{"start":{"line":27,"column":0},"end":{"line":31,"column":3}},"19":{"start":{"line":29,"column":8},"end":{"line":29,"column":49}},"20":{"start":{"line":33,"column":0},"end":{"line":35,"column":2}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":75}},"22":{"start":{"line":37,"column":0},"end":{"line":40,"column":2}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":27}},"24":{"start":{"line":39,"column":4},"end":{"line":39,"column":54}},"25":{"start":{"line":42,"column":0},"end":{"line":44,"column":2}},"26":{"start":{"line":43,"column":4},"end":{"line":43,"column":33}},"27":{"start":{"line":46,"column":0},"end":{"line":46,"column":34}}},"branchMap":{},"code":["var newUpdateCommandCore = require('./newUpdateCommandCore');","var newImmutable = require('../../newImmutable');","var newColumnList = require('../../newObject');","","function newUpdateCommand(table, column, row) {","    return new UpdateCommand(table, column, row);","}","","function UpdateCommand(table, column, row) {","    this._table = table;","    this._row = row;","    this.__getCoreCommand = newImmutable(newUpdateCommandCore);","    this._columnList = newColumnList();","    this._columnList[column.alias] = column;","    this.onFieldChanged = this.onFieldChanged.bind(this)","    row.subscribeChanged(this.onFieldChanged);","}","","UpdateCommand.prototype.onFieldChanged = function(row, column) {","    this._columnList[column.alias] = column;","};","","UpdateCommand.prototype.sql = function() {","    return this._getCoreCommand().sql();","};","","Object.defineProperty(UpdateCommand.prototype, 'parameters', {","    get: function() {","        return this._getCoreCommand().parameters;","    }","});","","UpdateCommand.prototype._getCoreCommand = function() {","    return this.__getCoreCommand(this._table, this._columnList, this._row);","};","","UpdateCommand.prototype.endEdit = function() {","    this._getCoreCommand();","    this._row.unsubscribeChanged(this.onFieldChanged);","};","","UpdateCommand.prototype.matches = function(otherRow) {","    return this._row == otherRow;","};","","module.exports = newUpdateCommand;",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"19":1,"20":0,"23":1,"24":0,"27":1,"29":0,"33":1,"34":0,"37":1,"38":0,"39":0,"42":1,"43":0,"46":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommandCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommandCore.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newUpdateCommandCore","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}}},"2":{"name":"addColumns","line":13,"loc":{"start":{"line":13,"column":1},"end":{"line":13,"column":23}}},"3":{"name":"addWhereId","line":22,"loc":{"start":{"line":22,"column":1},"end":{"line":22,"column":23}}},"4":{"name":"addDiscriminators","line":34,"loc":{"start":{"line":34,"column":1},"end":{"line":34,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":3,"column":0},"end":{"line":45,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":22}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":68}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":21}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":14}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":14}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":21}},"10":{"start":{"line":13,"column":1},"end":{"line":20,"column":2}},"11":{"start":{"line":14,"column":2},"end":{"line":19,"column":3}},"12":{"start":{"line":15,"column":3},"end":{"line":15,"column":31}},"13":{"start":{"line":16,"column":3},"end":{"line":16,"column":43}},"14":{"start":{"line":17,"column":3},"end":{"line":17,"column":78}},"15":{"start":{"line":18,"column":3},"end":{"line":18,"column":19}},"16":{"start":{"line":22,"column":1},"end":{"line":32,"column":2}},"17":{"start":{"line":23,"column":2},"end":{"line":23,"column":24}},"18":{"start":{"line":24,"column":2},"end":{"line":24,"column":38}},"19":{"start":{"line":25,"column":2},"end":{"line":31,"column":3}},"20":{"start":{"line":26,"column":3},"end":{"line":26,"column":27}},"21":{"start":{"line":27,"column":3},"end":{"line":27,"column":33}},"22":{"start":{"line":28,"column":3},"end":{"line":28,"column":38}},"23":{"start":{"line":29,"column":3},"end":{"line":29,"column":78}},"24":{"start":{"line":30,"column":3},"end":{"line":30,"column":23}},"25":{"start":{"line":34,"column":1},"end":{"line":40,"column":2}},"26":{"start":{"line":35,"column":2},"end":{"line":35,"column":51}},"27":{"start":{"line":36,"column":2},"end":{"line":37,"column":10}},"28":{"start":{"line":37,"column":3},"end":{"line":37,"column":10}},"29":{"start":{"line":38,"column":2},"end":{"line":38,"column":60}},"30":{"start":{"line":39,"column":2},"end":{"line":39,"column":43}},"31":{"start":{"line":42,"column":1},"end":{"line":42,"column":16}},"32":{"start":{"line":47,"column":0},"end":{"line":47,"column":38}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":2}},{"start":{"line":36,"column":2},"end":{"line":36,"column":2}}]}},"code":["var newParameterized = require('../query/newParameterized');","","function newUpdateCommandCore(table, columns, row) {\t","\tvar columnNames = [];","\tvar values = [];","\tvar command = newParameterized(\"UPDATE \" + table._dbName + \" SET\");","\tvar separator = \" \";","","\taddColumns();","\taddWhereId();","\taddDiscriminators();","","\tfunction addColumns() {\t\t","\t\tfor (var alias in columns) {","\t\t\tvar column = columns[alias];\t\t\t","\t\t\tvar encoded = column.encode(row[alias]);","\t\t\tcommand = command.append(separator + column._dbName + \"=\").append(encoded);","\t\t\tseparator = \",\";","\t\t}","\t}","","\tfunction addWhereId() {","\t\tseparator = \" WHERE \";","\t\tvar columns = table._primaryColumns;","\t\tfor (var i = 0; i < columns.length; i++) {","\t\t\tvar column = columns[i];","\t\t\tvar value = row[column.alias];","\t\t\tvar encoded = column.encode(value);","\t\t\tcommand = command.append(separator + column._dbName + \"=\").append(encoded);","\t\t\tseparator = \" AND \";","\t\t}","\t}","","\tfunction addDiscriminators() {","\t\tvar discriminators = table._columnDiscriminators;","\t\tif (discriminators.length === 0)","\t\t\treturn;","\t\tdiscriminators = separator + discriminators.join(\" AND \");","\t\tcommand = command.append(discriminators);","\t}","","\treturn command;","","","}","","module.exports = newUpdateCommandCore;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"42":0,"47":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/lastCommandMatches.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/lastCommandMatches.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"lastCommandMatches","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":32}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":36}},"5":{"start":{"line":6,"column":1},"end":{"line":7,"column":43}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":43}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":14}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},{"start":{"line":6,"column":1},"end":{"line":6,"column":1}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":5},"end":{"line":6,"column":19}},{"start":{"line":6,"column":23},"end":{"line":6,"column":51}}]}},"code":["var getChangeSet = require('./getChangeSet');","","function lastCommandMatches(row) {","\tvar changeSet = getChangeSet();","\tvar lastIndex = changeSet.length-1;","\tif (lastIndex >= 0 && changeSet[lastIndex].matches)","\t\treturn changeSet[lastIndex].matches(row);","\treturn false;\t","}","","module.exports = lastCommandMatches;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/toDto/extractStrategy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/toDto/extractStrategy.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"_extractSubStrategy","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}}},"2":{"name":"extractStrategy","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":24},"end":{"line":17,"column":35}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":24},"end":{"line":19,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":54}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":37}},"5":{"start":{"line":8,"column":0},"end":{"line":30,"column":1}},"6":{"start":{"line":9,"column":4},"end":{"line":10,"column":28}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":28}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":29}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":22}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":37}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":21}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":38}},"14":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":73}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":41}},"17":{"start":{"line":25,"column":4},"end":{"line":28,"column":5}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":47}},"19":{"start":{"line":27,"column":8},"end":{"line":27,"column":33}},"20":{"start":{"line":29,"column":4},"end":{"line":29,"column":20}},"21":{"start":{"line":32,"column":0},"end":{"line":32,"column":33}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]}},"code":["var extractSubStrategy = _extractSubStrategy;","","function _extractSubStrategy(table) {","    extractSubStrategy = require('./extractStrategy');","    return extractSubStrategy(table);","}","","function extractStrategy() {","    if (arguments.length == 2)","        return arguments[0];","    var table = arguments[0];","    var strategy = {};","    var relations = table._relations;","    var relationName;","","    var visitor = {};","    visitor.visitJoin = function() {};","","    visitor.visitMany = function(relation) {","        strategy[relationName] = extractSubStrategy(relation.childTable);","    };","","    visitor.visitOne = visitor.visitMany;","","    for (relationName in relations) {","        var relation = relations[relationName];","        relation.accept(visitor);","    }","    return strategy;","}","","module.exports = extractStrategy;"],"l":{"1":1,"3":1,"4":0,"5":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"19":0,"20":0,"23":0,"25":0,"26":0,"27":0,"29":0,"32":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategy.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"extractDeleteStrategy","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":18}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":22}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":39}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["var emptyStrategy = require('../newObject')();","","function extractDeleteStrategy(strategy) {","\tif (strategy)","\t\treturn strategy;","\treturn emptyStrategy;","}","","module.exports = extractDeleteStrategy;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCascadeDeleteStrategy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCascadeDeleteStrategy.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newCascadeDeleteStrategy","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":15},"end":{"line":9,"column":25}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":33}}},"4":{"name":"_addSubStrategies","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":23,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":34}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":18}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":12}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":28}},"8":{"start":{"line":10,"column":1},"end":{"line":14,"column":3}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":32}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":39}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":53}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":26}},"13":{"start":{"line":18,"column":1},"end":{"line":21,"column":2}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":41}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":21}},"16":{"start":{"line":22,"column":1},"end":{"line":22,"column":17}},"17":{"start":{"line":25,"column":0},"end":{"line":28,"column":1}},"18":{"start":{"line":26,"column":1},"end":{"line":26,"column":58}},"19":{"start":{"line":27,"column":1},"end":{"line":27,"column":35}},"20":{"start":{"line":30,"column":0},"end":{"line":30,"column":42}}},"branchMap":{},"code":["var addSubStrategies = _addSubStrategies;","var newObject = require('../newObject');","","function newCascadeDeleteStrategy(strategy, table) {","\tvar relations = table._relations;","\tvar relationName;","","\tvar c = {};","\tc.visitJoin = function(){};","\tc.visitOne = function(relation) {","\t\tvar subStrategy = newObject();","\t\tstrategy[relationName] = subStrategy;","\t\taddSubStrategies(subStrategy, relation.childTable);","\t};","","\tc.visitMany = c.visitOne;","","\tfor(relationName in relations) {","\t\tvar relation = relations[relationName];","\t\trelation.accept(c);","\t}","\treturn strategy;","}","","function _addSubStrategies(strategy, table) {\t","\taddSubStrategies = require('./newCascadeDeleteStrategy');","\taddSubStrategies(strategy, table);","}","","module.exports = newCascadeDeleteStrategy;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"16":0,"18":0,"19":0,"20":0,"22":0,"25":1,"26":0,"27":0,"30":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/delete.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/delete.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"_delete","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":49}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":14},"end":{"line":16,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":58}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":63}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":60}},"5":{"start":{"line":6,"column":0},"end":{"line":19,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":20}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":20}},"9":{"start":{"line":11,"column":1},"end":{"line":13,"column":4}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":32}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":52}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":69}},"13":{"start":{"line":16,"column":1},"end":{"line":18,"column":4}},"14":{"start":{"line":17,"column":2},"end":{"line":17,"column":19}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":25}}},"branchMap":{},"code":["var removeFromCache = require('./delete/removeFromCache');\t","var pushCommand = require('../commands/pushCommand');","var newDeleteCommand = require('../commands/newDeleteCommand');","var newPrimaryKeyFilter = require('../newPrimaryKeyFilter');","","function _delete(row, strategy, table) {","\tvar relations = [];","\tremoveFromCache(row, strategy, table);","","\tvar args = [table];","\ttable._primaryColumns.forEach(function(primary) {","\t\targs.push(row[primary.alias]);","\t});","\tvar filter = newPrimaryKeyFilter.apply(null, args);","\tvar cmds = newDeleteCommand([], table, filter, strategy, relations);","\tcmds.forEach(function(cmd) {","\t\tpushCommand(cmd);","\t});","}","","module.exports = _delete;"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"10":0,"11":0,"12":0,"14":0,"15":0,"16":0,"17":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/delete/removeFromCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/delete/removeFromCache.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"removeFromCache","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}}},"2":{"name":"removeManyRows","line":11,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":30}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":20},"end":{"line":12,"column":42}}},"4":{"name":"removeSingleRow","line":17,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":31}}},"5":{"name":"_nextRemoveFromCache","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":3,"column":0},"end":{"line":26,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":7,"column":5}},"4":{"start":{"line":5,"column":5},"end":{"line":5,"column":22}},"5":{"start":{"line":6,"column":5},"end":{"line":6,"column":12}},"6":{"start":{"line":8,"column":4},"end":{"line":9,"column":26}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":26}},"8":{"start":{"line":11,"column":4},"end":{"line":15,"column":5}},"9":{"start":{"line":12,"column":8},"end":{"line":14,"column":11}},"10":{"start":{"line":13,"column":12},"end":{"line":13,"column":62}},"11":{"start":{"line":17,"column":4},"end":{"line":25,"column":5}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":41}},"13":{"start":{"line":19,"column":8},"end":{"line":23,"column":9}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":51}},"15":{"start":{"line":21,"column":16},"end":{"line":21,"column":53}},"16":{"start":{"line":22,"column":16},"end":{"line":22,"column":87}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":36}},"18":{"start":{"line":28,"column":0},"end":{"line":31,"column":1}},"19":{"start":{"line":29,"column":4},"end":{"line":29,"column":55}},"20":{"start":{"line":30,"column":4},"end":{"line":30,"column":46}},"21":{"start":{"line":33,"column":0},"end":{"line":33,"column":33}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":4}},{"start":{"line":8,"column":4},"end":{"line":8,"column":4}}]}},"code":["var nextRemoveFromCache = _nextRemoveFromCache;","","function removeFromCache(row, strategy, table) {","    if (Array.isArray(row)) {","    \tremoveManyRows();","    \treturn;","    }","    if (row)","        removeSingleRow();","","    function removeManyRows() {","        row.forEach(function(rowToRemove) {","            nextRemoveFromCache(rowToRemove, strategy, table);","        });","    }","","    function removeSingleRow() {","        var relations = table._relations;","        for (var relationName in strategy) {","            var relation = relations[relationName];","                var rows = relation.getRowsSync(row);","                nextRemoveFromCache(rows, strategy[relationName], relation.childTable);","        }","        table._cache.tryRemove(row);","    }","}","","function _nextRemoveFromCache(row, strategy, table) {","    nextRemoveFromCache = require('./removeFromCache');","    nextRemoveFromCache(row, strategy, table);","}","","module.exports = removeFromCache;",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"8":0,"9":0,"11":1,"12":0,"13":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"24":0,"28":1,"29":0,"30":0,"33":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newDeleteCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newDeleteCommand.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":18},"end":{"line":3,"column":29}}},"2":{"name":"newCommand","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":2}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":36}},"5":{"start":{"line":8,"column":0},"end":{"line":19,"column":1}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":62}},"7":{"start":{"line":10,"column":1},"end":{"line":16,"column":2}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":37}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":45}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":48}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":56}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":84}},"13":{"start":{"line":17,"column":1},"end":{"line":17,"column":29}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":16}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":28}}},"branchMap":{},"code":["var newSingleCommand = require('./delete/newSingleCommand');","","var nextCommand = function() {","\tnextCommand = require('./newDeleteCommand');","\tnextCommand.apply(null, arguments);","};","","function newCommand(queries,table,filter,strategy,relations) {\t","\tvar singleCommand = newSingleCommand(table,filter,relations);","\tfor(var name in strategy) {","\t\tvar childStrategy = strategy[name];","\t\tvar childRelation = table._relations[name];","\t\tvar joinRelation = childRelation.joinRelation;","\t\tvar\tchildRelations = [joinRelation].concat(relations);","\t\tnextCommand(queries,childRelation.childTable,filter,childStrategy,childRelations);","\t}","\tqueries.push(singleCommand);","\treturn queries;","}","","module.exports = newCommand;"],"l":{"1":1,"3":1,"4":0,"5":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"17":0,"18":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/newSingleCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/newSingleCommand.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":81}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":75}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"6":{"start":{"line":7,"column":0},"end":{"line":15,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":50}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":32}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":42}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":55}},"11":{"start":{"line":12,"column":1},"end":{"line":13,"column":37}},"12":{"start":{"line":13,"column":2},"end":{"line":13,"column":37}},"13":{"start":{"line":14,"column":1},"end":{"line":14,"column":51}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},{"start":{"line":12,"column":1},"end":{"line":12,"column":1}}]}},"code":["var newSubFilter = require('./singleCommand/subFilter');","var newDiscriminatorSql = require('../../query/singleQuery/newDiscriminatorSql');","var extractFilter = require('../../query/extractFilter');","var newSingleCommandCore = require('./singleCommand/newSingleCommandCore');","var createAlias = require('./createAlias');","","function _new(table,filter,relations) {","\tvar alias = createAlias(table, relations.length);","\tfilter = extractFilter(filter);","\tfilter = newSubFilter(relations, filter);","\tvar discriminator = newDiscriminatorSql(table, alias);","\tif (discriminator !== '')","\t\tfilter = filter.and(discriminator);","\treturn newSingleCommandCore(table, filter, alias);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/subFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/subFilter.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"newSubFilter","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"5":{"start":{"line":5,"column":0},"end":{"line":16,"column":1}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":38}},"7":{"start":{"line":7,"column":1},"end":{"line":8,"column":23}},"8":{"start":{"line":8,"column":2},"end":{"line":8,"column":23}},"9":{"start":{"line":9,"column":1},"end":{"line":9,"column":37}},"10":{"start":{"line":10,"column":1},"end":{"line":10,"column":50}},"11":{"start":{"line":11,"column":1},"end":{"line":11,"column":57}},"12":{"start":{"line":12,"column":1},"end":{"line":12,"column":40}},"13":{"start":{"line":13,"column":1},"end":{"line":13,"column":53}},"14":{"start":{"line":14,"column":1},"end":{"line":14,"column":54}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":["var newSelect = require('./selectSql');","var newJoin = require('./joinSql');","var newWhere = require('./whereSql');","var createAlias = require('../createAlias');","function newSubFilter(relations, shallowFilter) {","\tvar relationCount = relations.length;","\tif (relationCount === 0)","\t\treturn shallowFilter;","\tvar table = relations[0].childTable;","\tvar alias = createAlias(table, relationCount -1);","\tvar filter = newSelect(table,alias).prepend('EXISTS (');","\tvar join = newJoin(relations.slice(1));","\tvar where = newWhere(relations,shallowFilter,alias);","\treturn filter.append(join).append(where).append(')');","","}","","module.exports = newSubFilter;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/selectSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/selectSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newSelectSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":66}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":48}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":89}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":24}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}}},"branchMap":{},"code":["var newParameterized = require('../../../query/newParameterized');","var newBoolean = require('../../../column/newBoolean');","","function newSelectSql(table, alias) {","\tvar colName = table._primaryColumns[0]._dbName;","\tvar sql = 'SELECT ' + alias + '.' + colName + ' FROM ' + table._dbName + ' AS ' + alias;","\tsql = newParameterized(sql);","\treturn newBoolean(sql);","}","","module.exports = newSelectSql;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/joinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/joinSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newJoinSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}}},"2":{"name":"addSql","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":27}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":19},"end":{"line":18,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":88}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":26,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":7,"column":13}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":12}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":7}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":14}},"9":{"start":{"line":12,"column":1},"end":{"line":16,"column":2}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":57}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":37}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":105}},"13":{"start":{"line":18,"column":1},"end":{"line":23,"column":4}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":31}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":60}},"16":{"start":{"line":21,"column":2},"end":{"line":21,"column":19}},"17":{"start":{"line":25,"column":1},"end":{"line":25,"column":12}},"18":{"start":{"line":28,"column":0},"end":{"line":28,"column":28}}},"branchMap":{},"code":["var newShallowJoinSql = require('../../../query/singleQuery/joinSql/newShallowJoinSql');","var createAlias = require('../createAlias');","","function newJoinSql(relations) {","\tvar length = relations.length;","\tvar leftAlias,","\t\trightAlias;","\tvar c = {};","\tvar i;","\tvar sql = '';","","\tfunction addSql(relation) {","\t\tvar rightColumns = relation.childTable._primaryColumns;","\t\tvar leftColumns = relation.columns;","\t\tsql += ' INNER' + newShallowJoinSql(relation.childTable,leftColumns,rightColumns,leftAlias,rightAlias);\t","\t}\t","\t","\trelations.forEach(function(relation, i){","\t\tleftAlias = '_' + (length-i);","\t\trightAlias = createAlias(relation.childTable, length-i-1);","\t\taddSql(relation);","","\t});","","\treturn sql;","}","","module.exports = newJoinSql;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"12":1,"13":0,"14":0,"15":0,"18":0,"19":0,"20":0,"21":0,"25":0,"28":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/createAlias.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/createAlias.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"createAlias","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":23}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":23}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":20}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function createAlias(table, depth) {","\tif (depth === 0)","\t\treturn table._dbName;","\treturn '_' + depth;","}","module.exports = createAlias;"],"l":{"1":1,"2":0,"3":0,"4":0,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/whereSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/whereSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newWhereSql","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":59}}},"2":{"name":"where","line":14,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":92}},"2":{"start":{"line":3,"column":0},"end":{"line":23,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":15}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":12}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":41}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":32}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":40}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":36}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":39}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":45}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":37}},"12":{"start":{"line":14,"column":4},"end":{"line":21,"column":5}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":40}},"14":{"start":{"line":16,"column":8},"end":{"line":16,"column":98}},"15":{"start":{"line":17,"column":8},"end":{"line":20,"column":39}},"16":{"start":{"line":18,"column":12},"end":{"line":18,"column":72}},"17":{"start":{"line":20,"column":12},"end":{"line":20,"column":39}},"18":{"start":{"line":22,"column":4},"end":{"line":22,"column":15}},"19":{"start":{"line":25,"column":0},"end":{"line":25,"column":29}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":8}},{"start":{"line":17,"column":8},"end":{"line":17,"column":8}}]}},"code":["var newShallowJoinSql = require('../../../query/singleQuery/joinSql/newShallowJoinSqlCore');","","function newWhereSql(relations, shallowFilter, rightAlias) {","    var c = {};","    var sql;","    var relationCount = relations.length;","    var relation = relations[0];","    var leftAlias = '_' + relationCount;","    var table = relation.childTable;","    var leftColumns = relation.columns;","    var rightColumns = table._primaryColumns;","    where(leftColumns, rightColumns);","","    function where() {","        var table = relation.childTable;","        var joinCore = newShallowJoinSql(table, leftColumns, rightColumns, leftAlias, rightAlias);","        if (shallowFilter)","            sql = shallowFilter.prepend(' WHERE ' + joinCore + ' AND ');","        else","            sql = ' WHERE ' + joinCore;","    }","    return sql;","}","","module.exports = newWhereSql;",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":1,"15":0,"16":0,"17":0,"18":0,"20":0,"22":0,"25":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/newSingleCommandCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/delete/singleCommand/newSingleCommandCore.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newSingleCommandCore","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":9},"end":{"line":6,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":66}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}},"4":{"start":{"line":6,"column":1},"end":{"line":12,"column":3}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":30}},"6":{"start":{"line":8,"column":2},"end":{"line":9,"column":35}},"7":{"start":{"line":9,"column":3},"end":{"line":9,"column":35}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":59}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":47}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":34}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":10}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":38}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]}},"code":["var getSessionSingleton = require('../../../getSessionSingleton');","","function newSingleCommandCore(table,filter,alias) {","\tvar c = {};","","\tc.sql = function() {","\t\tvar whereSql = filter.sql();","\t\tif (whereSql)","\t\t\twhereSql = ' where ' + whereSql;","\t\tvar deleteFromSql = getSessionSingleton('deleteFromSql');","\t\treturn deleteFromSql(table, alias, whereSql);","\t};","","\tc.parameters = filter.parameters;\t","","\treturn c;","}","","module.exports = newSingleCommandCore;"],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"14":0,"16":0,"19":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/toDto.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/toDto.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":1,"12":0,"13":1,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"toDto","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}}},"2":{"name":"mapChild","line":13,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":28}}},"3":{"name":"getRelated","line":16,"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":30}}},"4":{"name":"onChild","line":20,"loc":{"start":{"line":20,"column":8},"end":{"line":20,"column":32}}},"5":{"name":"onChildDto","line":25,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":38}}},"6":{"name":"(anonymous_6)","line":30,"loc":{"start":{"line":30,"column":24},"end":{"line":30,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":52}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":33,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":46}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":30}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":39}},"7":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":27}},"9":{"start":{"line":13,"column":4},"end":{"line":28,"column":5}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":57}},"11":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"12":{"start":{"line":17,"column":12},"end":{"line":17,"column":29}},"13":{"start":{"line":20,"column":8},"end":{"line":23,"column":9}},"14":{"start":{"line":21,"column":12},"end":{"line":22,"column":68}},"15":{"start":{"line":22,"column":16},"end":{"line":22,"column":68}},"16":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"17":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"18":{"start":{"line":30,"column":4},"end":{"line":32,"column":7}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":19}},"20":{"start":{"line":35,"column":0},"end":{"line":35,"column":23}}},"branchMap":{"1":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":15},"end":{"line":6,"column":23}},{"start":{"line":6,"column":27},"end":{"line":6,"column":29}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":21,"column":12}},{"start":{"line":21,"column":12},"end":{"line":21,"column":12}}]}},"code":["var resultToPromise = require('../resultToPromise');","var createDto = require('./toDto/createDto');","","function toDto(strategy, table, row) {","    var dto = createDto(strategy, table, row);","    strategy = strategy || {};","    var promise = resultToPromise(dto);","","    for (var property in strategy) {","        mapChild(property);            ","    }","","    function mapChild(name) {","        promise = promise.then(getRelated).then(onChild);","        ","        function getRelated() {","            return row[name];","        }","","        function onChild(child) {","            if (child) ","                return child.toDto(strategy[name]).then(onChildDto);                ","        }","","        function onChildDto(childDto) {","            dto[name] = childDto;","        }","    }","","    return promise.then(function() {","        return dto;","    });","}","","module.exports = toDto;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"13":1,"14":0,"16":1,"17":0,"20":1,"21":0,"22":0,"25":1,"26":0,"30":0,"31":0,"35":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/toDto/createDto.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/toDto/createDto.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"_createDto","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":13,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":17}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":32}},"5":{"start":{"line":5,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":6,"column":8},"end":{"line":6,"column":32}},"7":{"start":{"line":7,"column":8},"end":{"line":10,"column":9}},"8":{"start":{"line":8,"column":12},"end":{"line":8,"column":37}},"9":{"start":{"line":9,"column":12},"end":{"line":9,"column":36}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":15}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":28}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]},"2":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":14},"end":{"line":7,"column":38}},{"start":{"line":7,"column":42},"end":{"line":7,"column":62}}]}},"code":["function _createDto(context, table, row) {","    var dto = {};","    var columns = table._columns;","    var length = columns.length;","    for (var i = 0; i < length; i++) {","        var column = columns[i];","        if (!('serializable' in column && !column.serializable)) {","            var alias = column.alias;","            dto[alias] = row[alias];","        }","    }","    return dto;","}","","module.exports = _createDto;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArray.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArray.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":0,"27":0,"28":0,"29":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"newRowArray","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}}},"2":{"name":"toJSON","line":20,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":38}}},"3":{"name":"toDto","line":24,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":37}}},"4":{"name":"toDtoAtIndex","line":32,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":32}}},"5":{"name":"getDto","line":42,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":30}}},"6":{"name":"onDto","line":46,"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":70}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":64}},"5":{"start":{"line":6,"column":0},"end":{"line":54,"column":1}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":15}},"7":{"start":{"line":9,"column":4},"end":{"line":12,"column":7}},"8":{"start":{"line":14,"column":4},"end":{"line":18,"column":7}},"9":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"10":{"start":{"line":21,"column":8},"end":{"line":21,"column":67}},"11":{"start":{"line":24,"column":4},"end":{"line":51,"column":5}},"12":{"start":{"line":25,"column":8},"end":{"line":25,"column":29}},"13":{"start":{"line":26,"column":8},"end":{"line":26,"column":24}},"14":{"start":{"line":27,"column":8},"end":{"line":27,"column":30}},"15":{"start":{"line":28,"column":8},"end":{"line":28,"column":19}},"16":{"start":{"line":30,"column":8},"end":{"line":30,"column":52}},"17":{"start":{"line":32,"column":8},"end":{"line":50,"column":9}},"18":{"start":{"line":33,"column":12},"end":{"line":33,"column":16}},"19":{"start":{"line":34,"column":12},"end":{"line":36,"column":13}},"20":{"start":{"line":35,"column":16},"end":{"line":35,"column":57}},"21":{"start":{"line":37,"column":12},"end":{"line":37,"column":27}},"22":{"start":{"line":38,"column":12},"end":{"line":40,"column":39}},"23":{"start":{"line":42,"column":12},"end":{"line":44,"column":13}},"24":{"start":{"line":43,"column":16},"end":{"line":43,"column":49}},"25":{"start":{"line":46,"column":12},"end":{"line":49,"column":13}},"26":{"start":{"line":47,"column":16},"end":{"line":47,"column":33}},"27":{"start":{"line":48,"column":16},"end":{"line":48,"column":44}},"28":{"start":{"line":53,"column":4},"end":{"line":53,"column":13}},"29":{"start":{"line":56,"column":0},"end":{"line":56,"column":29}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":12}},{"start":{"line":34,"column":12},"end":{"line":34,"column":12}}]}},"code":["var extractStrategy = require('./resultToRows/toDto/extractStrategy');","var resultToPromise = require('./resultToPromise')","var orderBy = require('./rowArray/orderBy');","var negotiateNextTick = require('./rowArray/negotiateNextTick');","","function newRowArray(table) {","    var c = [];","","    Object.defineProperty(c, \"toJSON\", {","        enumerable: false,","        value: toJSON","    });","","    Object.defineProperty(c, \"toDto\", {","        enumerable: false,","        writable: true,","        value: toDto","    });","","    function toJSON(optionalStrategy) {","        return c.toDto.apply(null, arguments).then(JSON.stringify);","    }","","    function toDto(optionalStrategy) {","        var args = arguments;","        var result = [];","        var length = c.length;","        var i = -1;","","        return resultToPromise().then(toDtoAtIndex);","","        function toDtoAtIndex() {","            i++;","            if (i === length) {","                return orderBy(optionalStrategy, result);","            }","            var row = c[i];","            return getDto()","                    .then(onDto)","                    .then(toDtoAtIndex)","","            function getDto() {","                return row.toDto.apply(row,args);","            }            ","","            function onDto(dto) {","                result.push(dto);","                return negotiateNextTick(i);","            }","        }","    }","","    return c;","}","","module.exports = newRowArray;",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"9":0,"14":0,"20":1,"21":0,"24":1,"25":0,"26":0,"27":0,"28":0,"30":0,"32":1,"33":0,"34":0,"35":0,"37":0,"38":0,"42":1,"43":0,"46":1,"47":0,"48":0,"53":0,"56":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArray/orderBy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArray/orderBy.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"orderBy","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}}},"2":{"name":"createComparer","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":33}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":20},"end":{"line":13,"column":36}}},"4":{"name":"compareAscending","line":24,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":40}}},"5":{"name":"compareDescending","line":34,"loc":{"start":{"line":34,"column":8},"end":{"line":34,"column":41}}},"6":{"name":"compareComposite","line":40,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":5,"column":5}},"3":{"start":{"line":3,"column":8},"end":{"line":3,"column":56}},"4":{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"6":{"start":{"line":9,"column":0},"end":{"line":50,"column":1}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":23}},"8":{"start":{"line":11,"column":4},"end":{"line":12,"column":28}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":28}},"10":{"start":{"line":13,"column":4},"end":{"line":38,"column":7}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":40}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":31}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":45}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":20}},"15":{"start":{"line":19,"column":8},"end":{"line":22,"column":46}},"16":{"start":{"line":20,"column":12},"end":{"line":20,"column":45}},"17":{"start":{"line":22,"column":12},"end":{"line":22,"column":46}},"18":{"start":{"line":24,"column":8},"end":{"line":32,"column":9}},"19":{"start":{"line":25,"column":12},"end":{"line":25,"column":24}},"20":{"start":{"line":26,"column":12},"end":{"line":26,"column":23}},"21":{"start":{"line":27,"column":12},"end":{"line":28,"column":25}},"22":{"start":{"line":28,"column":16},"end":{"line":28,"column":25}},"23":{"start":{"line":29,"column":12},"end":{"line":30,"column":26}},"24":{"start":{"line":30,"column":16},"end":{"line":30,"column":26}},"25":{"start":{"line":31,"column":12},"end":{"line":31,"column":21}},"26":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"27":{"start":{"line":35,"column":12},"end":{"line":35,"column":41}},"28":{"start":{"line":40,"column":4},"end":{"line":47,"column":5}},"29":{"start":{"line":41,"column":8},"end":{"line":45,"column":9}},"30":{"start":{"line":42,"column":12},"end":{"line":42,"column":44}},"31":{"start":{"line":43,"column":12},"end":{"line":44,"column":30}},"32":{"start":{"line":44,"column":16},"end":{"line":44,"column":30}},"33":{"start":{"line":46,"column":8},"end":{"line":46,"column":17}},"34":{"start":{"line":49,"column":4},"end":{"line":49,"column":28}},"35":{"start":{"line":52,"column":0},"end":{"line":52,"column":25}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":4},"end":{"line":2,"column":4}},{"start":{"line":2,"column":4},"end":{"line":2,"column":4}}]},"2":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":8},"end":{"line":2,"column":16}},{"start":{"line":2,"column":20},"end":{"line":2,"column":36}}]},"3":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"4":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":24},"end":{"line":16,"column":35}},{"start":{"line":16,"column":39},"end":{"line":16,"column":44}}]},"5":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"6":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":12}},{"start":{"line":27,"column":12},"end":{"line":27,"column":12}}]},"7":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":29,"column":12}},{"start":{"line":29,"column":12},"end":{"line":29,"column":12}}]},"8":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":12}},{"start":{"line":43,"column":12},"end":{"line":43,"column":12}}]}},"code":["function orderBy(strategy, rows) {","    if (strategy && strategy.orderBy) {","        var comparer = createComparer(strategy.orderBy);","        return rows.sort(comparer);","    }","    return rows;","}","","function createComparer(orderBy) {","    var comparers = [];","    if (typeof orderBy === 'string')","        orderBy = [orderBy];","    orderBy.forEach(function(order) {","        var elements = order.split(' ');","        var name = elements[0];","        var direction = elements[1] || 'asc';","","        var compare;","        if (direction === 'asc')","            comparers.push(compareAscending);","        else","            comparers.push(compareDescending);","","        function compareAscending(a, b) {","            a = a[name];","            b = b[name]","            if (a === b)","                return 0;","            if (a < b)","                return -1;","            return 1;","        }","","        function compareDescending(a, b) {","            return compareAscending(b, a)","        }","","    });","","    function compareComposite(a, b) {","        for (var i = 0; i < comparers.length; i++) {","            var result = comparers[i](a, b);","            if (result !== 0)","                return result;","        }","        return 0;","    }","","    return compareComposite;","}","","module.exports = orderBy;",""],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"22":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"34":1,"35":0,"40":1,"41":0,"42":0,"43":0,"44":0,"46":0,"49":0,"52":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArray/negotiateNextTick.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArray/negotiateNextTick.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateNextTick","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":9}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":9}},"5":{"start":{"line":6,"column":1},"end":{"line":7,"column":27}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":8}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":35}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]},"2":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},{"start":{"line":6,"column":1},"end":{"line":6,"column":1}}]}},"code":["var promise = require('promise/domains');","","function negotiateNextTick(i) {\t","\tif (i === 0)","\t\treturn;","\tif (i % 1000 === 0)","\t\treturn promise.resolve();","\treturn;","}","","module.exports = negotiateNextTick;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/strategyToSpan.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/strategyToSpan.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"toSpan","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}}},"2":{"name":"applyStrategy","line":10,"loc":{"start":{"line":10,"column":1},"end":{"line":10,"column":45}}},"3":{"name":"addLeg","line":22,"loc":{"start":{"line":22,"column":1},"end":{"line":22,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":3,"column":0},"end":{"line":30,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":15}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":29}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":20}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":36}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":13}},"8":{"start":{"line":10,"column":1},"end":{"line":20,"column":2}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":23}},"10":{"start":{"line":12,"column":2},"end":{"line":13,"column":10}},"11":{"start":{"line":13,"column":3},"end":{"line":13,"column":10}},"12":{"start":{"line":14,"column":2},"end":{"line":19,"column":3}},"13":{"start":{"line":15,"column":3},"end":{"line":18,"column":32}},"14":{"start":{"line":16,"column":4},"end":{"line":16,"column":37}},"15":{"start":{"line":18,"column":4},"end":{"line":18,"column":32}},"16":{"start":{"line":22,"column":1},"end":{"line":29,"column":2}},"17":{"start":{"line":23,"column":2},"end":{"line":23,"column":40}},"18":{"start":{"line":24,"column":2},"end":{"line":24,"column":29}},"19":{"start":{"line":25,"column":2},"end":{"line":25,"column":16}},"20":{"start":{"line":26,"column":2},"end":{"line":26,"column":35}},"21":{"start":{"line":27,"column":2},"end":{"line":27,"column":39}},"22":{"start":{"line":28,"column":2},"end":{"line":28,"column":49}},"23":{"start":{"line":32,"column":0},"end":{"line":32,"column":24}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":3},"end":{"line":15,"column":3}},{"start":{"line":15,"column":3},"end":{"line":15,"column":3}}]}},"code":["var newCollection = require('../newCollection');","","function toSpan(table,strategy) {","\tvar span = {};","\tspan.legs = newCollection();","\tspan.table = table;","\tapplyStrategy(table,span,strategy);","\treturn span;","","\tfunction applyStrategy(table,span,strategy) {","\t\tvar legs = span.legs;","\t\tif(!strategy) ","\t\t\treturn;\t\t","\t\tfor (var name in strategy) {","\t\t\tif (table._relations[name])","\t\t\t\taddLeg(legs,table,strategy,name);","\t\t\telse","\t\t\t\tspan[name] = strategy[name];","\t\t}\t\t\t\t\t","\t}\t","\t\t\t","\tfunction addLeg(legs,table,strategy,name) {\t\t","\t\tvar relation = table._relations[name];","\t\tvar leg = relation.toLeg();","\t\tlegs.add(leg);\t\t","\t\tvar subStrategy = strategy[name];","\t\tvar childTable = relation.childTable;","\t\tapplyStrategy(childTable,leg.span,subStrategy);","\t}","}","","module.exports = toSpan;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"32":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromDbById/extractStrategy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromDbById/extractStrategy.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"extract","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":24}}},"2":{"name":"emptyStrategy","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":60}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":41}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":22}},"6":{"start":{"line":9,"column":0},"end":{"line":11,"column":1}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["","function extract(table) {","\tvar lengthWithStrategy = table._primaryColumns.length  + 2;","\tif (arguments.length == lengthWithStrategy)","\t\treturn arguments[lengthWithStrategy-1];","\treturn emptyStrategy;","}","","function emptyStrategy() {","\t","}","","module.exports = extract;"],"l":{"2":1,"3":0,"4":0,"5":0,"6":0,"9":1,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/nullPromise.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/nullPromise.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}}},"branchMap":{},"code":["module.exports = require('./promise')(null);"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newGetRelated.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newGetRelated.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1,"13":0,"14":0,"15":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newGetRelated","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}}},"2":{"name":"getRelated","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":26}}},"3":{"name":"onFromDb","line":12,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":32}}},"4":{"name":"onRelatives","line":17,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":22,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":20,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":6,"column":49}},"5":{"start":{"line":6,"column":12},"end":{"line":6,"column":49}},"6":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"7":{"start":{"line":8,"column":12},"end":{"line":8,"column":61}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":63}},"9":{"start":{"line":12,"column":8},"end":{"line":15,"column":9}},"10":{"start":{"line":13,"column":12},"end":{"line":13,"column":39}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":24}},"12":{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},"13":{"start":{"line":18,"column":12},"end":{"line":18,"column":49}},"14":{"start":{"line":21,"column":1},"end":{"line":21,"column":19}},"15":{"start":{"line":24,"column":0},"end":{"line":24,"column":31}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":8}},{"start":{"line":5,"column":8},"end":{"line":5,"column":8}}]},"2":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]}},"code":["var isDirty = require('./isDirty');","","function newGetRelated(parent, relation) {","    function getRelated() {","        if (getRelated.expanded)","            return relation.getFromCache(parent);","        if (isDirty()) {","            return relation.getFromDb(parent).then(onFromDb);","        }","        return relation.getRelatives(parent).then(onRelatives);","","        function onFromDb(rows) {","            getRelated.expanded = true;","            return rows;","        }","","        function onRelatives() {","            return relation.getFromCache(parent);","        }","    }","\treturn getRelated;","}","","module.exports = newGetRelated;",""],"l":{"1":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"12":1,"13":0,"14":0,"17":1,"18":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/isDirty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/isDirty.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":58}}},"branchMap":{},"code":["var getSessionSingleton = require('./getSessionSingleton');","","module.exports = getSessionSingleton.bind(null,'isDirty');"],"l":{"1":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/getRelatives.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/getRelatives.js","s":{"1":1,"2":1,"3":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":54}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}}},"branchMap":{},"code":["var legToQuery = require('./joinLegToQuery');","var getRelativesCore = require('../getRelativesCore');","","module.exports = getRelativesCore.bind(null, legToQuery);"],"l":{"1":1,"2":1,"4":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/joinLegToQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/joinLegToQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"joinLegToQuery","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":86}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":76}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}},"4":{"start":{"line":5,"column":0},"end":{"line":14,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":21}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":29}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":47}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":112}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":43}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":71}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":32}}},"branchMap":{},"code":["var newShallowJoinSql = require('../query/addSubQueries/newShallowJoinSql');","var newQuery = require('../newQuery');","var emptyFilter;","","function joinLegToQuery(queries, parentAlias,leg,legNo,filter, innerJoin, limitQuery) {\t","\tvar childAlias = parentAlias + '_' + legNo;","\tvar span = leg.span;","\tvar parentTable = leg.table;\t","\tvar childColumns = span.table._primaryColumns;","\tvar parentColumns = leg.columns;\t ","\tvar shallowJoin  = newShallowJoinSql(parentTable,childColumns,parentColumns,childAlias,parentAlias,limitQuery);","\tinnerJoin = shallowJoin.append(innerJoin);\t","\treturn newQuery(queries, span.table,filter,span,childAlias,innerJoin);","}","","module.exports = joinLegToQuery;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/newShallowJoinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/newShallowJoinSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newShallowJoinSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":97}}},"2":{"name":"negotiateSubQuery","line":10,"loc":{"start":{"line":10,"column":1},"end":{"line":10,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":74}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":54}},"3":{"start":{"line":4,"column":0},"end":{"line":16,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":86}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":36}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":60}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":58}},"8":{"start":{"line":10,"column":1},"end":{"line":15,"column":2}},"9":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"10":{"start":{"line":12,"column":3},"end":{"line":12,"column":63}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":46}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":35}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]}},"code":["var newJoinCore = require('../singleQuery/joinSql/newShallowJoinSqlCore');","var newParameterized = require('../newParameterized');","","function newShallowJoinSql(rightTable,leftColumns,rightColumns,leftAlias,rightAlias, limitQuery) {\t","\tvar joinCore = newJoinCore(rightTable,leftColumns,rightColumns,leftAlias,rightAlias);","\tvar subQuery = negotiateSubQuery();","\tvar postSql = ' ' +  rightAlias + ' ON (' + joinCore + ')';","\treturn  subQuery.prepend(' INNER JOIN ').append(postSql);","","\tfunction negotiateSubQuery() {","\t\tif (limitQuery) {","\t\t\treturn newParameterized('(').append(limitQuery).append(')');","\t\t}","\t\treturn newParameterized(rightTable._dbName);","\t}","}","","module.exports = newShallowJoinSql;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"10":1,"11":0,"12":0,"14":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCore.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":1,"20":0,"21":0,"22":0,"23":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"getRelativesCore","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":56}}},"2":{"name":"onResult","line":20,"loc":{"start":{"line":20,"column":1},"end":{"line":20,"column":27}}},"3":{"name":"onRows","line":24,"loc":{"start":{"line":24,"column":1},"end":{"line":24,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":65}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":14}},"6":{"start":{"line":7,"column":0},"end":{"line":29,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":40}},"8":{"start":{"line":9,"column":1},"end":{"line":10,"column":15}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":15}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":28}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":34}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":32}},"13":{"start":{"line":14,"column":1},"end":{"line":14,"column":40}},"14":{"start":{"line":15,"column":1},"end":{"line":15,"column":42}},"15":{"start":{"line":16,"column":1},"end":{"line":16,"column":78}},"16":{"start":{"line":18,"column":1},"end":{"line":18,"column":58}},"17":{"start":{"line":20,"column":1},"end":{"line":22,"column":2}},"18":{"start":{"line":21,"column":2},"end":{"line":21,"column":41}},"19":{"start":{"line":24,"column":1},"end":{"line":28,"column":2}},"20":{"start":{"line":25,"column":2},"end":{"line":25,"column":32}},"21":{"start":{"line":26,"column":2},"end":{"line":26,"column":49}},"22":{"start":{"line":27,"column":2},"end":{"line":27,"column":14}},"23":{"start":{"line":31,"column":0},"end":{"line":31,"column":34}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},{"start":{"line":9,"column":1},"end":{"line":9,"column":1}}]}},"code":["var executeQueries = require('./executeQueries');","var resultToRows = require('./resultToRows');","var empty = require('./resultToPromise')(false);","var negotiateExpandInverse = require('./negotiateExpandInverse');","var legNo = 0;","","function getRelativesCore(legToQuery, parent, relation) {","\tvar queryContext = parent.queryContext;","\tif (!queryContext)","\t\treturn empty;","\tvar leg = relation.toLeg();","\tvar filter = queryContext.filter;","\tvar alias = queryContext.alias;","\tvar innerJoin = queryContext.innerJoin;","\tvar limitQuery = queryContext.limitQuery;","\tvar query = legToQuery([], alias, leg, legNo, filter, innerJoin, limitQuery);","","\treturn executeQueries(query).then(onResult).then(onRows);","","\tfunction onResult(result) {","\t\treturn  resultToRows(leg.span, result);","\t}","","\tfunction onRows(rows) {","\t\tqueryContext.expand(relation);","\t\tnegotiateExpandInverse(parent, relation, rows);","\t\treturn rows;","\t}","}","","module.exports = getRelativesCore;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"20":1,"21":0,"24":1,"25":0,"26":0,"27":0,"31":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverse.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverse.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateExpandInverse","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":1},"end":{"line":4,"column":9}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":9}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":30}},"6":{"start":{"line":6,"column":1},"end":{"line":7,"column":47}},"7":{"start":{"line":7,"column":2},"end":{"line":7,"column":47}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},{"start":{"line":3,"column":1},"end":{"line":3,"column":1}}]},"2":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},{"start":{"line":6,"column":1},"end":{"line":6,"column":1}}]}},"code":["function negotiateExpandInverse(parent, relation, children) {","\tvar joinRelation = relation.joinRelation;","\tif (!joinRelation)","\t\treturn;","\tvar firstChild = children[0];","\tif (firstChild)","\t\tfirstChild.queryContext.expand(joinRelation);","}","","module.exports = negotiateExpandInverse;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTable.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"newRelatedTable","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}}},"2":{"name":"defineChildren","line":16,"loc":{"start":{"line":16,"column":1},"end":{"line":16,"column":27}}},"3":{"name":"defineChild","line":23,"loc":{"start":{"line":23,"column":1},"end":{"line":23,"column":29}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":11},"end":{"line":29,"column":22}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":23}}},"6":{"name":"_nextRelatedTable","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":1},"end":{"line":1,"column":64}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":40,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":30}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":12}},"8":{"start":{"line":10,"column":1},"end":{"line":13,"column":2}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":23}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":49}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":18}},"12":{"start":{"line":16,"column":1},"end":{"line":21,"column":2}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":40}},"14":{"start":{"line":18,"column":2},"end":{"line":20,"column":3}},"15":{"start":{"line":19,"column":3},"end":{"line":19,"column":22}},"16":{"start":{"line":23,"column":1},"end":{"line":33,"column":2}},"17":{"start":{"line":24,"column":2},"end":{"line":24,"column":41}},"18":{"start":{"line":25,"column":5},"end":{"line":25,"column":39}},"19":{"start":{"line":26,"column":5},"end":{"line":26,"column":29}},"20":{"start":{"line":28,"column":2},"end":{"line":32,"column":5}},"21":{"start":{"line":30,"column":10},"end":{"line":30,"column":44}},"22":{"start":{"line":35,"column":1},"end":{"line":37,"column":3}},"23":{"start":{"line":36,"column":2},"end":{"line":36,"column":30}},"24":{"start":{"line":39,"column":1},"end":{"line":39,"column":10}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":1}},"26":{"start":{"line":43,"column":1},"end":{"line":43,"column":49}},"27":{"start":{"line":44,"column":1},"end":{"line":44,"column":36}},"28":{"start":{"line":47,"column":0},"end":{"line":47,"column":33}}},"branchMap":{},"code":["\tvar newRelatedColumn = require('./relatedTable/relatedColumn');","var nextRelatedTable = _nextRelatedTable;","var subFilter = require('./relatedTable/subFilter');","","function newRelatedTable(relations) {","\tvar table = relations[relations.length-1].childTable;","\tvar columns = table._columns;\t","\tvar c = {};","","\tfor (var i = 0; i < columns.length; i++) {","\t\tvar col = columns[i];","\t\tc[col.alias] = newRelatedColumn(col,relations);","\t}","\tdefineChildren();","","\tfunction defineChildren() {","\t\tvar childRelations = table._relations;","\t\tfor(var alias in childRelations) {\t","\t\t\tdefineChild(alias);","\t\t}","\t}","","\tfunction defineChild(alias) {\t\t","\t\tvar relation = table._relations[alias];    \t","    \tvar children = relations.slice(0);    \t\t\t\t    \t\t\t\t","    \tchildren.push(relation);","","\t\tObject.defineProperty(c, alias, {","    \t\tget: function() {        \t\t\t","    \t   \t\treturn nextRelatedTable(children);","    \t\t}","\t\t});\t","\t}","","\tc.exists = function() {","\t\treturn subFilter(relations);","\t};","","\treturn c;","}","","function _nextRelatedTable(relations) {","\tnextRelatedTable = require('./newRelatedTable');","\treturn nextRelatedTable(relations);","}","","module.exports = newRelatedTable;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"14":0,"16":1,"17":0,"18":0,"19":0,"23":1,"24":0,"25":0,"26":0,"28":0,"30":0,"35":0,"36":0,"39":0,"42":1,"43":0,"44":0,"47":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/relatedColumn.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/relatedColumn.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newRelatedColumn","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}}},"2":{"name":"wrapFilter","line":14,"loc":{"start":{"line":14,"column":1},"end":{"line":14,"column":29}}},"3":{"name":"runFilter","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":3,"column":0},"end":{"line":28,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":36}},"5":{"start":{"line":6,"column":1},"end":{"line":11,"column":2}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":30}},"7":{"start":{"line":8,"column":2},"end":{"line":10,"column":34}},"8":{"start":{"line":10,"column":3},"end":{"line":10,"column":34}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":10}},"10":{"start":{"line":14,"column":1},"end":{"line":26,"column":2}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":19}},"12":{"start":{"line":17,"column":2},"end":{"line":25,"column":3}},"13":{"start":{"line":18,"column":3},"end":{"line":18,"column":17}},"14":{"start":{"line":19,"column":3},"end":{"line":21,"column":4}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":28}},"16":{"start":{"line":22,"column":3},"end":{"line":22,"column":20}},"17":{"start":{"line":23,"column":3},"end":{"line":23,"column":48}},"18":{"start":{"line":24,"column":3},"end":{"line":24,"column":48}},"19":{"start":{"line":30,"column":0},"end":{"line":30,"column":34}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]}},"code":["var newSubFilter = require('./subFilter');","","function newRelatedColumn(column,relations) {","\tvar c = {};","\tvar alias = '_' + relations.length;","\tfor (var propName in column) {","\t\tvar prop = column[propName];","\t\tif (prop instanceof Function)\t\t\t","","\t\t\tc[propName] = wrapFilter(prop);","\t}","\treturn c;","","\tfunction wrapFilter(filter) {","\t\treturn runFilter;","\t\t","\t\tfunction runFilter() {","\t\t\tvar args = [];","\t\t\tfor (var i = 0; i < arguments.length; i++) {","\t\t\t\targs.push(arguments[i]);","\t\t\t}","\t\t\targs.push(alias);","\t\t\tvar shallowFilter =  filter.apply(null,args);","\t\t\treturn newSubFilter(relations,shallowFilter);","\t\t}","\t}","","}","","module.exports = newRelatedColumn;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0,"12":0,"14":1,"15":0,"17":1,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"30":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/subFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/subFilter.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newSubFilter","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":5,"column":0},"end":{"line":14,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":51}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":57}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":31}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":50}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":54}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"branchMap":{},"code":["var newSelect = require('./selectSql');","var newJoin = require('./joinSql');","var newWhere = require('./whereSql');","","function newSubFilter(relations, shallowFilter) {","\tvar relationCount = relations.length;","\tvar alias = '_' + relationCount;","\tvar table = relations[relationCount-1].childTable;","\tvar filter = newSelect(table,alias).prepend('EXISTS (');","\tvar join = newJoin(relations);","\tvar where = newWhere(relations[0],shallowFilter);","\treturn filter.append(join).append(where).append(')');","","}","","module.exports = newSubFilter;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/selectSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/selectSql.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newSelectSql","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":48}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":89}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":24}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}}},"branchMap":{},"code":["var newParameterized = require('../query/newParameterized');","var newBoolean = require('../column/newBoolean');","","function newSelectSql(table, alias) {","\tvar colName = table._primaryColumns[0]._dbName;","\tvar sql = 'SELECT ' + alias + '.' + colName + ' FROM ' + table._dbName + ' AS ' + alias;","\tsql = newParameterized(sql);","\treturn newBoolean(sql);","}","","module.exports = newSelectSql;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/joinSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/joinSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newJoinSql","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":34}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":14},"end":{"line":17,"column":33}}},"4":{"name":"innerJoin","line":23,"loc":{"start":{"line":23,"column":1},"end":{"line":23,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":82}},"2":{"start":{"line":3,"column":0},"end":{"line":39,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":13}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":13}},"5":{"start":{"line":6,"column":1},"end":{"line":7,"column":13}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":14}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":12}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":7}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":14}},"10":{"start":{"line":13,"column":1},"end":{"line":15,"column":3}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":134}},"12":{"start":{"line":17,"column":1},"end":{"line":19,"column":3}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":22}},"14":{"start":{"line":21,"column":1},"end":{"line":21,"column":26}},"15":{"start":{"line":23,"column":1},"end":{"line":30,"column":2}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":43}},"17":{"start":{"line":25,"column":2},"end":{"line":25,"column":38}},"18":{"start":{"line":26,"column":2},"end":{"line":26,"column":43}},"19":{"start":{"line":27,"column":2},"end":{"line":27,"column":41}},"20":{"start":{"line":29,"column":2},"end":{"line":29,"column":91}},"21":{"start":{"line":32,"column":1},"end":{"line":37,"column":2}},"22":{"start":{"line":33,"column":2},"end":{"line":33,"column":26}},"23":{"start":{"line":34,"column":2},"end":{"line":34,"column":23}},"24":{"start":{"line":35,"column":2},"end":{"line":35,"column":26}},"25":{"start":{"line":36,"column":2},"end":{"line":36,"column":21}},"26":{"start":{"line":38,"column":1},"end":{"line":38,"column":12}},"27":{"start":{"line":41,"column":0},"end":{"line":41,"column":28}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["var newShallowJoinSql = require('../query/singleQuery/joinSql/newShallowJoinSql');","","function newJoinSql(relations) {","\tif (relations.length == 1)","\t\treturn  '';","\tvar leftAlias,","\t\trightAlias;","\tvar relation;","\tvar c = {};","\tvar i;","\tvar sql = '';","","\tc.visitJoin = function(relation) {","\t\tsql += ' INNER' + newShallowJoinSql(relation.parentTable,relation.childTable._primaryColumns,relation.columns,leftAlias,rightAlias);\t","\t};","","\tc.visitOne = function(relation) {\t","\t\tinnerJoin(relation);","\t};","","\tc.visitMany = c.visitOne;","","\tfunction innerJoin(relation) {","\t\tvar joinRelation = relation.joinRelation;","\t\tvar table = joinRelation.childTable;\t\t","\t\tvar rightColumns = table._primaryColumns;\t\t","\t\tvar leftColumns = joinRelation.columns;","","\t\tsql += ' INNER' + newShallowJoinSql(table,leftColumns,rightColumns,leftAlias,rightAlias);\t","\t}","","\tfor (i = relations.length-1; i > 0; i--) {","\t\tleftAlias = '_' + (i+1);","\t\trightAlias = '_' + i;","\t\trelation = relations[i];","\t\trelation.accept(c);","\t}","\treturn sql;","}","","module.exports = newJoinSql;",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"17":0,"18":0,"21":0,"23":1,"24":0,"25":0,"26":0,"27":0,"29":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":0,"41":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/whereSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relatedTable/whereSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"newWhereSql","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":34}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":14},"end":{"line":15,"column":33}}},"4":{"name":"where","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":86}},"2":{"start":{"line":3,"column":0},"end":{"line":37,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":9}},"5":{"start":{"line":7,"column":1},"end":{"line":13,"column":3}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":34}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":43}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":37}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":43}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":40}},"11":{"start":{"line":15,"column":1},"end":{"line":22,"column":3}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":43}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":42}},"14":{"start":{"line":18,"column":2},"end":{"line":18,"column":43}},"15":{"start":{"line":19,"column":2},"end":{"line":19,"column":47}},"16":{"start":{"line":20,"column":2},"end":{"line":20,"column":33}},"17":{"start":{"line":21,"column":2},"end":{"line":21,"column":40}},"18":{"start":{"line":24,"column":1},"end":{"line":24,"column":26}},"19":{"start":{"line":26,"column":1},"end":{"line":33,"column":2}},"20":{"start":{"line":27,"column":2},"end":{"line":27,"column":34}},"21":{"start":{"line":28,"column":2},"end":{"line":28,"column":78}},"22":{"start":{"line":29,"column":2},"end":{"line":32,"column":30}},"23":{"start":{"line":30,"column":3},"end":{"line":30,"column":63}},"24":{"start":{"line":32,"column":3},"end":{"line":32,"column":30}},"25":{"start":{"line":35,"column":1},"end":{"line":35,"column":20}},"26":{"start":{"line":36,"column":1},"end":{"line":36,"column":12}},"27":{"start":{"line":39,"column":0},"end":{"line":39,"column":29}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":29,"column":2}},{"start":{"line":29,"column":2},"end":{"line":29,"column":2}}]}},"code":["var newShallowJoinSql = require('../query/singleQuery/joinSql/newShallowJoinSqlCore');","","function newWhereSql(relation,shallowFilter) {","\tvar c = {};","\tvar sql;","","\tc.visitJoin = function(relation) {","\t\tvar table = relation.childTable;","\t\tvar alias = relation.parentTable._dbName;","\t\tvar leftColumns = relation.columns;","\t\tvar rightColumns = table._primaryColumns;","\t\twhere(alias,leftColumns,rightColumns);","\t};","","\tc.visitOne = function(relation) {","\t\tvar joinRelation = relation.joinRelation;","\t\tvar rightColumns = joinRelation.columns;\t\t","\t\tvar childTable = joinRelation.childTable;","\t\tvar leftColumns = childTable._primaryColumns;","\t\tvar alias = childTable._dbName;","\t\twhere(alias,leftColumns,rightColumns);","\t};","","\tc.visitMany = c.visitOne;","","\tfunction where(alias,leftColumns,rightColumns) {","\t\tvar table = relation.childTable;","\t\tvar joinCore = newShallowJoinSql(table,leftColumns,rightColumns,alias,'_1');","\t\tif (shallowFilter)","\t\t\tsql = shallowFilter.prepend(' WHERE ' + joinCore + ' AND ');\t\t","\t\telse","\t\t\tsql = ' WHERE ' + joinCore;","\t}","","\trelation.accept(c);","\treturn sql;","}","","module.exports = newWhereSql;",""],"l":{"1":1,"3":1,"4":0,"5":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"24":0,"26":1,"27":0,"28":0,"29":0,"30":0,"32":0,"35":0,"36":0,"39":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasMany.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasMany.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newOne","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":25}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":23,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":43}},"6":{"start":{"line":8,"column":1},"end":{"line":20,"column":3}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":34}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":47}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":43}},"10":{"start":{"line":13,"column":2},"end":{"line":17,"column":5}},"11":{"start":{"line":15,"column":10},"end":{"line":15,"column":45}},"12":{"start":{"line":19,"column":2},"end":{"line":19,"column":18}},"13":{"start":{"line":22,"column":1},"end":{"line":22,"column":10}},"14":{"start":{"line":25,"column":0},"end":{"line":25,"column":24}}},"branchMap":{},"code":["var newManyRelation = require('./newManyRelation');","var newRelatedTable = require('./newRelatedTable');","","function newOne(joinRelation) {","\tvar c = {};","\tvar parentTable = joinRelation.childTable;","","\tc.as = function (alias) {\t","\t\tjoinRelation.rightAlias = alias;","\t\tvar relation = newManyRelation(joinRelation);","\t\tparentTable._relations[alias] = relation;","\t\t","\t\tObject.defineProperty(parentTable, alias, {","    \t\tget: function() {","        \t\treturn newRelatedTable([relation]);","    \t\t}","\t\t});","","\t\treturn relation;","\t};","","\treturn c;","}","","module.exports = newOne;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"13":0,"15":0,"19":0,"22":0,"25":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelation.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelation.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newManyRelation","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":33}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":21},"end":{"line":19,"column":38}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":35}}},"5":{"name":"(anonymous_5)","line":29,"loc":{"start":{"line":29,"column":21},"end":{"line":29,"column":38}}},"6":{"name":"(anonymous_6)","line":33,"loc":{"start":{"line":33,"column":21},"end":{"line":33,"column":38}}},"7":{"name":"(anonymous_7)","line":37,"loc":{"start":{"line":37,"column":15},"end":{"line":37,"column":32}}},"8":{"name":"(anonymous_8)","line":43,"loc":{"start":{"line":43,"column":14},"end":{"line":43,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":54}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":68}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"7":{"start":{"line":8,"column":0},"end":{"line":48,"column":1}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":15}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":47}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":34}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":44}},"12":{"start":{"line":15,"column":4},"end":{"line":17,"column":6}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"14":{"start":{"line":19,"column":4},"end":{"line":22,"column":6}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":43}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":36}},"17":{"start":{"line":24,"column":4},"end":{"line":27,"column":6}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":63}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":44}},"20":{"start":{"line":29,"column":4},"end":{"line":31,"column":6}},"21":{"start":{"line":30,"column":8},"end":{"line":30,"column":39}},"22":{"start":{"line":33,"column":4},"end":{"line":35,"column":6}},"23":{"start":{"line":34,"column":8},"end":{"line":34,"column":40}},"24":{"start":{"line":37,"column":4},"end":{"line":39,"column":6}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":54}},"26":{"start":{"line":41,"column":4},"end":{"line":41,"column":37}},"27":{"start":{"line":43,"column":4},"end":{"line":45,"column":6}},"28":{"start":{"line":44,"column":8},"end":{"line":44,"column":25}},"29":{"start":{"line":47,"column":4},"end":{"line":47,"column":13}},"30":{"start":{"line":50,"column":0},"end":{"line":50,"column":33}}},"branchMap":{},"code":["var newLeg = require('./relation/newManyLeg');","var newManyCache = require('./relation/newManyCache');","var newForeignKeyFilter = require('./relation/newForeignKeyFilter');","var getRelatives = require('./oneRelation/getRelatives');","var resultToPromise = require('./resultToPromise');","var newGetRelated = require('./newGetRelated');","","function newManyRelation(joinRelation) {","    var c = {};","    var manyCache = newManyCache(joinRelation);","","    c.joinRelation = joinRelation;","    c.childTable = joinRelation.parentTable;","","    c.accept = function(visitor) {","        visitor.visitMany(c);","    };","","    c.getFromCache = function(parent) {","        var row = manyCache.tryGet(parent);","        return resultToPromise(row);","    };","","    c.getFromDb = function(parent) {","        var filter = newForeignKeyFilter(joinRelation, parent);","        return c.childTable.getMany(filter);","    };","","    c.getRelatives = function(parent) {","        return getRelatives(parent, c);","    };","","    c.toGetRelated = function(parent) {","        return newGetRelated(parent, c);","    };","","    c.expand = function(parent) {","        return parent.expand(joinRelation.rightAlias);","    };","","    c.getRowsSync = manyCache.tryGet;","","    c.toLeg = function() {","        return newLeg(c);","    };","","    return c;","}","","module.exports = newManyRelation;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"12":0,"13":0,"15":0,"16":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"29":0,"30":0,"33":0,"34":0,"37":0,"38":0,"41":0,"43":0,"44":0,"47":0,"50":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newManyLeg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newManyLeg.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newLeg","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":29}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":43}},"5":{"start":{"line":6,"column":1},"end":{"line":8,"column":3}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":23}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":28}},"8":{"start":{"line":12,"column":1},"end":{"line":12,"column":10}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":24}}},"branchMap":{},"code":["var newOneLeg = require('./newOneLeg');","","function newLeg(relation) {\t","\tvar c = newOneLeg(relation);","\tc.name = relation.joinRelation.rightAlias;","\tc.accept = function(visitor) {","\t\tvisitor.visitMany(c);","\t};","","\tc.expand = relation.expand;","\t","\treturn c; ","}","","module.exports = newLeg;",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newOneLeg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newOneLeg.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newLeg","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":12},"end":{"line":16,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":3,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":5,"column":1},"end":{"line":5,"column":42}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":12}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":34}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":15}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":39}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":29}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":15}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":35}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":34}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":28}},"13":{"start":{"line":16,"column":1},"end":{"line":18,"column":3}},"14":{"start":{"line":17,"column":2},"end":{"line":17,"column":22}},"15":{"start":{"line":20,"column":1},"end":{"line":20,"column":10}},"16":{"start":{"line":23,"column":0},"end":{"line":23,"column":24}}},"branchMap":{},"code":["var newCollection = require('../../newCollection');","","function newLeg(relation) {","","\tvar joinRelation = relation.joinRelation;","\tvar c = {};","\tc.name = joinRelation.rightAlias;","\tvar span = {};\t\t","\tspan.table = joinRelation.parentTable;\t","\tspan.legs = newCollection();","\tc.span = span;","\tc.table = joinRelation.childTable;","\tc.columns = joinRelation.columns;","\tc.expand = relation.expand;","","\tc.accept = function(visitor) {","\t\tvisitor.visitOne(c);","\t};","","\treturn c;\t","}","","module.exports = newLeg;",""],"l":{"1":1,"3":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"20":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newManyCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newManyCache.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"newManyCache","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":36}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":39}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":18},"end":{"line":20,"column":42}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":15},"end":{"line":25,"column":35}}},"5":{"name":"fillCache","line":38,"loc":{"start":{"line":38,"column":4},"end":{"line":38,"column":30}}},"6":{"name":"addToCache","line":44,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":67}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":63}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":67}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":63}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":49}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":60}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":60}},"9":{"start":{"line":10,"column":0},"end":{"line":53,"column":1}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":15}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":22}},"12":{"start":{"line":14,"column":4},"end":{"line":18,"column":6}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":45}},"14":{"start":{"line":16,"column":8},"end":{"line":16,"column":36}},"15":{"start":{"line":17,"column":8},"end":{"line":17,"column":59}},"16":{"start":{"line":20,"column":4},"end":{"line":23,"column":6}},"17":{"start":{"line":21,"column":8},"end":{"line":21,"column":45}},"18":{"start":{"line":22,"column":8},"end":{"line":22,"column":39}},"19":{"start":{"line":25,"column":4},"end":{"line":35,"column":6}},"20":{"start":{"line":26,"column":8},"end":{"line":26,"column":45}},"21":{"start":{"line":27,"column":8},"end":{"line":33,"column":9}},"22":{"start":{"line":28,"column":12},"end":{"line":28,"column":47}},"23":{"start":{"line":29,"column":12},"end":{"line":29,"column":44}},"24":{"start":{"line":30,"column":12},"end":{"line":30,"column":29}},"25":{"start":{"line":31,"column":12},"end":{"line":31,"column":53}},"26":{"start":{"line":32,"column":12},"end":{"line":32,"column":58}},"27":{"start":{"line":34,"column":8},"end":{"line":34,"column":39}},"28":{"start":{"line":38,"column":4},"end":{"line":48,"column":5}},"29":{"start":{"line":39,"column":8},"end":{"line":39,"column":50}},"30":{"start":{"line":40,"column":8},"end":{"line":40,"column":43}},"31":{"start":{"line":41,"column":8},"end":{"line":41,"column":43}},"32":{"start":{"line":42,"column":8},"end":{"line":42,"column":37}},"33":{"start":{"line":44,"column":8},"end":{"line":47,"column":9}},"34":{"start":{"line":45,"column":12},"end":{"line":45,"column":63}},"35":{"start":{"line":46,"column":12},"end":{"line":46,"column":36}},"36":{"start":{"line":52,"column":4},"end":{"line":52,"column":13}},"37":{"start":{"line":55,"column":0},"end":{"line":55,"column":30}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]}},"code":["var synchronizeChanged = require('./manyCache/synchronizeChanged');","var synchronizeAdded = require('./manyCache/synchronizeAdded');","var synchronizeRemoved = require('./manyCache/synchronizeRemoved');","var extractParentKey = require('./manyCache/extractParentKey');","var newCacheCore = require('./newManyCacheCore');","var newId = require('../../newId');","var getSessionSingleton = require('../getSessionSingleton');","var setSessionSingleton = require('../setSessionSingleton');","","function newManyCache(joinRelation) {","    var c = {};","    var key = newId();","","    c.tryAdd = function(parent, child) {","        var cache = getSessionSingleton(key);","        cache.tryAdd(parent, child);","        synchronizeChanged(c, joinRelation, parent, child);","    };","","    c.tryRemove = function(parent, child) {","        var cache = getSessionSingleton(key);","        cache.tryRemove(parent, child);","    };","","    c.tryGet = function(parentRow) {","        var cache = getSessionSingleton(key);","        if (!cache) {","            cache = newCacheCore(joinRelation);","            setSessionSingleton(key, cache);","            fillCache(cache);","            synchronizeAdded(c.tryAdd, joinRelation);","            synchronizeRemoved(c.tryRemove, joinRelation);","        }","        return cache.tryGet(parentRow);","    };","","","    function fillCache(cache) {","        var childTable = joinRelation.parentTable;","        var childCache = childTable._cache;","        var children = childCache.getAll();","        children.forEach(addToCache);","","        function addToCache(child) {","            var parent = extractParentKey(joinRelation, child);  ","            c.tryAdd(parent, child);","        }","    }","","    ","","    return c;","}","","module.exports = newManyCache;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"11":0,"12":0,"14":0,"15":0,"16":0,"17":0,"20":0,"21":0,"22":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"34":0,"38":1,"39":0,"40":0,"41":0,"42":0,"44":1,"45":0,"46":0,"52":0,"55":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/synchronizeChanged.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/synchronizeChanged.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"synchronizeChanged","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":68}}},"2":{"name":"subscribeColumn","line":8,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":37}}},"3":{"name":"unsubscribe","line":12,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":32}}},"4":{"name":"unsubscribeColumn","line":15,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":43}}},"5":{"name":"onChanged","line":20,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":3,"column":0},"end":{"line":29,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":39}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":17}},"6":{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":56}},"8":{"start":{"line":12,"column":4},"end":{"line":18,"column":5}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":43}},"10":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"11":{"start":{"line":16,"column":12},"end":{"line":16,"column":62}},"12":{"start":{"line":20,"column":4},"end":{"line":25,"column":5}},"13":{"start":{"line":21,"column":8},"end":{"line":21,"column":27}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":43}},"15":{"start":{"line":23,"column":8},"end":{"line":23,"column":62}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"17":{"start":{"line":31,"column":0},"end":{"line":31,"column":36}}},"branchMap":{},"code":["var extractParentKey = require('./extractParentKey');","","function synchronizeChanged(manyCache, joinRelation, parent, child) {","    var columns = joinRelation.columns;","    columns.forEach(subscribeColumn);","    child = null;","","    function subscribeColumn(column) {","        child.subscribeChanged(onChanged, column.alias);","    }","","    function unsubscribe(child) {","        columns.forEach(unsubscribeColumn);","","        function unsubscribeColumn(column) {","            child.unsubscribeChanged(onChanged, column.alias);","        }","    }","","    function onChanged(child) {","        unsubscribe(child);","        manyCache.tryRemove(parent, child);","        var newParent = extractParentKey(joinRelation, child);","        manyCache.tryAdd(newParent, child);","    }","","","","}","","module.exports = synchronizeChanged;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"8":1,"9":0,"12":1,"13":0,"15":1,"16":0,"20":1,"21":0,"22":0,"23":0,"24":0,"31":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/extractParentKey.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/extractParentKey.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"extractParentKey","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}}},"2":{"name":"addKeyToParent","line":9,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":20}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":49}},"6":{"start":{"line":9,"column":4},"end":{"line":12,"column":5}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":50}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":59}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":18}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}}},"branchMap":{},"code":["function extractParentKey(joinRelation, child) {","","    var childTable = joinRelation.childTable;","    var primaryColumns = childTable._primaryColumns;","    var parent = {};","","    joinRelation.columns.forEach(addKeyToParent);","","    function addKeyToParent(childPk, index) {","        var primaryColumn = primaryColumns[index];","        parent[primaryColumn.alias] = child[childPk.alias];","    }","","    return parent;","}","","module.exports = extractParentKey;"],"l":{"1":1,"3":0,"4":0,"5":0,"7":0,"9":1,"10":0,"11":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/synchronizeAdded.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/synchronizeAdded.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"synchronizeAdded","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}}},"2":{"name":"onAdded","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":7,"column":1},"end":{"line":10,"column":2}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":53}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}}},"branchMap":{},"code":["var extractParentKey = require('./extractParentKey');","","function synchronizeAdded(action, joinRelation) {","\tvar cache = joinRelation.parentTable._cache;","\tcache.subscribeAdded(onAdded);","\t","\tfunction onAdded(child) {","\t\tvar parent = extractParentKey(joinRelation, child);","\t\taction(parent, child);","\t}","}","","module.exports = synchronizeAdded;",""],"l":{"1":1,"3":1,"4":0,"5":0,"7":1,"8":0,"9":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/synchronizeRemoved.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/manyCache/synchronizeRemoved.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"synchronizeRemoved","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}}},"2":{"name":"onRemoved","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":35}},"5":{"start":{"line":7,"column":1},"end":{"line":10,"column":2}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":53}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":36}}},"branchMap":{},"code":["var extractParentKey = require('./extractParentKey');","","function synchronizeRemoved(action, joinRelation) {","\tvar cache = joinRelation.parentTable._cache;","\tcache.subscribeRemoved(onRemoved);","\t","\tfunction onRemoved(child) {","\t\tvar parent = extractParentKey(joinRelation, child);","\t\taction(parent, child);","\t}","}","","module.exports = synchronizeRemoved;",""],"l":{"1":1,"3":1,"4":0,"5":0,"7":1,"8":0,"9":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newManyCacheCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newManyCacheCore.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"newManyCache","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":15},"end":{"line":9,"column":35}}},"3":{"name":"tryAdd","line":17,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":41}}},"4":{"name":"newArray","line":29,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":24}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":18},"end":{"line":35,"column":48}}},"6":{"name":"toKey","line":42,"loc":{"start":{"line":42,"column":4},"end":{"line":42,"column":24}}},"7":{"name":"onColumn","line":45,"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":51,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":15}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":65}},"7":{"start":{"line":9,"column":4},"end":{"line":15,"column":6}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":35}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":38}},"10":{"start":{"line":12,"column":8},"end":{"line":13,"column":30}},"11":{"start":{"line":13,"column":12},"end":{"line":13,"column":30}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"13":{"start":{"line":17,"column":4},"end":{"line":27,"column":5}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":35}},"15":{"start":{"line":19,"column":8},"end":{"line":19,"column":41}},"16":{"start":{"line":20,"column":8},"end":{"line":23,"column":9}},"17":{"start":{"line":21,"column":12},"end":{"line":21,"column":36}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":19}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":30}},"20":{"start":{"line":25,"column":8},"end":{"line":25,"column":28}},"21":{"start":{"line":26,"column":8},"end":{"line":26,"column":43}},"22":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"23":{"start":{"line":30,"column":8},"end":{"line":30,"column":53}},"24":{"start":{"line":33,"column":4},"end":{"line":33,"column":22}},"25":{"start":{"line":35,"column":4},"end":{"line":40,"column":6}},"26":{"start":{"line":36,"column":8},"end":{"line":36,"column":35}},"27":{"start":{"line":37,"column":8},"end":{"line":37,"column":41}},"28":{"start":{"line":38,"column":8},"end":{"line":38,"column":47}},"29":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"30":{"start":{"line":42,"column":4},"end":{"line":48,"column":5}},"31":{"start":{"line":43,"column":8},"end":{"line":43,"column":44}},"32":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"33":{"start":{"line":46,"column":12},"end":{"line":46,"column":37}},"34":{"start":{"line":50,"column":4},"end":{"line":50,"column":13}},"35":{"start":{"line":53,"column":0},"end":{"line":53,"column":30}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":8}},{"start":{"line":12,"column":8},"end":{"line":12,"column":8}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":8}},{"start":{"line":20,"column":8},"end":{"line":20,"column":8}}]}},"code":["var newCacheCore = require('../newCache');","var newRowArray = require('../rowArray');","","function newManyCache(joinRelation) {","    var c = {};","    var cache = newCacheCore();","    var primaryColumns = joinRelation.childTable._primaryColumns;","","    c.tryGet = function(parentRow) {","        var key = toKey(parentRow);","        var rows =  cache.tryGet(key);","        if (!rows) ","            return newArray();","        return rows;","    };","","    function tryAdd(parentRow, childRow) {","        var key = toKey(parentRow);","        var existing = cache.tryGet(key);","        if(existing) {","            existing.push(childRow);","            return;","        }","        var rows = newArray();","        rows.push(childRow);","        existing = cache.tryAdd(key, rows);","    }","","    function newArray() {","        return newRowArray(joinRelation.parentTable);","    }","","    c.tryAdd = tryAdd;","","    c.tryRemove = function(parentRow, childRow) {","        var key = toKey(parentRow);","        var existing = cache.tryGet(key);","        var index = existing.indexOf(childRow);","        existing.splice(index,1);","    };","","    function toKey(row) {","        return primaryColumns.map(onColumn);","","        function onColumn(column) {","            return row[column.alias];","        }","    }","","    return c;","}","","module.exports = newManyCache;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"24":0,"25":0,"26":0,"29":1,"30":0,"33":0,"35":0,"36":0,"37":0,"38":0,"39":0,"42":1,"43":0,"45":1,"46":0,"50":0,"53":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCache.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"cacheCore","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":21}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":29}}},"3":{"name":"tryGetCore","line":16,"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":42}}},"4":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":15},"end":{"line":28,"column":37}}},"5":{"name":"addCore","line":34,"loc":{"start":{"line":34,"column":8},"end":{"line":34,"column":39}}},"6":{"name":"(anonymous_6)","line":51,"loc":{"start":{"line":51,"column":18},"end":{"line":51,"column":32}}},"7":{"name":"tryRemoveCore","line":57,"loc":{"start":{"line":57,"column":8},"end":{"line":57,"column":45}}},"8":{"name":"(anonymous_8)","line":73,"loc":{"start":{"line":73,"column":15},"end":{"line":73,"column":26}}},"9":{"name":"getAllCore","line":78,"loc":{"start":{"line":78,"column":8},"end":{"line":78,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":94,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":35}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":19}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":18}},"8":{"start":{"line":10,"column":4},"end":{"line":26,"column":6}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":35}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":40}},"12":{"start":{"line":16,"column":8},"end":{"line":24,"column":9}},"13":{"start":{"line":17,"column":12},"end":{"line":17,"column":38}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":45}},"15":{"start":{"line":19,"column":12},"end":{"line":20,"column":28}},"16":{"start":{"line":20,"column":16},"end":{"line":20,"column":28}},"17":{"start":{"line":21,"column":12},"end":{"line":22,"column":34}},"18":{"start":{"line":22,"column":16},"end":{"line":22,"column":34}},"19":{"start":{"line":23,"column":12},"end":{"line":23,"column":56}},"20":{"start":{"line":28,"column":4},"end":{"line":49,"column":6}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":22}},"22":{"start":{"line":30,"column":8},"end":{"line":30,"column":31}},"23":{"start":{"line":32,"column":8},"end":{"line":32,"column":38}},"24":{"start":{"line":34,"column":8},"end":{"line":48,"column":9}},"25":{"start":{"line":35,"column":12},"end":{"line":35,"column":38}},"26":{"start":{"line":37,"column":12},"end":{"line":44,"column":13}},"27":{"start":{"line":38,"column":16},"end":{"line":39,"column":43}},"28":{"start":{"line":39,"column":20},"end":{"line":39,"column":43}},"29":{"start":{"line":41,"column":16},"end":{"line":41,"column":41}},"30":{"start":{"line":42,"column":16},"end":{"line":42,"column":34}},"31":{"start":{"line":43,"column":16},"end":{"line":43,"column":30}},"32":{"start":{"line":45,"column":12},"end":{"line":46,"column":37}},"33":{"start":{"line":46,"column":16},"end":{"line":46,"column":37}},"34":{"start":{"line":47,"column":12},"end":{"line":47,"column":53}},"35":{"start":{"line":51,"column":4},"end":{"line":71,"column":6}},"36":{"start":{"line":52,"column":8},"end":{"line":52,"column":22}},"37":{"start":{"line":53,"column":8},"end":{"line":53,"column":35}},"38":{"start":{"line":55,"column":8},"end":{"line":55,"column":43}},"39":{"start":{"line":57,"column":8},"end":{"line":69,"column":9}},"40":{"start":{"line":58,"column":12},"end":{"line":58,"column":38}},"41":{"start":{"line":59,"column":12},"end":{"line":60,"column":28}},"42":{"start":{"line":60,"column":16},"end":{"line":60,"column":28}},"43":{"start":{"line":61,"column":12},"end":{"line":61,"column":45}},"44":{"start":{"line":62,"column":12},"end":{"line":66,"column":13}},"45":{"start":{"line":63,"column":16},"end":{"line":63,"column":39}},"46":{"start":{"line":64,"column":16},"end":{"line":64,"column":40}},"47":{"start":{"line":65,"column":16},"end":{"line":65,"column":34}},"48":{"start":{"line":68,"column":12},"end":{"line":68,"column":59}},"49":{"start":{"line":73,"column":4},"end":{"line":88,"column":6}},"50":{"start":{"line":74,"column":8},"end":{"line":74,"column":22}},"51":{"start":{"line":75,"column":8},"end":{"line":75,"column":24}},"52":{"start":{"line":76,"column":8},"end":{"line":76,"column":33}},"53":{"start":{"line":78,"column":8},"end":{"line":86,"column":9}},"54":{"start":{"line":79,"column":12},"end":{"line":85,"column":13}},"55":{"start":{"line":80,"column":16},"end":{"line":80,"column":40}},"56":{"start":{"line":81,"column":16},"end":{"line":84,"column":47}},"57":{"start":{"line":82,"column":20},"end":{"line":82,"column":39}},"58":{"start":{"line":84,"column":20},"end":{"line":84,"column":47}},"59":{"start":{"line":87,"column":8},"end":{"line":87,"column":22}},"60":{"start":{"line":90,"column":4},"end":{"line":90,"column":37}},"61":{"start":{"line":91,"column":4},"end":{"line":91,"column":41}},"62":{"start":{"line":93,"column":4},"end":{"line":93,"column":13}},"63":{"start":{"line":96,"column":0},"end":{"line":96,"column":27}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":12}},{"start":{"line":19,"column":12},"end":{"line":19,"column":12}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":21,"column":12}},{"start":{"line":21,"column":12},"end":{"line":21,"column":12}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":12}},{"start":{"line":37,"column":12},"end":{"line":37,"column":12}}]},"4":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":16},"end":{"line":38,"column":16}},{"start":{"line":38,"column":16},"end":{"line":38,"column":16}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":45,"column":12}},{"start":{"line":45,"column":12},"end":{"line":45,"column":12}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":12}},{"start":{"line":59,"column":12},"end":{"line":59,"column":12}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":12},"end":{"line":62,"column":12}},{"start":{"line":62,"column":12},"end":{"line":62,"column":12}}]},"8":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":16},"end":{"line":81,"column":16}},{"start":{"line":81,"column":16},"end":{"line":81,"column":16}}]}},"code":["var newEmitEvent = require('../emitEvent');","","function cacheCore() {","    var emitAdded = newEmitEvent();","    var emitRemoved = newEmitEvent();","    var c = {};","    var cache = {};","    var keyLength;","","    c.tryGet = function(key) {","        var index = 0;","        var keyLength = key.length;","","        return tryGetCore(cache, index);    ","","        function tryGetCore(cache, index) {","            var keyValue = key[index];","            var cacheValue = cache[keyValue];","            if (typeof cacheValue === 'undefined')","                return null;","            if (keyLength - 1 == index)","                return cacheValue;","            return tryGetCore(cache[keyValue], ++index);","        }","","    };","","    c.tryAdd = function(key, result) {","        var index = 0;","        keyLength = key.length;","        ","        return  addCore(cache, index);","        ","        function addCore(cache, index) {","            var keyValue = key[index];","                ","            if (keyLength - 1 == index) {                ","                if (keyValue in cache)","                    return cache[keyValue];","                ","                cache[keyValue] = result;","                emitAdded(result);","                return result;","            }","            if (! (keyValue in cache))","                cache[keyValue] = {};            ","            return addCore(cache[keyValue], ++index);","        }","    };","","    c.tryRemove = function(key) { ","        var index = 0;","        var keyLength = key.length;","","        return tryRemoveCore(cache, index);","","        function tryRemoveCore(cache, index) {","            var keyValue = key[index];","            if (!(keyValue in cache))","                return null;","            var cacheValue = cache[keyValue];","            if (keyLength - 1 == index) {","                delete cache[keyValue];","                emitRemoved(cacheValue);","                return cacheValue;","            }","                ","            return tryRemoveCore(cache[keyValue], ++index);","        }","","    };","","    c.getAll = function() {","        var index = 0;","        var result = [];","        getAllCore(cache, index);","","        function getAllCore(cache, index) {","            for (var name in cache) {","                var value = cache[name];","                if (index === keyLength - 1)","                    result.push(value);","                else","                    getAllCore(value, index+1);","            }","        }","        return result;","    };","","    c.subscribeAdded = emitAdded.add;","    c.subscribeRemoved = emitRemoved.add;","","    return c;","}","","module.exports = cacheCore;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"14":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"28":0,"29":0,"30":0,"32":0,"34":1,"35":0,"37":0,"38":0,"39":0,"41":0,"42":0,"43":0,"45":0,"46":0,"47":0,"51":0,"52":0,"53":0,"55":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"68":0,"73":0,"74":0,"75":0,"76":0,"78":1,"79":0,"80":0,"81":0,"82":0,"84":0,"87":0,"90":0,"91":0,"93":0,"96":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newForeignKeyFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newForeignKeyFilter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newForeignKeyFilter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}}},"2":{"name":"getNextFilterPart","line":12,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":18,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":45}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":38}},"5":{"start":{"line":7,"column":4},"end":{"line":10,"column":5}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":50}},"7":{"start":{"line":12,"column":4},"end":{"line":16,"column":5}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":36}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":51}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":46}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":18}},"12":{"start":{"line":20,"column":0},"end":{"line":20,"column":37}}},"branchMap":{},"code":["function newForeignKeyFilter(joinRelation, parentRow) {","    var columns = joinRelation.columns;","    var rightTable = joinRelation.childTable;","","    var filter = getNextFilterPart(0);","","    for (var i = 1; i < columns.length; i++) {","","        filter = filter.and(getNextFilterPart(i));","    }","","    function getNextFilterPart(index) {","        var column = columns[index];","        var pk = rightTable._primaryColumns[index];","        return column.eq(parentRow[pk.alias]);","    }","    return filter;","}","","module.exports = newForeignKeyFilter;"],"l":{"1":1,"2":0,"3":0,"5":0,"7":0,"9":0,"12":1,"13":0,"14":0,"15":0,"17":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/oneRelation/getRelatives.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/oneRelation/getRelatives.js","s":{"1":1,"2":1,"3":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":66}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":54}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}}},"branchMap":{},"code":["var legToQuery = require('../query/addSubQueries/manyLegToQuery');","var getRelativesCore = require('../getRelativesCore');","","module.exports = getRelativesCore.bind(null, legToQuery);"],"l":{"1":1,"2":1,"4":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/manyLegToQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/manyLegToQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"manyLegToQuery","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":83}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"5":{"start":{"line":6,"column":0},"end":{"line":17,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":42}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":21}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":28}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":47}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":31}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":67}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":107}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":43}},"14":{"start":{"line":16,"column":1},"end":{"line":16,"column":78}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":32}}},"branchMap":{},"code":["var newShallowJoinSql = require('./newShallowJoinSql');","var newQuery = require('../../newQuery');","var newParameterized = require('../newParameterized');","var extractOrderBy = require('../extractOrderBy');","","function manyLegToQuery(queries, rightAlias,leg,legNo,filter,innerJoin,limitQuery) {\t","\tvar leftAlias = rightAlias + '_' + legNo;","\tvar span = leg.span;","\tvar rightTable = leg.table;","\tvar rightColumns = rightTable._primaryColumns;","\tvar leftColumns = leg.columns;","\tvar orderBy = extractOrderBy(span.table, leftAlias, span.orderBy);","\t ","\tvar shallowJoin  = newShallowJoinSql(rightTable,leftColumns,rightColumns,leftAlias,rightAlias,limitQuery);","\tinnerJoin = shallowJoin.append(innerJoin);\t","\treturn newQuery(queries, span.table,filter,span,leftAlias,innerJoin,orderBy);","}","","module.exports = manyLegToQuery;"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"16":0,"19":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasOne.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasOne.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newOne","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":25}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":51}},"3":{"start":{"line":4,"column":0},"end":{"line":22,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":43}},"6":{"start":{"line":8,"column":1},"end":{"line":19,"column":3}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":34}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":46}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":43}},"10":{"start":{"line":13,"column":2},"end":{"line":17,"column":5}},"11":{"start":{"line":15,"column":10},"end":{"line":15,"column":45}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":18}},"13":{"start":{"line":21,"column":1},"end":{"line":21,"column":10}},"14":{"start":{"line":24,"column":0},"end":{"line":24,"column":24}}},"branchMap":{},"code":["var newOneRelation = require('./newOneRelation');","var newRelatedTable = require('./newRelatedTable');","","function newOne(joinRelation) {","\tvar c = {};","\tvar parentTable = joinRelation.childTable;","","\tc.as = function (alias) {\t","\t\tjoinRelation.rightAlias = alias;","\t\tvar relation = newOneRelation(joinRelation);","\t\tparentTable._relations[alias] = relation;","","\t\tObject.defineProperty(parentTable, alias, {","    \t\tget: function() {","        \t\treturn newRelatedTable([relation]);","    \t\t}","\t\t});","\t\treturn relation;","\t};","","\treturn c;","}","","module.exports = newOne;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"13":0,"15":0,"18":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelation.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelation.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newOneRelation","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":33}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":21},"end":{"line":19,"column":38}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":35}}},"5":{"name":"(anonymous_5)","line":29,"loc":{"start":{"line":29,"column":21},"end":{"line":29,"column":38}}},"6":{"name":"(anonymous_6)","line":33,"loc":{"start":{"line":33,"column":21},"end":{"line":33,"column":38}}},"7":{"name":"(anonymous_7)","line":37,"loc":{"start":{"line":37,"column":15},"end":{"line":37,"column":32}}},"8":{"name":"(anonymous_8)","line":43,"loc":{"start":{"line":43,"column":14},"end":{"line":43,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":52}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":68}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"7":{"start":{"line":8,"column":0},"end":{"line":48,"column":1}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":15}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":45}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":34}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":44}},"12":{"start":{"line":15,"column":4},"end":{"line":17,"column":6}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":28}},"14":{"start":{"line":19,"column":4},"end":{"line":22,"column":6}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":42}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":36}},"17":{"start":{"line":24,"column":4},"end":{"line":27,"column":6}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":63}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":48}},"20":{"start":{"line":29,"column":4},"end":{"line":31,"column":6}},"21":{"start":{"line":30,"column":8},"end":{"line":30,"column":39}},"22":{"start":{"line":33,"column":4},"end":{"line":35,"column":6}},"23":{"start":{"line":34,"column":8},"end":{"line":34,"column":40}},"24":{"start":{"line":37,"column":4},"end":{"line":39,"column":6}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":54}},"26":{"start":{"line":41,"column":4},"end":{"line":41,"column":36}},"27":{"start":{"line":43,"column":4},"end":{"line":45,"column":6}},"28":{"start":{"line":44,"column":8},"end":{"line":44,"column":25}},"29":{"start":{"line":47,"column":4},"end":{"line":47,"column":13}},"30":{"start":{"line":50,"column":0},"end":{"line":50,"column":32}}},"branchMap":{},"code":["var newLeg = require('./relation/newOneLeg');","var newOneCache = require('./relation/newOneCache');","var newForeignKeyFilter = require('./relation/newForeignKeyFilter');","var getRelatives = require('./oneRelation/getRelatives');","var resultToPromise = require('./resultToPromise');","var newGetRelated = require('./newGetRelated');","","function newOneRelation(joinRelation) {","    var c = {};","    var oneCache = newOneCache(joinRelation);","","    c.joinRelation = joinRelation;","    c.childTable = joinRelation.parentTable;","","    c.accept = function(visitor) {","        visitor.visitOne(c);","    };","","    c.getFromCache = function(parent) {","        var row = oneCache.tryGet(parent);","        return resultToPromise(row);","    };","","    c.getFromDb = function(parent) {","        var filter = newForeignKeyFilter(joinRelation, parent);","        return c.childTable.tryGetFirst(filter);","    };","","    c.getRelatives = function(parent) {","        return getRelatives(parent, c);","    };","","    c.toGetRelated = function(parent) {","        return newGetRelated(parent, c);","    };","","    c.expand = function(parent) {","        return parent.expand(joinRelation.rightAlias);","    };","","    c.getRowsSync = oneCache.tryGet;","","    c.toLeg = function() {","        return newLeg(c);","    };","","    return c;","}","","module.exports = newOneRelation;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"12":0,"13":0,"15":0,"16":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"29":0,"30":0,"33":0,"34":0,"37":0,"38":0,"41":0,"43":0,"44":0,"47":0,"50":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newOneCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newOneCache.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newOneCache","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":12},"end":{"line":7,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":40}},"5":{"start":{"line":7,"column":1},"end":{"line":12,"column":3}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":33}},"7":{"start":{"line":9,"column":2},"end":{"line":10,"column":15}},"8":{"start":{"line":10,"column":3},"end":{"line":10,"column":15}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":16}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":10}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":29}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]}},"code":["var newManyCache = require('./newManyCache');","","function newOneCache(joinRelation) {","\tvar c = {};","\tvar cache = newManyCache(joinRelation);","","\tc.tryGet = function(parent) {","\t\tvar res = cache.tryGet(parent);","\t\tif (res.length === 0)","\t\t\treturn null;","\t\treturn res[0];","\t};","\treturn c;","}","","module.exports = newOneCache;",""],"l":{"1":1,"3":1,"4":0,"5":0,"7":0,"8":0,"9":0,"10":0,"11":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetById.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetById.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"get","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":1},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":54}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":57}},"6":{"start":{"line":7,"column":1},"end":{"line":8,"column":33}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":33}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":47}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":[" var tryGetFromCacheById = require('./tryGetFromCacheById');"," var tryGetFromDbById = require('./tryGetFromDbById');"," var resultToPromise = require('./resultToPromise');","","function get() {","\tvar cached =  tryGetFromCacheById.apply(null,arguments);","\tif (cached)","\t\treturn resultToPromise(cached);","\treturn tryGetFromDbById.apply(null,arguments);","}","get.exclusive = tryGetFromDbById.exclusive;","","module.exports = get;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"11":1,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCache.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"newRowCache","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}}},"2":{"name":"getPkNames","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":23}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":12},"end":{"line":20,"column":26}}},"4":{"name":"firstRowToKey","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":29}}},"5":{"name":"nextRowToKey","line":33,"loc":{"start":{"line":33,"column":1},"end":{"line":33,"column":28}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":26}}},"7":{"name":"(anonymous_7)","line":46,"loc":{"start":{"line":46,"column":15},"end":{"line":46,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":3,"column":0},"end":{"line":57,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":12}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":13}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":30}},"7":{"start":{"line":9,"column":1},"end":{"line":18,"column":2}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":17}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":45}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":40}},"11":{"start":{"line":13,"column":2},"end":{"line":16,"column":3}},"12":{"start":{"line":14,"column":3},"end":{"line":14,"column":34}},"13":{"start":{"line":15,"column":3},"end":{"line":15,"column":30}},"14":{"start":{"line":17,"column":2},"end":{"line":17,"column":15}},"15":{"start":{"line":20,"column":1},"end":{"line":24,"column":3}},"16":{"start":{"line":21,"column":2},"end":{"line":21,"column":26}},"17":{"start":{"line":22,"column":2},"end":{"line":22,"column":27}},"18":{"start":{"line":26,"column":1},"end":{"line":31,"column":2}},"19":{"start":{"line":27,"column":2},"end":{"line":27,"column":25}},"20":{"start":{"line":28,"column":2},"end":{"line":28,"column":26}},"21":{"start":{"line":29,"column":2},"end":{"line":29,"column":15}},"22":{"start":{"line":30,"column":2},"end":{"line":30,"column":23}},"23":{"start":{"line":33,"column":1},"end":{"line":39,"column":2}},"24":{"start":{"line":34,"column":2},"end":{"line":34,"column":15}},"25":{"start":{"line":35,"column":2},"end":{"line":37,"column":3}},"26":{"start":{"line":36,"column":3},"end":{"line":36,"column":25}},"27":{"start":{"line":38,"column":2},"end":{"line":38,"column":13}},"28":{"start":{"line":41,"column":1},"end":{"line":44,"column":3}},"29":{"start":{"line":42,"column":2},"end":{"line":42,"column":26}},"30":{"start":{"line":43,"column":2},"end":{"line":43,"column":32}},"31":{"start":{"line":46,"column":1},"end":{"line":49,"column":3}},"32":{"start":{"line":47,"column":2},"end":{"line":47,"column":26}},"33":{"start":{"line":48,"column":2},"end":{"line":48,"column":23}},"34":{"start":{"line":51,"column":1},"end":{"line":51,"column":41}},"35":{"start":{"line":52,"column":1},"end":{"line":52,"column":45}},"36":{"start":{"line":54,"column":1},"end":{"line":54,"column":25}},"37":{"start":{"line":56,"column":1},"end":{"line":56,"column":10}},"38":{"start":{"line":59,"column":0},"end":{"line":59,"column":29}}},"branchMap":{},"code":["var newDomainCache = require('./newDomainCache');","","function newRowCache(table) {","\tvar c = {};","\tvar cache = newDomainCache();","\tvar pkNames;","\tvar rowToKey = firstRowToKey;","","\tfunction getPkNames() {","\t\tvar names = {};\t\t","\t\tvar primaryColumns = table._primaryColumns;\t\t","\t\tvar keyLength = primaryColumns.length;","\t\tfor (var i = 0; i < keyLength; i++) {","\t\t\tvar column = primaryColumns[i];","\t\t\tnames[column.alias] = null;","\t\t}","\t\treturn names;","\t}","","\tc.tryGet = function(row) {","\t\tvar key = rowToKey(row);","\t\treturn cache.tryGet(key);","","\t};","","\tfunction firstRowToKey(row) {","\t\tpkNames = getPkNames();","\t\trowToKey = nextRowToKey;","\t\ttable = null;","\t\treturn rowToKey(row);","\t}","","\tfunction nextRowToKey(row) {\t\t","\t\tvar key = [];","\t\tfor(var pkName in pkNames) {","\t\t\tkey.push(row[pkName]);","\t\t}","\t\treturn key;","\t}","","\tc.tryAdd = function(row) {","\t\tvar key = rowToKey(row);","\t\treturn cache.tryAdd(key, row);","\t};","","\tc.tryRemove = function(row) {","\t\tvar key = rowToKey(row);","\t\tcache.tryRemove(key);","\t};","","\tc.subscribeAdded = cache.subscribeAdded;\t","\tc.subscribeRemoved = cache.subscribeRemoved;","\t","\tc.getAll = cache.getAll;","","\treturn c;","}","","module.exports = newRowCache;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"17":0,"20":0,"21":0,"22":0,"26":1,"27":0,"28":0,"29":0,"30":0,"33":1,"34":0,"35":0,"36":0,"38":0,"41":0,"42":0,"43":0,"46":0,"47":0,"48":0,"51":0,"52":0,"54":0,"56":0,"59":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCache.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newDomainCache","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":26}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":33}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":23}}},"5":{"name":"(anonymous_5)","line":23,"loc":{"start":{"line":23,"column":15},"end":{"line":23,"column":29}}},"6":{"name":"(anonymous_6)","line":28,"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":38}}},"7":{"name":"(anonymous_7)","line":33,"loc":{"start":{"line":33,"column":22},"end":{"line":33,"column":42}}},"8":{"name":"getCache","line":38,"loc":{"start":{"line":38,"column":1},"end":{"line":38,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":4,"column":0},"end":{"line":42,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":18}},"6":{"start":{"line":8,"column":1},"end":{"line":11,"column":3}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":25}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":27}},"9":{"start":{"line":13,"column":1},"end":{"line":16,"column":3}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":25}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":33}},"12":{"start":{"line":18,"column":1},"end":{"line":21,"column":3}},"13":{"start":{"line":19,"column":2},"end":{"line":19,"column":25}},"14":{"start":{"line":20,"column":2},"end":{"line":20,"column":24}},"15":{"start":{"line":23,"column":1},"end":{"line":26,"column":3}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":25}},"17":{"start":{"line":25,"column":2},"end":{"line":25,"column":30}},"18":{"start":{"line":28,"column":1},"end":{"line":31,"column":3}},"19":{"start":{"line":29,"column":2},"end":{"line":29,"column":25}},"20":{"start":{"line":30,"column":2},"end":{"line":30,"column":39}},"21":{"start":{"line":33,"column":1},"end":{"line":36,"column":3}},"22":{"start":{"line":34,"column":2},"end":{"line":34,"column":25}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":43}},"24":{"start":{"line":38,"column":1},"end":{"line":40,"column":2}},"25":{"start":{"line":39,"column":2},"end":{"line":39,"column":23}},"26":{"start":{"line":41,"column":1},"end":{"line":41,"column":10}},"27":{"start":{"line":44,"column":0},"end":{"line":44,"column":32}}},"branchMap":{},"code":["var newId = require('../newId');","var _getCache = require('./domainCache/getCache');","","function newDomainCache() {","\tvar c = {};","\tvar id = newId();","","\tc.tryGet = function(key) {\t\t","\t\tvar cache = getCache();\t\t","\t\treturn cache.tryGet(key);","\t};","","\tc.tryAdd = function(key, value) {","\t\tvar cache = getCache();\t\t","\t\treturn cache.tryAdd(key,value);","\t};","","\tc.getAll = function() {","\t\tvar cache = getCache();\t\t","\t\treturn cache.getAll();\t","\t};","","\tc.tryRemove = function(key) {","\t\tvar cache = getCache();\t\t","\t\treturn cache.tryRemove(key);","\t};","","\tc.subscribeAdded = function(onAdded) {","\t\tvar cache = getCache();\t\t","\t\treturn cache.subscribeAdded(onAdded);","\t};","","\tc.subscribeRemoved = function(onRemoved) {","\t\tvar cache = getCache();\t\t","\t\treturn cache.subscribeRemoved(onRemoved);","\t};","","\tfunction getCache() {","\t\treturn _getCache(id);","\t}","\treturn c;","}","","module.exports = newDomainCache;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"13":0,"14":0,"15":0,"18":0,"19":0,"20":0,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"33":0,"34":0,"35":0,"38":1,"39":0,"41":0,"44":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/domainCache/getCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/domainCache/getCache.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"getCache","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":60}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":60}},"4":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":37}},"6":{"start":{"line":7,"column":1},"end":{"line":8,"column":15}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":15}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":20}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":32}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":14}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":26}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":["var newCache = require('../newCache');","var getSessionSingleton = require('../getSessionSingleton');","var setSessionSingleton = require('../setSessionSingleton');","","function getCache(id) {","\tvar cache = getSessionSingleton(id);","\tif (cache)","\t\treturn cache;","\tcache = newCache();","\tsetSessionSingleton(id, cache);","\treturn cache;","}","","","","module.exports = getCache;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/insert.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/insert.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"insert","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":37}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":36}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":32}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":40}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":18}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":12}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":24}}},"branchMap":{},"code":["var newRow = require('./commands/newRow');","var newInsertCommand = require('./commands/newInsertCommand');","var pushCommand = require('./commands/pushCommand');","","function insert(table, id, id2)  {","\tvar args = [].slice.call(arguments);","\tvar row = newRow.apply(null, args);","\trow = table._cache.tryAdd(row);","\tvar cmd = newInsertCommand(table, row);","\tpushCommand(cmd);","\treturn row;","}","","module.exports = insert;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newRow.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newRow.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"newRow","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}}},"2":{"name":"addColumn","line":7,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":57}},"2":{"start":{"line":3,"column":0},"end":{"line":22,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":38}},"5":{"start":{"line":7,"column":4},"end":{"line":13,"column":5}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":33}},"7":{"start":{"line":9,"column":8},"end":{"line":12,"column":30}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":40}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":30}},"10":{"start":{"line":15,"column":4},"end":{"line":19,"column":5}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":35}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":50}},"13":{"start":{"line":18,"column":8},"end":{"line":18,"column":36}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":42}},"15":{"start":{"line":24,"column":0},"end":{"line":24,"column":24}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]}},"code":["var decodeDbRow = require('../resultToRows/decodeDbRow');","","function newRow(table, id, id2, etc) {","    var dto = {};","    table._columns.forEach(addColumn);","","    function addColumn(column) {","        var alias = column.alias;","        if ('default' in column)","            dto[alias] = column.default;","        else","            dto[alias] = null;","    }","","    for (var i = 1; i < arguments.length; i++) {","        var pkValue = arguments[i];","        var column = table._primaryColumns[i - 1];","        dto[column.alias] = pkValue;","    }","","    return decodeDbRow(table, table, dto);","}","","module.exports = newRow;",""],"l":{"1":1,"3":1,"4":0,"5":0,"7":1,"8":0,"9":0,"10":0,"12":0,"15":0,"16":0,"17":0,"18":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommand.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":1,"12":0,"13":1,"14":0,"15":1,"16":1,"17":0,"18":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"newInsertCommand","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}}},"2":{"name":"InsertCommand","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":53}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":30},"end":{"line":18,"column":41}}},"5":{"name":"(anonymous_5)","line":22,"loc":{"start":{"line":22,"column":34},"end":{"line":22,"column":53}}},"6":{"name":"(anonymous_6)","line":29,"loc":{"start":{"line":29,"column":9},"end":{"line":29,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":61}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":41}},"5":{"start":{"line":8,"column":0},"end":{"line":12,"column":1}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":63}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":24}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":20}},"9":{"start":{"line":14,"column":0},"end":{"line":16,"column":2}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":57}},"11":{"start":{"line":18,"column":0},"end":{"line":20,"column":2}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":40}},"13":{"start":{"line":22,"column":0},"end":{"line":24,"column":2}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":33}},"15":{"start":{"line":26,"column":0},"end":{"line":26,"column":62}},"16":{"start":{"line":28,"column":0},"end":{"line":32,"column":3}},"17":{"start":{"line":30,"column":8},"end":{"line":30,"column":49}},"18":{"start":{"line":34,"column":0},"end":{"line":34,"column":34}}},"branchMap":{},"code":["var newInsertCommandCore = require('./newInsertCommandCore');","var newImmutable = require('../../newImmutable');","","function newInsertCommand(table, row) {","    return new InsertCommand(table, row);","}","","function InsertCommand(table, row) {","    this.__getCoreCommand = newImmutable(newInsertCommandCore);","    this._table = table;","    this._row = row;","}","","InsertCommand.prototype._getCoreCommand = function() {","    return this.__getCoreCommand(this._table, this._row);","};","","InsertCommand.prototype.sql = function() {","    return this._getCoreCommand().sql();","};","","InsertCommand.prototype.matches = function(otherRow) {","    return this._row == otherRow;","};","","InsertCommand.prototype.endEdit = InsertCommand.prototype.sql;","","Object.defineProperty(InsertCommand.prototype, 'parameters', {","    get: function() {","        return this._getCoreCommand().parameters;","    }","});","","module.exports = newInsertCommand;",""],"l":{"1":1,"2":1,"4":1,"5":0,"8":1,"9":0,"10":0,"11":0,"14":1,"15":0,"18":1,"19":0,"22":1,"23":0,"26":1,"28":1,"30":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommandCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommandCore.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"newInsertCommandCore","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":56}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"4":{"start":{"line":5,"column":0},"end":{"line":26,"column":1}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":25}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":24}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":41}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":33}},"10":{"start":{"line":12,"column":4},"end":{"line":22,"column":5}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":32}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":33}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":48}},"14":{"start":{"line":16,"column":8},"end":{"line":21,"column":36}},"15":{"start":{"line":17,"column":9},"end":{"line":17,"column":26}},"16":{"start":{"line":18,"column":9},"end":{"line":18,"column":48}},"17":{"start":{"line":21,"column":9},"end":{"line":21,"column":36}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":46}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":45}},"20":{"start":{"line":28,"column":0},"end":{"line":28,"column":38}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":8}},{"start":{"line":16,"column":8},"end":{"line":16,"column":8}}]}},"code":["var newParameterized = require('../query/newParameterized');","var getSqlTemplate = require('./insert/getSqlTemplate');","var util = require('util');","","function newInsertCommandCore(table, row) {","    var command;","    var columnNames = [];","    var parameters = [];","    var values = [getSqlTemplate(table)];","","    var columns = table._columns;","    for (var i = 0; i < columns.length; i++) {","        var column = columns[i];","        var alias = column.alias;","        var encoded = column.encode(row[alias]);","        if (encoded.parameters.length > 0) {","        \tvalues.push('?');","        \tparameters.push(encoded.parameters[0]);","        }","        else","        \tvalues.push(encoded.sql());","    }","","    var sql = util.format.apply(null, values);","    return newParameterized(sql, parameters);","}","","module.exports = newInsertCommandCore;",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"21":0,"24":0,"25":0,"28":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/insert/getSqlTemplate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/insert/getSqlTemplate.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"getSqlTemplate","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}}},"2":{"name":"addDiscriminators","line":13,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":33}}},"3":{"name":"addColumns","line":22,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":30,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":31}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":25}},"5":{"start":{"line":5,"column":4},"end":{"line":5,"column":20}},"6":{"start":{"line":6,"column":4},"end":{"line":6,"column":52}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":24}},"8":{"start":{"line":8,"column":4},"end":{"line":8,"column":17}},"9":{"start":{"line":9,"column":4},"end":{"line":9,"column":78}},"10":{"start":{"line":10,"column":1},"end":{"line":10,"column":29}},"11":{"start":{"line":11,"column":4},"end":{"line":11,"column":15}},"12":{"start":{"line":13,"column":4},"end":{"line":20,"column":5}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":57}},"14":{"start":{"line":15,"column":8},"end":{"line":19,"column":9}},"15":{"start":{"line":16,"column":12},"end":{"line":16,"column":53}},"16":{"start":{"line":17,"column":12},"end":{"line":17,"column":39}},"17":{"start":{"line":18,"column":12},"end":{"line":18,"column":34}},"18":{"start":{"line":22,"column":4},"end":{"line":29,"column":5}},"19":{"start":{"line":23,"column":8},"end":{"line":23,"column":37}},"20":{"start":{"line":24,"column":8},"end":{"line":28,"column":9}},"21":{"start":{"line":25,"column":12},"end":{"line":25,"column":36}},"22":{"start":{"line":26,"column":12},"end":{"line":26,"column":45}},"23":{"start":{"line":27,"column":12},"end":{"line":27,"column":30}},"24":{"start":{"line":32,"column":0},"end":{"line":32,"column":32}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function getSqlTemplate(table) {","\tif (table._insertTemplate)","\t\treturn table._insertTemplate;","    var columnNames = [];","    var values = [];","    var sql = \"INSERT INTO \" + table._dbName + \" (\";","    addDiscriminators();","    addColumns();","    sql = sql + columnNames.join(\",\") + \") VALUES (\" + values.join(',') + \")\";","\ttable._insertTemplate = sql;","    return sql;","","    function addDiscriminators() {","        var discriminators = table._columnDiscriminators;","        for (var i = 0; i < discriminators.length; i++) {","            var parts = discriminators[i].split(\"=\");","            columnNames.push(parts[0]);","            values.push(parts[1]);","        }","    }","","    function addColumns() {","        var columns = table._columns;","        for (var i = 0; i < columns.length; i++) {","            var column = columns[i];","            columnNames.push(column._dbName);","            values.push('%s');","        }","    }","}","","module.exports = getSqlTemplate;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"32":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/delete.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/delete.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_delete","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":42}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":52}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":63}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":70}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":50}},"6":{"start":{"line":7,"column":0},"end":{"line":18,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":40}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":44}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":20}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":15}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":67}},"12":{"start":{"line":14,"column":1},"end":{"line":16,"column":4}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":19}},"14":{"start":{"line":17,"column":1},"end":{"line":17,"column":21}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":25}}},"branchMap":{},"code":["var pushCommand = require('./commands/pushCommand');","var newDeleteCommand = require('./commands/newDeleteCommand');","var extractDeleteStrategy = require('./extractDeleteStrategy');","var negotiateRawSqlFilter = require('./column/negotiateRawSqlFilter');","var emptyPromise = require('./resultToPromise')();","","function _delete(table, filter, strategy) {","\tfilter = negotiateRawSqlFilter(filter);","\tstrategy = extractDeleteStrategy(strategy);","\tvar relations = [];","\tvar cmds = [];","","\tcmds = newDeleteCommand(cmds, table, filter, strategy, relations);","\tcmds.forEach(function(cmd) {","\t\tpushCommand(cmd);","\t});","\treturn emptyPromise;","}","","module.exports = _delete;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"15":0,"17":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cascadeDelete.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cascadeDelete.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"cascadeDelete","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":69}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":25}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":55}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":41}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}}},"branchMap":{},"code":["var _delete = require('./delete');","var newObject = require('../newObject');","var newCascadeDeleteStrategy = require('./newCascadeDeleteStrategy');","","function cascadeDelete(table, filter) {","\tvar empty = newObject();","\tvar strategy = newCascadeDeleteStrategy(empty, table);","\treturn _delete(table, filter, strategy);\t","}","","module.exports = cascadeDelete;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStream.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStream.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"createReadStream","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":70}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":13},"end":{"line":8,"column":24}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":65}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":67}},"3":{"start":{"line":4,"column":0},"end":{"line":21,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":12}},"6":{"start":{"line":8,"column":1},"end":{"line":10,"column":3}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":35}},"8":{"start":{"line":12,"column":1},"end":{"line":12,"column":26}},"9":{"start":{"line":14,"column":1},"end":{"line":16,"column":2}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":36}},"11":{"start":{"line":18,"column":1},"end":{"line":18,"column":14}},"12":{"start":{"line":20,"column":1},"end":{"line":20,"column":59}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}}},"branchMap":{},"code":["var createReadStreamNative = require('./createReadStreamNative');","var createReadStreamDefault = require('./createReadStreamDefault');","","function createReadStream(table, db, filter, strategy, streamOptions) {","\tvar create;","\tvar c = {};","","\tc.visitPg = function() {","\t\tcreate =  createReadStreamNative;","\t};","\t","\tc.visitMySql = c.visitPg;","","\tc.visitSqlite = function() {","\t\tcreate =  createReadStreamDefault;","\t}","","\tdb.accept(c);","","\treturn create(table, db, filter, strategy, streamOptions);","}","","module.exports = createReadStream;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"12":0,"14":0,"15":0,"18":0,"20":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNative.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNative.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"createReadStreamNative","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":76}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":29},"end":{"line":7,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":67}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":61}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"6":{"start":{"line":7,"column":4},"end":{"line":11,"column":6}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":43}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":30}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":13}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":89}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":40}}},"branchMap":{},"code":["var createReadStreamCore = require('./createReadStreamCoreNative');","var Stream = require('stream');","","function createReadStreamNative(table, db, filter, strategy, streamOptions) {","    var transformer = Stream.Transform({ objectMode: true });","    var started;","    transformer._transform = function(chunk, enc, cb) {","        var row = JSON.parse(chunk.result);","        transformer.push(row);","        cb();","    };","","    return createReadStreamCore(table, db, filter, strategy, transformer, streamOptions);","}","","module.exports = createReadStreamNative;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamCoreNative.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamCoreNative.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"createReadStreamCoreNative","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":93}}},"2":{"name":"start","line":23,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":21}}},"3":{"name":"onStreamError","line":32,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":30}}},"4":{"name":"onError","line":36,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":70}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":60}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":42,"column":1}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":30}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":43}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":47}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":59}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":36}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":25}},"14":{"start":{"line":18,"column":4},"end":{"line":21,"column":28}},"15":{"start":{"line":23,"column":4},"end":{"line":30,"column":5}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":61}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":63}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":43}},"19":{"start":{"line":27,"column":8},"end":{"line":27,"column":47}},"20":{"start":{"line":28,"column":8},"end":{"line":28,"column":38}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":27}},"22":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"23":{"start":{"line":33,"column":8},"end":{"line":33,"column":22}},"24":{"start":{"line":36,"column":4},"end":{"line":39,"column":5}},"25":{"start":{"line":37,"column":8},"end":{"line":37,"column":37}},"26":{"start":{"line":38,"column":8},"end":{"line":38,"column":22}},"27":{"start":{"line":41,"column":4},"end":{"line":41,"column":23}},"28":{"start":{"line":44,"column":0},"end":{"line":44,"column":44}}},"branchMap":{"1":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":25},"end":{"line":13,"column":39}},{"start":{"line":13,"column":43},"end":{"line":13,"column":58}}]}},"code":["var newQuery = require('./readStream/newQuery');","var strategyToSpan = require('./strategyToSpan');","var negotiateRawSqlFilter = require('./column/negotiateRawSqlFilter');","var newQueryStream = require('./readStream/newQueryStream');","var deferred = require('deferred');","var domain = require('domain');","","function createReadStreamCoreNative(table, db, filter, strategy, transformer, streamOptions) {","    var alias = table._dbName;","    filter = negotiateRawSqlFilter(filter);","    var span = strategyToSpan(table, strategy);","","    var originalDomain = process.domain || domain.create();","    originalDomain.add(transformer);","","    var def = deferred();","","    db.transaction()","        .then(start)","        .then(db.commit)","        .then(null, onError)","","    function start() {","        var query = newQuery(db, table, filter, span, alias);","        var queryStream = newQueryStream(query, streamOptions);","        queryStream.on('end', def.resolve);","        queryStream.on('error', onStreamError);","        queryStream.pipe(transformer);","        return def.promise;","    }","","    function onStreamError(e) {","        def.reject(e);","    }","","    function onError(e) {","        transformer.emit('error', e);","        db.rollback();","    }","","    return transformer;","}","","module.exports = createReadStreamCoreNative;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"13":0,"14":0,"16":0,"18":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"32":1,"33":0,"36":1,"37":0,"38":0,"41":0,"44":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/newQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/newQuery.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"newQuery","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":13},"end":{"line":8,"column":24}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":4,"column":0},"end":{"line":21,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":8,"column":1},"end":{"line":10,"column":3}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":25}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":30}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":28}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":14}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":15}},"12":{"start":{"line":17,"column":1},"end":{"line":19,"column":2}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":26}},"14":{"start":{"line":20,"column":1},"end":{"line":20,"column":36}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":25}}},"branchMap":{},"code":["var newMySqlQuery = require('./mySql/newQuery');","var newPgQuery = require('./pg/newQuery');","","function newQuery(db,table,filter,span,alias) {\t","\tvar c = {};","\tvar _newQuery;","","\tc.visitPg = function() {","\t\t_newQuery = newPgQuery;","\t};","\tc.visitMySql = function() {};","\t\t_newQuery = newMySqlQuery;","","\tdb.accept(c);","","\tvar args = [];","\tfor (var i = 1; i < arguments.length; i++) {","\t\targs.push(arguments[i]);","\t}","\treturn _newQuery.apply(null, args);","}","","module.exports = newQuery"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"11":0,"12":0,"14":0,"16":0,"17":0,"18":0,"20":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/newQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/newQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newQuery","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"6":{"start":{"line":7,"column":0},"end":{"line":14,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":32}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":42}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":32}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":50}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":68}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":26}}},"branchMap":{},"code":["var newSingleQuery = require('./query/newSingleQuery');","var newSubQueries = require('./query/newSubQueries');","var extractFilter = require('../../query/extractFilter');","var extractOrderBy = require('../extractOrderBy');","var extractLimit = require('../extractLimit');","","function newQuery(table,filter,span,alias) {\t","\tfilter = extractFilter(filter);","\tvar orderBy = extractOrderBy(alias,span);","\tvar limit = extractLimit(span);","","\tvar subQueries = newSubQueries(table,span,alias);","\treturn newSingleQuery(table,filter,alias,subQueries,orderBy,limit);","}","","module.exports = newQuery;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"12":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/query/newSingleQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/query/newSingleQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":59}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":64}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":68}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":69}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":19,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":12}},"7":{"start":{"line":9,"column":1},"end":{"line":14,"column":3}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":27}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":44}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":49}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":93}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":34}},"13":{"start":{"line":18,"column":1},"end":{"line":18,"column":10}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":22}}},"branchMap":{},"code":["var newColumnSql = require('./singleQuery/newShallowColumnSql');","var newWhereSql = require('../../../query/singleQuery/newWhereSql');","var template = 'select json_object(%s%s) as result from %s %s%s%s%s';","var util = require('util');","","function _new(table,filter,alias,subQueries,orderBy,limit) {","\tvar c = {};","","\tc.sql = function() {","\t\tvar name = table._dbName;","\t\tvar columnSql = newColumnSql(table,alias);","\t\tvar whereSql = newWhereSql(table,filter,alias);","\t\treturn util.format(template, columnSql, subQueries, name, alias, whereSql, orderBy, limit);","\t};","\t","\tc.parameters = filter.parameters;\t","","\treturn c;","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"9":0,"10":0,"11":0,"12":0,"13":0,"16":0,"18":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/query/singleQuery/newShallowColumnSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/query/singleQuery/newShallowColumnSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":14}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":20}},"7":{"start":{"line":8,"column":1},"end":{"line":13,"column":2}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"9":{"start":{"line":10,"column":2},"end":{"line":11,"column":90}},"10":{"start":{"line":11,"column":3},"end":{"line":11,"column":90}},"11":{"start":{"line":12,"column":2},"end":{"line":12,"column":18}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":12}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":32}},{"start":{"line":10,"column":36},"end":{"line":10,"column":56}}]}},"code":["var util = require('util');","","function _new(table,alias) {","\tvar columnFormat = \"'%s',%s.%s\";","\tvar columns = table._columns;","\tvar sql = '';","\tvar separator = '';","\tfor (var i = 0; i < columns.length; i++) {","\t\tvar column = columns[i];","\t\tif (!('serializable' in column && !column.serializable))","\t\t\tsql = sql + separator + util.format(columnFormat, column.alias, alias, column._dbName);","\t\tseparator = ',';","\t}","\treturn sql;","}","","module.exports = _new;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/query/newSubQueries.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/mySql/query/newSubQueries.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":1,"26":0,"27":0,"28":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newSubQueries","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":29}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":28}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":29}}},"5":{"name":"onEachLeg","line":22,"loc":{"start":{"line":22,"column":1},"end":{"line":22,"column":31}}},"6":{"name":"_joinLegToQuery","line":30,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":27}}},"7":{"name":"_oneLegToQuery","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":26}}},"8":{"name":"_manyLegToQuery","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":5,"column":0},"end":{"line":28,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":12}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":12}},"8":{"start":{"line":10,"column":1},"end":{"line":12,"column":3}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":49}},"10":{"start":{"line":13,"column":1},"end":{"line":15,"column":3}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":48}},"12":{"start":{"line":16,"column":1},"end":{"line":18,"column":3}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":49}},"14":{"start":{"line":20,"column":1},"end":{"line":20,"column":30}},"15":{"start":{"line":22,"column":1},"end":{"line":25,"column":2}},"16":{"start":{"line":23,"column":2},"end":{"line":23,"column":17}},"17":{"start":{"line":24,"column":2},"end":{"line":24,"column":16}},"18":{"start":{"line":27,"column":1},"end":{"line":27,"column":24}},"19":{"start":{"line":30,"column":0},"end":{"line":33,"column":1}},"20":{"start":{"line":31,"column":1},"end":{"line":31,"column":60}},"21":{"start":{"line":32,"column":1},"end":{"line":32,"column":45}},"22":{"start":{"line":35,"column":0},"end":{"line":38,"column":1}},"23":{"start":{"line":36,"column":1},"end":{"line":36,"column":58}},"24":{"start":{"line":37,"column":1},"end":{"line":37,"column":44}},"25":{"start":{"line":40,"column":0},"end":{"line":43,"column":1}},"26":{"start":{"line":41,"column":1},"end":{"line":41,"column":60}},"27":{"start":{"line":42,"column":1},"end":{"line":42,"column":45}},"28":{"start":{"line":47,"column":0},"end":{"line":47,"column":31}}},"branchMap":{},"code":["var joinLegToQuery = _joinLegToQuery;","var oneLegToQuery = _oneLegToQuery;","var manyLegToQuery = _manyLegToQuery;","","function newSubQueries(table,span,alias) {","\tvar result = [];","\tvar c = {};","\tvar _legNo;","","\tc.visitJoin = function(leg) {","\t\tresult.push(joinLegToQuery( alias,leg,_legNo));","\t};","\tc.visitOne = function(leg) {","\t\tresult.push(oneLegToQuery( alias,leg,_legNo));","\t};","\tc.visitMany = function(leg) {","\t\tresult.push(manyLegToQuery( alias,leg,_legNo));","\t};","","\tspan.legs.forEach(onEachLeg);\t","","\tfunction onEachLeg(leg,legNo) {","\t\t_legNo = legNo;","\t\tleg.accept(c);","\t}","","\treturn result.join('');","}","","function _joinLegToQuery() {","\tjoinLegToQuery = require('./newSubQueries/joinLegToQuery');\t","\treturn joinLegToQuery.apply(null,arguments);","}","","function _oneLegToQuery() {","\toneLegToQuery = require('./newSubQueries/oneLegToQuery');\t","\treturn oneLegToQuery.apply(null,arguments);","}","","function _manyLegToQuery() {","\tmanyLegToQuery = require('./newSubQueries/manyLegToQuery');\t","\treturn manyLegToQuery.apply(null,arguments);","}","","","","module.exports = newSubQueries;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"13":0,"14":0,"16":0,"17":0,"20":0,"22":1,"23":0,"24":0,"27":0,"30":1,"31":0,"32":0,"35":1,"36":0,"37":0,"40":1,"41":0,"42":0,"47":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/extractOrderBy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/extractOrderBy.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"extractOrderBy","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}}},"2":{"name":"extractNameAndDirection","line":18,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":46}}},"3":{"name":"pushColumn","line":29,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":36,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":21}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":31}},"5":{"start":{"line":5,"column":4},"end":{"line":5,"column":10}},"6":{"start":{"line":6,"column":4},"end":{"line":16,"column":9}},"7":{"start":{"line":7,"column":8},"end":{"line":8,"column":32}},"8":{"start":{"line":8,"column":12},"end":{"line":8,"column":32}},"9":{"start":{"line":9,"column":8},"end":{"line":12,"column":9}},"10":{"start":{"line":10,"column":12},"end":{"line":10,"column":71}},"11":{"start":{"line":11,"column":12},"end":{"line":11,"column":74}},"12":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"13":{"start":{"line":15,"column":12},"end":{"line":15,"column":55}},"14":{"start":{"line":18,"column":4},"end":{"line":28,"column":5}},"15":{"start":{"line":19,"column":8},"end":{"line":19,"column":42}},"16":{"start":{"line":20,"column":8},"end":{"line":20,"column":27}},"17":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":42}},"19":{"start":{"line":24,"column":8},"end":{"line":27,"column":10}},"20":{"start":{"line":29,"column":4},"end":{"line":33,"column":5}},"21":{"start":{"line":30,"column":8},"end":{"line":30,"column":36}},"22":{"start":{"line":31,"column":8},"end":{"line":31,"column":37}},"23":{"start":{"line":32,"column":8},"end":{"line":32,"column":63}},"24":{"start":{"line":35,"column":4},"end":{"line":35,"column":44}},"25":{"start":{"line":38,"column":0},"end":{"line":38,"column":32}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"4":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":20},"end":{"line":30,"column":29}},{"start":{"line":30,"column":33},"end":{"line":30,"column":35}}]}},"code":["function extractOrderBy(alias, span) {","    var table = span.table;","    var dbNames = [];","    var orderBy = span.orderBy;","    var i;","    if (span.orderBy) {","        if (typeof orderBy === 'string')","            orderBy = [orderBy];","        for (i = 0; i < orderBy.length; i++) {","            var nameAndDirection = extractNameAndDirection(orderBy[i]);","            pushColumn(nameAndDirection.name, nameAndDirection.direction);","        }","    } else","        for (i = 0; i < table._primaryColumns.length; i++) {","            pushColumn(table._primaryColumns[i].alias);","        }","","    function extractNameAndDirection(orderBy) {","        var elements = orderBy.split(' ');","        var direction = '';","        if (elements.length > 1) {","            direction = ' ' + elements[1];","        }","        return {","            name: elements[0],","            direction: direction","        };","    }","    function pushColumn(property, direction) {","        direction = direction || '';","        var column = table[property];","        dbNames.push(alias + '.' + column._dbName + direction);","    }","","    return ' order by ' + dbNames.join(',');","}","","module.exports = extractOrderBy;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"14":0,"15":0,"18":1,"19":0,"20":0,"21":0,"22":0,"24":0,"29":1,"30":0,"31":0,"32":0,"35":0,"38":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/extractLimit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/extractLimit.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"extractLimit","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":32}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":11}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function extractLimit(span) {","\tif (span.limit)","\t\treturn ' limit ' + span.limit;","\treturn '';","}","","module.exports = extractLimit;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/newQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/newQuery.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newQuery","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":49}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":84}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}}},"branchMap":{},"code":["var newQueryCore = require('./newQueryCore');","","function newQuery(table,filter,span,alias) {\t","\tvar query = newQueryCore.apply(null, arguments);","\treturn query.prepend('select row_to_json(r)::text as result from (').append(') r');","}","","module.exports = newQuery;"],"l":{"1":1,"3":1,"4":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/newQueryCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/newQueryCore.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newQuery","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":0},"end":{"line":15,"column":1}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":32}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":42}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":32}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":50}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":73}},"13":{"start":{"line":14,"column":1},"end":{"line":14,"column":56}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":26}}},"branchMap":{},"code":["var newSingleQuery = require('./query/newSingleQuery');","var newSubQueries = require('./query/newSubQueries');","var extractFilter = require('../../query/extractFilter');","var extractOrderBy = require('../extractOrderBy');","var extractLimit = require('../extractLimit');","var newParameterized = require('../../query/newParameterized');","","function newQuery(table,filter,span,alias) {\t","\tfilter = extractFilter(filter);","\tvar orderBy = extractOrderBy(alias,span);","\tvar limit = extractLimit(span);","\tvar subQueries = newSubQueries(table,span,alias);","\tvar query = newSingleQuery(table,filter,alias,subQueries,orderBy,limit);","\treturn newParameterized(query.sql(), query.parameters);","}","","module.exports = newQuery;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/query/newSingleQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/query/newSingleQuery.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":64}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":68}},"3":{"start":{"line":4,"column":0},"end":{"line":17,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"5":{"start":{"line":7,"column":1},"end":{"line":12,"column":3}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":27}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":44}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":49}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":106}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":34}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":10}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":22}}},"branchMap":{},"code":["var newColumnSql = require('./singleQuery/newShallowColumnSql');","var newWhereSql = require('../../../query/singleQuery/newWhereSql');","","function _new(table,filter,alias,subQueries,orderBy,limit) {","\tvar c = {};","","\tc.sql = function() {","\t\tvar name = table._dbName;","\t\tvar columnSql = newColumnSql(table,alias);","\t\tvar whereSql = newWhereSql(table,filter,alias);","\t\treturn 'select ' + columnSql + subQueries + ' from ' + name + ' ' + alias  + whereSql + orderBy + limit;","\t};","","\tc.parameters = filter.parameters;\t","","\treturn c;","}","","module.exports = _new;"],"l":{"1":1,"2":1,"4":1,"5":0,"7":0,"8":0,"9":0,"10":0,"11":0,"14":0,"16":0,"19":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/query/singleQuery/newShallowColumnSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/query/singleQuery/newShallowColumnSql.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":14}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":1},"end":{"line":13,"column":2}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"9":{"start":{"line":10,"column":2},"end":{"line":11,"column":83}},"10":{"start":{"line":11,"column":3},"end":{"line":11,"column":83}},"11":{"start":{"line":12,"column":2},"end":{"line":12,"column":32}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":12}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":32}},{"start":{"line":10,"column":36},"end":{"line":10,"column":56}}]}},"code":["var util = require('util');","","function _new(table,alias) {","\tvar columnFormat = '%s as \"%s\"';","\tvar columns = table._columns;","\tvar sql = '';","\tvar separator = alias + '.';","\tfor (var i = 0; i < columns.length; i++) {","\t\tvar column = columns[i];","\t\tif (!('serializable' in column && !column.serializable))","\t\t\tsql = sql + separator + util.format(columnFormat, column._dbName, column.alias);","\t\tseparator = ',' + alias + '.';","\t}","\treturn sql;","}","","module.exports = _new;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/query/newSubQueries.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/pg/query/newSubQueries.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":1,"26":0,"27":0,"28":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"newSubQueries","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":29}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":28}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":29}}},"5":{"name":"onEachLeg","line":22,"loc":{"start":{"line":22,"column":1},"end":{"line":22,"column":31}}},"6":{"name":"_joinLegToQuery","line":30,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":27}}},"7":{"name":"_oneLegToQuery","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":26}}},"8":{"name":"_manyLegToQuery","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":5,"column":0},"end":{"line":28,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":12}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":12}},"8":{"start":{"line":10,"column":1},"end":{"line":12,"column":3}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":49}},"10":{"start":{"line":13,"column":1},"end":{"line":15,"column":3}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":48}},"12":{"start":{"line":16,"column":1},"end":{"line":18,"column":3}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":49}},"14":{"start":{"line":20,"column":1},"end":{"line":20,"column":30}},"15":{"start":{"line":22,"column":1},"end":{"line":25,"column":2}},"16":{"start":{"line":23,"column":2},"end":{"line":23,"column":17}},"17":{"start":{"line":24,"column":2},"end":{"line":24,"column":16}},"18":{"start":{"line":27,"column":1},"end":{"line":27,"column":24}},"19":{"start":{"line":30,"column":0},"end":{"line":33,"column":1}},"20":{"start":{"line":31,"column":1},"end":{"line":31,"column":60}},"21":{"start":{"line":32,"column":1},"end":{"line":32,"column":45}},"22":{"start":{"line":35,"column":0},"end":{"line":38,"column":1}},"23":{"start":{"line":36,"column":1},"end":{"line":36,"column":58}},"24":{"start":{"line":37,"column":1},"end":{"line":37,"column":44}},"25":{"start":{"line":40,"column":0},"end":{"line":43,"column":1}},"26":{"start":{"line":41,"column":1},"end":{"line":41,"column":60}},"27":{"start":{"line":42,"column":1},"end":{"line":42,"column":45}},"28":{"start":{"line":47,"column":0},"end":{"line":47,"column":31}}},"branchMap":{},"code":["var joinLegToQuery = _joinLegToQuery;","var oneLegToQuery = _oneLegToQuery;","var manyLegToQuery = _manyLegToQuery;","","function newSubQueries(table,span,alias) {","\tvar result = [];","\tvar c = {};","\tvar _legNo;","","\tc.visitJoin = function(leg) {","\t\tresult.push(joinLegToQuery( alias,leg,_legNo));","\t};","\tc.visitOne = function(leg) {","\t\tresult.push(oneLegToQuery( alias,leg,_legNo));","\t};","\tc.visitMany = function(leg) {","\t\tresult.push(manyLegToQuery( alias,leg,_legNo));","\t};","","\tspan.legs.forEach(onEachLeg);\t","","\tfunction onEachLeg(leg,legNo) {","\t\t_legNo = legNo;","\t\tleg.accept(c);","\t}","","\treturn result.join('');","}","","function _joinLegToQuery() {","\tjoinLegToQuery = require('./newSubQueries/joinLegToQuery');\t","\treturn joinLegToQuery.apply(null,arguments);","}","","function _oneLegToQuery() {","\toneLegToQuery = require('./newSubQueries/oneLegToQuery');\t","\treturn oneLegToQuery.apply(null,arguments);","}","","function _manyLegToQuery() {","\tmanyLegToQuery = require('./newSubQueries/manyLegToQuery');\t","\treturn manyLegToQuery.apply(null,arguments);","}","","","","module.exports = newSubQueries;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"13":0,"14":0,"16":0,"17":0,"20":0,"22":1,"23":0,"24":0,"27":0,"30":1,"31":0,"32":0,"35":1,"36":0,"37":0,"40":1,"41":0,"42":0,"47":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/newQueryStream.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStream/newQueryStream.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newQueryStream","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":48}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":45}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}}},"branchMap":{},"code":["var getSessionSingleton = require('../getSessionSingleton');","","function newQueryStream(query, options) {","\tvar dbClient = getSessionSingleton('dbClient');","\treturn dbClient.streamQuery(query, options);","}","","module.exports = newQueryStream;"],"l":{"1":1,"3":1,"4":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamDefault.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamDefault.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":1,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":1,"72":0,"73":0,"74":0,"75":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"createReadStream","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":70}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":19},"end":{"line":26,"column":30}}},"3":{"name":"getDtos","line":38,"loc":{"start":{"line":38,"column":4},"end":{"line":38,"column":23}}},"4":{"name":"onRows","line":48,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":26}}},"5":{"name":"onDtos","line":52,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":28}}},"6":{"name":"negotiatePushStream","line":63,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":35}}},"7":{"name":"getBatch","line":72,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":24}}},"8":{"name":"calculateLimit","line":78,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":30}}},"9":{"name":"calculateOrderBy","line":87,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":32}}},"10":{"name":"calculateBatchFilter","line":99,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":36}}},"11":{"name":"onError","line":103,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":73}},"7":{"start":{"line":8,"column":0},"end":{"line":109,"column":1}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":35}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":39}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":49}},"12":{"start":{"line":13,"column":4},"end":{"line":13,"column":23}},"13":{"start":{"line":14,"column":4},"end":{"line":14,"column":40}},"14":{"start":{"line":15,"column":4},"end":{"line":15,"column":64}},"15":{"start":{"line":16,"column":4},"end":{"line":16,"column":41}},"16":{"start":{"line":17,"column":4},"end":{"line":17,"column":33}},"17":{"start":{"line":18,"column":4},"end":{"line":18,"column":28}},"18":{"start":{"line":19,"column":4},"end":{"line":19,"column":13}},"19":{"start":{"line":20,"column":4},"end":{"line":20,"column":23}},"20":{"start":{"line":21,"column":4},"end":{"line":21,"column":18}},"21":{"start":{"line":22,"column":4},"end":{"line":22,"column":16}},"22":{"start":{"line":23,"column":4},"end":{"line":23,"column":13}},"23":{"start":{"line":25,"column":4},"end":{"line":25,"column":48}},"24":{"start":{"line":26,"column":4},"end":{"line":34,"column":5}},"25":{"start":{"line":27,"column":8},"end":{"line":27,"column":30}},"26":{"start":{"line":28,"column":8},"end":{"line":33,"column":9}},"27":{"start":{"line":29,"column":12},"end":{"line":32,"column":26}},"28":{"start":{"line":30,"column":16},"end":{"line":30,"column":38}},"29":{"start":{"line":32,"column":16},"end":{"line":32,"column":26}},"30":{"start":{"line":35,"column":4},"end":{"line":35,"column":59}},"31":{"start":{"line":36,"column":4},"end":{"line":36,"column":31}},"32":{"start":{"line":38,"column":4},"end":{"line":46,"column":5}},"33":{"start":{"line":39,"column":8},"end":{"line":39,"column":20}},"34":{"start":{"line":40,"column":8},"end":{"line":45,"column":47}},"35":{"start":{"line":48,"column":4},"end":{"line":50,"column":5}},"36":{"start":{"line":49,"column":8},"end":{"line":49,"column":36}},"37":{"start":{"line":52,"column":4},"end":{"line":61,"column":5}},"38":{"start":{"line":53,"column":8},"end":{"line":53,"column":21}},"39":{"start":{"line":54,"column":8},"end":{"line":54,"column":41}},"40":{"start":{"line":55,"column":8},"end":{"line":55,"column":44}},"41":{"start":{"line":56,"column":8},"end":{"line":56,"column":35}},"42":{"start":{"line":57,"column":8},"end":{"line":60,"column":9}},"43":{"start":{"line":58,"column":12},"end":{"line":58,"column":28}},"44":{"start":{"line":59,"column":12},"end":{"line":59,"column":24}},"45":{"start":{"line":63,"column":4},"end":{"line":70,"column":5}},"46":{"start":{"line":64,"column":8},"end":{"line":65,"column":22}},"47":{"start":{"line":65,"column":12},"end":{"line":65,"column":22}},"48":{"start":{"line":66,"column":8},"end":{"line":67,"column":19}},"49":{"start":{"line":67,"column":12},"end":{"line":67,"column":19}},"50":{"start":{"line":68,"column":8},"end":{"line":68,"column":31}},"51":{"start":{"line":69,"column":8},"end":{"line":69,"column":34}},"52":{"start":{"line":72,"column":4},"end":{"line":76,"column":5}},"53":{"start":{"line":73,"column":8},"end":{"line":73,"column":25}},"54":{"start":{"line":74,"column":8},"end":{"line":74,"column":31}},"55":{"start":{"line":75,"column":8},"end":{"line":75,"column":52}},"56":{"start":{"line":78,"column":4},"end":{"line":85,"column":5}},"57":{"start":{"line":79,"column":8},"end":{"line":84,"column":9}},"58":{"start":{"line":80,"column":12},"end":{"line":80,"column":39}},"59":{"start":{"line":82,"column":12},"end":{"line":82,"column":53}},"60":{"start":{"line":83,"column":12},"end":{"line":83,"column":59}},"61":{"start":{"line":87,"column":4},"end":{"line":97,"column":5}},"62":{"start":{"line":88,"column":8},"end":{"line":88,"column":50}},"63":{"start":{"line":89,"column":8},"end":{"line":92,"column":9}},"64":{"start":{"line":90,"column":12},"end":{"line":90,"column":50}},"65":{"start":{"line":91,"column":12},"end":{"line":91,"column":47}},"66":{"start":{"line":93,"column":8},"end":{"line":93,"column":51}},"67":{"start":{"line":94,"column":8},"end":{"line":96,"column":9}},"68":{"start":{"line":95,"column":12},"end":{"line":95,"column":59}},"69":{"start":{"line":99,"column":4},"end":{"line":101,"column":5}},"70":{"start":{"line":100,"column":8},"end":{"line":100,"column":74}},"71":{"start":{"line":103,"column":4},"end":{"line":106,"column":5}},"72":{"start":{"line":104,"column":8},"end":{"line":104,"column":32}},"73":{"start":{"line":105,"column":8},"end":{"line":105,"column":22}},"74":{"start":{"line":108,"column":4},"end":{"line":108,"column":18}},"75":{"start":{"line":111,"column":0},"end":{"line":111,"column":34}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":26},"end":{"line":12,"column":42}},{"start":{"line":12,"column":46},"end":{"line":12,"column":48}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":33}},{"start":{"line":14,"column":37},"end":{"line":14,"column":39}}]},"3":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":20},"end":{"line":15,"column":43}},{"start":{"line":15,"column":47},"end":{"line":15,"column":63}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":29,"column":12}},{"start":{"line":29,"column":12},"end":{"line":29,"column":12}}]},"6":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":25},"end":{"line":35,"column":39}},{"start":{"line":35,"column":43},"end":{"line":35,"column":58}}]},"7":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]},"8":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":38}},{"start":{"line":57,"column":42},"end":{"line":57,"column":67}}]},"9":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"10":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":12},"end":{"line":64,"column":36}},{"start":{"line":64,"column":40},"end":{"line":64,"column":45}}]},"11":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"12":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]},"13":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":12},"end":{"line":79,"column":33}},{"start":{"line":79,"column":37},"end":{"line":79,"column":53}}]},"14":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":27},"end":{"line":88,"column":43}},{"start":{"line":88,"column":47},"end":{"line":88,"column":49}}]},"15":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]}},"code":["var extractFilter = require('./query/extractFilter');","var cloneStrategy = require('./cloneStrategy');","var domain = require('domain');","var defaultBatchSize = 200;","var Readable = require('stream').Readable;","var createBatchFilter = require('./readStreamDefault/createBatchFilter');","","function createReadStream(table, db, filter, strategy, streamOptions) {","    filter = extractFilter(filter);","    var batchFilter;","    strategy = cloneStrategy(strategy);","    var originalOrderBy = strategy.orderBy || [];","    calculateOrderBy();","    streamOptions = streamOptions || {};","    var batchSize = streamOptions.batchSize || defaultBatchSize;","    batchSize = (batchSize + 1) / 2 >> 0;","    var maxRows = strategy.limit;","    var currentRowCount = 0;","    var busy;","    var waitingforMore;","    var dtos = [];","    var lastDto;","    var done;","","    var stream = Readable({ objectMode: true });","    stream._read = function() {","        waitingforMore = true;","        if (!busy) {","            if (dtos.length > 0)","                negotiatePushStream();","            else","                getDtos();","        }","    }","    var originalDomain = process.domain || domain.create();","    originalDomain.add(stream);","","    function getDtos() {","        busy = true;","        return db.transaction()","            .then(getBatch)","            .then(onRows)","            .then(onDtos)","            .then(db.commit)","            .then(negotiatePushStream, onError)","    }","","    function onRows(rows) {","        return rows.toDto(strategy);","    }","","    function onDtos(result) {","        busy = false;","        currentRowCount += result.length;","        lastDto = result[result.length - 1];","        dtos = dtos.concat(result);","        if (currentRowCount >= maxRows || result.length < batchSize) {","            dtos.push(null);","            done = true;","        }","    }","","    function negotiatePushStream() {","        if (dtos.length <= batchSize && !done)","            getDtos();","        if (!waitingforMore)","            return;","        waitingforMore = false;","        stream.push(dtos.shift());","    }","","    function getBatch() {","        calculateLimit();","        calculateBatchFilter();","        return table.getMany(batchFilter, strategy);","    }","","    function calculateLimit() {","        if (maxRows === undefined || maxRows === null)","            strategy.limit = batchSize;","        else {","            var rowsLeft = maxRows - currentRowCount;","            strategy.limit = Math.min(rowsLeft, batchSize);","        }","    }","","    function calculateOrderBy() {","        strategy.orderBy = strategy.orderBy || [];","        if (typeof strategy.orderBy === 'string') {","            strategy.orderBy = [strategy.orderBy];","            originalOrderBy = strategy.orderBy;","        }","        var primaryColumns = table._primaryColumns;","        for (var i = 0; i < primaryColumns.length; i++) {","            strategy.orderBy.push(primaryColumns[i].alias);","        }","    }","","    function calculateBatchFilter() {","        batchFilter = createBatchFilter(table, filter, strategy, lastDto);","    }","","    function onError(e) {","        stream.emit('error', e);","        db.rollback();","    }","","    return stream;","}","","module.exports = createReadStream;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"32":0,"35":0,"36":0,"38":1,"39":0,"40":0,"48":1,"49":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"72":1,"73":0,"74":0,"75":0,"78":1,"79":0,"80":0,"82":0,"83":0,"87":1,"88":0,"89":0,"90":0,"91":0,"93":0,"94":0,"95":0,"99":1,"100":0,"103":1,"104":0,"105":0,"108":0,"111":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cloneStrategy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cloneStrategy.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"cloneStrategy","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}}},"2":{"name":"mapChild","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":23}},"3":{"start":{"line":3,"column":4},"end":{"line":5,"column":5}},"4":{"start":{"line":4,"column":8},"end":{"line":4,"column":48}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":18}},"6":{"start":{"line":9,"column":0},"end":{"line":16,"column":1}},"7":{"start":{"line":10,"column":1},"end":{"line":11,"column":37}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":37}},"9":{"start":{"line":12,"column":1},"end":{"line":14,"column":2}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":37}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":17}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":31}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":10},"end":{"line":2,"column":16}},{"start":{"line":2,"column":20},"end":{"line":2,"column":22}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},{"start":{"line":10,"column":1},"end":{"line":10,"column":1}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},{"start":{"line":12,"column":1},"end":{"line":12,"column":1}}]}},"code":["function cloneStrategy(strategy, target) {","\ttarget = target || {};","    for (var name in strategy) {","        target[name] = mapChild(strategy[name]);            ","    }","    return target;","}","","function mapChild(strategy) {","\tif (strategy instanceof Array)","\t\treturn cloneStrategy(strategy, []);","\tif (strategy instanceof Object) {","\t\treturn cloneStrategy(strategy, {});","\t}","\treturn strategy;","}","","module.exports = cloneStrategy;"],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"9":1,"10":0,"11":0,"12":0,"13":0,"15":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStreamDefault/createBatchFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/readStreamDefault/createBatchFilter.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"createBatchFilter","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":61}}},"2":{"name":"createSubFilter","line":15,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":3,"column":0},"end":{"line":35,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":6,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":22}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":35}},"6":{"start":{"line":10,"column":4},"end":{"line":13,"column":5}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":43}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":38}},"9":{"start":{"line":15,"column":4},"end":{"line":32,"column":5}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":36}},"11":{"start":{"line":17,"column":8},"end":{"line":30,"column":9}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":35}},"13":{"start":{"line":19,"column":12},"end":{"line":19,"column":44}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":35}},"15":{"start":{"line":21,"column":12},"end":{"line":21,"column":49}},"16":{"start":{"line":22,"column":12},"end":{"line":22,"column":38}},"17":{"start":{"line":23,"column":12},"end":{"line":29,"column":65}},"18":{"start":{"line":24,"column":16},"end":{"line":27,"column":75}},"19":{"start":{"line":25,"column":20},"end":{"line":25,"column":78}},"20":{"start":{"line":27,"column":20},"end":{"line":27,"column":75}},"21":{"start":{"line":29,"column":16},"end":{"line":29,"column":65}},"22":{"start":{"line":31,"column":8},"end":{"line":31,"column":25}},"23":{"start":{"line":34,"column":4},"end":{"line":34,"column":18}},"24":{"start":{"line":39,"column":0},"end":{"line":39,"column":35}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"2":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":28},"end":{"line":21,"column":39}},{"start":{"line":21,"column":43},"end":{"line":21,"column":48}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":12},"end":{"line":23,"column":12}},{"start":{"line":23,"column":12},"end":{"line":23,"column":12}}]},"4":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":16},"end":{"line":24,"column":16}},{"start":{"line":24,"column":16},"end":{"line":24,"column":16}}]}},"code":["var emptyFilter = require('../../emptyFilter');","","function createBatchFilter(table, filter, strategy, lastDto) {","    if (!lastDto) {","        return filter;","    }","","    var orderBy = strategy.orderBy;","","    for (var i = 0; i < strategy.orderBy.length; i++) {","        var subFilter = createSubFilter(i);","        filter = filter.or(subFilter);","    }","","    function createSubFilter(index) {","        var subFilter = emptyFilter;","        for (var i = 0; i < index + 1; i++) {","            var order = orderBy[i];","            var elements = order.split(' ');","            var name = elements[0];","            var direction = elements[1] || 'asc';","            var value = lastDto[name];","            if (index === i) {","                if (direction === 'asc')","                    subFilter = subFilter.and(table[name].greaterThan(value));","                else","                    subFilter = subFilter.and(table[name].lessThan(value));","            } else","                subFilter = subFilter.and(table[name].eq(value));","        }","        return subFilter;","    }","","    return filter;","}","","","","module.exports = createBatchFilter;",""],"l":{"1":1,"3":1,"4":0,"5":0,"8":0,"10":0,"11":0,"12":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"27":0,"29":0,"31":0,"34":0,"39":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStream.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStream.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"createJSONReadStream","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":74}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":27}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":73}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":75}},"3":{"start":{"line":4,"column":0},"end":{"line":21,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":15}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":15}},"6":{"start":{"line":8,"column":4},"end":{"line":10,"column":6}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":44}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":29}},"9":{"start":{"line":14,"column":4},"end":{"line":16,"column":6}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":45}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":17}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":62}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":38}}},"branchMap":{},"code":["var createJSONReadStreamNative = require('./createJSONReadStreamNative');","var createJSONReadStreamDefault = require('./createJSONReadStreamDefault');","","function createJSONReadStream(table, db, filter, strategy, streamOptions) {","    var create;","    var c = {};","","    c.visitPg = function() {","        create = createJSONReadStreamNative;","    };","","    c.visitMySql = c.visitPg;","","    c.visitSqlite = function() {","        create = createJSONReadStreamDefault;","    };","","    db.accept(c);","","    return create(table, db, filter, strategy, streamOptions);","}","","module.exports = createJSONReadStream;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"12":0,"14":0,"15":0,"18":0,"20":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNative.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNative.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"createJSONReadStream","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":74}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":29},"end":{"line":7,"column":54}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":25},"end":{"line":19,"column":4}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":67}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":25,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":61}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"6":{"start":{"line":7,"column":4},"end":{"line":16,"column":6}},"7":{"start":{"line":8,"column":5},"end":{"line":14,"column":9}},"8":{"start":{"line":9,"column":9},"end":{"line":9,"column":46}},"9":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"10":{"start":{"line":12,"column":9},"end":{"line":12,"column":40}},"11":{"start":{"line":13,"column":9},"end":{"line":13,"column":24}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":13}},"13":{"start":{"line":18,"column":4},"end":{"line":22,"column":6}},"14":{"start":{"line":20,"column":5},"end":{"line":20,"column":27}},"15":{"start":{"line":21,"column":5},"end":{"line":21,"column":10}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":89}},"17":{"start":{"line":27,"column":0},"end":{"line":27,"column":38}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":5},"end":{"line":8,"column":5}},{"start":{"line":8,"column":5},"end":{"line":8,"column":5}}]}},"code":["var createReadStreamCore = require('./createReadStreamCoreNative');","var Stream = require('stream');","","function createJSONReadStream(table, db, filter, strategy, streamOptions) {","    var transformer = Stream.Transform({ objectMode: true });","    var started;","    transformer._transform = function(chunk, enc, cb) {","    \tif (started)","        \ttransformer.push(',' + chunk.result);","        else {","        \ttransformer.push('[');","        \ttransformer.push(chunk.result);","        \tstarted = true;","        } ","        cb();","    };","","    transformer._flush = function(cb)","    {","    \ttransformer.push(']');","    \tcb();","    };","","    return createReadStreamCore(table, db, filter, strategy, transformer, streamOptions);","}","","module.exports = createJSONReadStream;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"15":0,"18":0,"20":0,"21":0,"24":0,"27":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamDefault.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamDefault.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"createJSONReadStream","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":74}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":29},"end":{"line":7,"column":52}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":25},"end":{"line":19,"column":38}}},"4":{"name":"onError","line":28,"loc":{"start":{"line":28,"column":4},"end":{"line":28,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":64}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":31,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":61}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"6":{"start":{"line":7,"column":4},"end":{"line":17,"column":6}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":39}},"8":{"start":{"line":9,"column":8},"end":{"line":15,"column":9}},"9":{"start":{"line":10,"column":12},"end":{"line":10,"column":41}},"10":{"start":{"line":12,"column":12},"end":{"line":12,"column":34}},"11":{"start":{"line":13,"column":12},"end":{"line":13,"column":35}},"12":{"start":{"line":14,"column":12},"end":{"line":14,"column":27}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":13}},"14":{"start":{"line":19,"column":4},"end":{"line":22,"column":6}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":30}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":13}},"17":{"start":{"line":24,"column":4},"end":{"line":24,"column":88}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":38}},"19":{"start":{"line":26,"column":4},"end":{"line":26,"column":41}},"20":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":37}},"22":{"start":{"line":33,"column":0},"end":{"line":33,"column":38}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]}},"code":["var createReadStreamCore = require('./createReadStreamDefault');","var Stream = require('stream');","","function createJSONReadStream(table, db, filter, strategy, streamOptions) {","    var transformer = Stream.Transform({ objectMode: true });","    var started;","    transformer._transform = function(obj, enc, cb) {","        var data = JSON.stringify(obj);","        if (started)","            transformer.push(',' + data);","        else {","            transformer.push('[');","            transformer.push(data);","            started = true;","        }","        cb();","    };","","    transformer._flush = function(cb) {","        transformer.push(']');","        cb();","    };","","    var objectStream = createReadStreamCore(table, db, filter, strategy, streamOptions);","    objectStream.on('error', onError);","    return objectStream.pipe(transformer)","","    function onError(e) {","        transformer.emit('error', e);","    }","}","","module.exports = createJSONReadStream;",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"13":0,"14":0,"16":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"28":1,"29":0,"33":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":36}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":87}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":36}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.Domain = c.requireMock('domain');","\tc.negotiateForwardProperty = c.requireMock('./createDomain/negotiateForwardProperty');","","\tc.sut = require('../createDomain');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"15":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new.js","s":{"1":1,"2":0,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":28}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":35}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}}},"branchMap":{},"code":["function act(c) {","\tc.mock = require('a').mock;","\tc.sut = require('../emitEvent')();","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"4":{"start":{"line":5,"column":0},"end":{"line":19,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":79}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":69}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":22}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":55}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":12}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":29}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":19}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":43}},"14":{"start":{"line":16,"column":1},"end":{"line":16,"column":14}},"15":{"start":{"line":18,"column":1},"end":{"line":18,"column":35}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","var mock = a.mock;","","function act(c) {\t","\tc.mock = mock;","\tc.negotiateRawSqlFilter = requireMock('./table/column/negotiateRawSqlFilter');","\t","\tc.newParameterized =  requireMock('./table/query/newParameterized');","\tc.parameterized = {};","\tc.newParameterized.expect('').return(c.parameterized);","\tc.sql = {};","\tc.parameterized.sql = c.sql;","\tc.parameters = {};","\tc.parameterized.parameters = c.parameters;","\tc.input = {};","","\tc.sut = require('../emptyFilter');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":57}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('parameters points at parameterized.parameters').assertEqual( c.parameters, c.sut.parameters)","\t.it('sql points at parameterized.sql').assertEqual( c.sql, c.sut.sql)","\t.it('not returns self').assertEqual( c.sut, c.sut.not())"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":25,"column":1}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":49}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":18}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":37}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":45}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":49}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":37}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":39}},"12":{"start":{"line":13,"column":4},"end":{"line":13,"column":30}},"13":{"start":{"line":15,"column":4},"end":{"line":15,"column":52}},"14":{"start":{"line":16,"column":4},"end":{"line":16,"column":60}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":62}},"16":{"start":{"line":19,"column":4},"end":{"line":19,"column":37}},"17":{"start":{"line":20,"column":4},"end":{"line":20,"column":35}},"18":{"start":{"line":22,"column":4},"end":{"line":22,"column":21}},"19":{"start":{"line":24,"column":4},"end":{"line":24,"column":32}},"20":{"start":{"line":27,"column":0},"end":{"line":27,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c) {","    c.emptyFilter = requireMock('./emptyFilter');","    c.mock = mock;","    c.table = requireMock('./table');","    c.commit = requireMock('./table/commit');","    c.rollback = requireMock('./table/rollback');","    c.pools = requireMock('./pools');","    c.log = requireMock('./table/log');","    c.log.registerLogger = {};","","    c.newDatabase = requireMock('./pg/newDatabase');","    c.newMySqlDatabase = requireMock('./mySql/newDatabase');","    c.newSqliteDatabase = requireMock('./sqlite/newDatabase');","","    c.query = requireMock('./query');","    c.lock = requireMock('./lock');","","    c.pools.end = {};","","    c.sut = require('../index');","}","","module.exports = act;",""],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"17":0,"19":0,"20":0,"22":0,"24":0,"27":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":14,"column":61}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should expose emptyFilter as filter').assertEqual(c.emptyFilter, c.sut.filter)","    .it('should expose table').assertEqual(c.table, c.sut.table)","    .it('should expose command').assertEqual(c.command, c.sut.command)","    .it('should expose rollback').assertEqual(c.rollback, c.sut.rollback)","    .it('should set mySql').assertEqual(c.newMySqlDatabase, c.sut.mySql)","    .it('should set pg').assertEqual(c.newDatabase, c.sut.pg)","    .it('should set end').assertEqual(c.pools.end, c.sut.end)","    .it('should set log to registerLogger').assertEqual(c.log.registerLogger, c.sut.log)","    .it('should expose query').assertEqual(c.query, c.sut.query)","    .it('should expose lock').assertEqual(c.lock, c.sut.lock)","    ","    "],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lockSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lockSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":36}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":47}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":28}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.query = c.requireMock('./query');\t","\tc.toIntKey = c.requireMock('./lock/toIntKey');","","\tc.sut = require('../lock');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"15":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":54}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set length').assertEqual(2, c.sut.length)","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newIdSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newIdSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":11}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":21}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":34}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","","function act(c){","\tc.nodeUid = requireMock('uuid');","\tc.v4 = {};","\tc.nodeUid.v4 = c.v4;","\t","\tc.returned = require('../newId');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"8":0,"11":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newIdSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newIdSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":59}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return uuid.v4').assertEqual(c.v4, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newObjectSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newObjectSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return new object').assertEqual('object', typeof c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/poolsSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/poolsSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":46}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":44}},"9":{"start":{"line":13,"column":1},"end":{"line":13,"column":14}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":38}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":29}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","","\tc.promise = c.requireMock('./table/promise');","\tc.newObject = c.requireMock('./newObject');","\t","\tc.pools = {};","\tc.newObject.expect().return(c.pools);","","\tc.sut = require('../pools');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"11":0,"13":0,"14":0,"16":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/poolsSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/poolsSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":72}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return emtpy object singleton').assertEqual(c.pools, c.sut)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/querySpec/execute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/querySpec/execute.js","s":{"1":2,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"act","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":15}}},"2":{"name":"storeResult","line":22,"loc":{"start":{"line":22,"column":1},"end":{"line":22,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":18}},"5":{"start":{"line":6,"column":0},"end":{"line":25,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":48}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":58}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":14}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":21}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":52}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":17}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":27}},"13":{"start":{"line":17,"column":1},"end":{"line":17,"column":40}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":68}},"15":{"start":{"line":20,"column":1},"end":{"line":20,"column":48}},"16":{"start":{"line":22,"column":1},"end":{"line":24,"column":2}},"17":{"start":{"line":23,"column":2},"end":{"line":23,"column":22}},"18":{"start":{"line":27,"column":0},"end":{"line":27,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","var then = a.then;","","function act(c){","\tc.wrapQuery = requireMock('./query/wrapQuery');","\tc.executeQueries = requireMock('./table/executeQueries');","\t","\tc.query = {};","","\tc.wrappedQuery = {};","\tc.wrapQuery.expect(c.query).return(c.wrappedQuery);","","\tc.expected = {};","\tc.queriesPromise = then();","\tc.queriesPromise.resolve([c.expected]);","\tc.executeQueries.expect([c.wrappedQuery]).return(c.queriesPromise);","\t","\trequire('../query')(c.query).then(storeResult);","","\tfunction storeResult(result) {","\t\tc.returned = result;","\t}","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"4":0,"6":1,"7":0,"8":0,"10":0,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"20":0,"22":1,"23":0,"27":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/querySpec/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/querySpec/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":81}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return result of executeQueries').assertEqual(c.expected, c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBuffer.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBuffer.js","s":{"1":1,"2":0,"3":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"encodeBuffer","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":49}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}}},"branchMap":{},"code":["function encodeBuffer(buffer) {","\treturn \"E'\\\\\\\\x\" + buffer.toString('hex') + \"'\";","}","","module.exports = encodeBuffer;"],"l":{"1":1,"2":0,"5":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecific.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecific.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"encodeDbSpecific","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}},"2":{"start":{"line":3,"column":0},"end":{"line":8,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":51}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":23}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":23}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":14}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":34}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},{"start":{"line":5,"column":1},"end":{"line":5,"column":1}}]}},"code":["var getSessionSingleton = require('./getSessionSingleton');","","function encodeDbSpecific(name, value) {","\tvar encode = getSessionSingleton('encode' + name);","\tif (encode)","\t\treturn encode(value);","\treturn value;","}","","module.exports = encodeDbSpecific;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getFirstFromDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getFirstFromDb.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"get","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":8,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":26}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":26}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":12}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},{"start":{"line":5,"column":1},"end":{"line":5,"column":1}}]}},"code":["var tryGet = require('./tryGetFirstFromDb');","","function get()  {","\tvar row = tryGet.apply(null,arguments);","\tif (row === null)","\t\tthrow(\"Row not found.\");","\treturn row;","}","","module.exports = get;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateAddStrategy.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateAddStrategy.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"negotiate","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}}},"2":{"name":"noStrategy","line":13,"loc":{"start":{"line":13,"column":1},"end":{"line":13,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":34}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":15}},"5":{"start":{"line":6,"column":1},"end":{"line":8,"column":2}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":26}},"7":{"start":{"line":9,"column":1},"end":{"line":10,"column":27}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":27}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":13}},"10":{"start":{"line":13,"column":1},"end":{"line":17,"column":2}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":49}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":38}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},{"start":{"line":9,"column":1},"end":{"line":9,"column":1}}]}},"code":["var emptyStrategy = require('./emptyStrategy');","","function negotiate(table) {","\tvar argsCount = arguments.length;","\tvar args = [];","\tfor (var i = 0; i < arguments.length; i++) {","\t\targs.push(arguments[i]);","\t}","\tif (noStrategy())","\t\targs.push(emptyStrategy);","\treturn args;","","\tfunction noStrategy() {","\t\tvar columnCount = table._primaryColumns.length;","\t\treturn (columnCount+2 != argsCount);","","\t}","}","","module.exports = negotiate;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":1,"14":0,"15":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/when_new.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/when_new.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":28}},"3":{"start":{"line":4,"column":0},"end":{"line":16,"column":103}}},"branchMap":{},"code":["var c = {};","var when = require('a').when","","when('./new', c)","\t.it('should set dbName').assertEqual(c.name,c.sut._dbName)","\t.it('should set columns to empty array').assertEqual(0,c.sut._columns.length)","\t.it('should set primaryColumns to empty array').assertEqual(0,c.sut._primaryColumns.length)","\t.it('should set columnDiscriminators to empty array').assertEqual(0,c.sut._columnDiscriminators.length)","\t.it('should set formulaDiscriminators to empty array').assertEqual(0,c.sut._formulaDiscriminators.length)","\t.it('should set _relations to empty object').assertDoesNotThrow(c.verifyEmptyRelations)","\t.it('should set _cache').assertEqual(c.cache, c.sut._cache)","\t.it('should set context equal sut').assertEqual(c.context, c.sut)","\t.it('should set delete').assertEqual(c.delete, c.sut.delete)","\t.it('should set cascadeDelete').assertEqual(c.cascadeDelete, c.sut.cascadeDelete)","\t.it('should set createReadStream').assertEqual(c.createReadStream, c.sut.createReadStream)","\t.it('should set createJSONReadStream').assertEqual(c.createJSONReadStream, c.sut.createJSONReadStream)","\t","\t",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/streamEager.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/streamEager.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":36,"loc":{"start":{"line":36,"column":10},"end":{"line":36,"column":21}}},"2":{"name":"onError","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":20}}},"3":{"name":"onEnd","line":47,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":17}}},"4":{"name":"printOrder","line":56,"loc":{"start":{"line":56,"column":0},"end":{"line":56,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":2,"column":55}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":48}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":47}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":50}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":52}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":75}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":47}},"13":{"start":{"line":21,"column":0},"end":{"line":21,"column":69}},"14":{"start":{"line":24,"column":0},"end":{"line":24,"column":52}},"15":{"start":{"line":25,"column":0},"end":{"line":31,"column":2}},"16":{"start":{"line":33,"column":0},"end":{"line":33,"column":16}},"17":{"start":{"line":34,"column":0},"end":{"line":34,"column":14}},"18":{"start":{"line":35,"column":0},"end":{"line":39,"column":27}},"19":{"start":{"line":37,"column":8},"end":{"line":37,"column":123}},"20":{"start":{"line":42,"column":0},"end":{"line":44,"column":1}},"21":{"start":{"line":43,"column":4},"end":{"line":43,"column":25}},"22":{"start":{"line":47,"column":0},"end":{"line":54,"column":1}},"23":{"start":{"line":49,"column":4},"end":{"line":49,"column":31}},"24":{"start":{"line":50,"column":4},"end":{"line":53,"column":5}},"25":{"start":{"line":51,"column":8},"end":{"line":51,"column":24}},"26":{"start":{"line":52,"column":8},"end":{"line":52,"column":25}},"27":{"start":{"line":56,"column":0},"end":{"line":61,"column":1}},"28":{"start":{"line":58,"column":4},"end":{"line":58,"column":14}},"29":{"start":{"line":59,"column":4},"end":{"line":59,"column":18}}},"branchMap":{},"code":["var rdb = require('../index'),","    resetDemo = require('../../rdb-demo/db/resetDemo');","","var Order = rdb.table('_order');","var OrderLine = rdb.table('_orderLine');","","Order.primaryColumn('oId').guid().as('id');","Order.column('oOrderNo').string().as('orderNo');","Order.column('oFoo').boolean().as('foo');","","OrderLine.primaryColumn('lId').guid().as('id');","OrderLine.column('lOrderId').guid().as('orderId');","OrderLine.column('lProduct').string().as('product');","","rdb.log(console.log);","","var line_order_relation = OrderLine.join(Order).by('lOrderId').as('order');","Order.hasMany(line_order_relation).as('lines');","","// var db = rdb('postgres://postgres:postgres@localhost/test');","var db = rdb.sqlite(__dirname + '/../../rdb-demo/sqlite/db/rdbDemo');","","","var emptyFilter = Order.foo.greaterThan(new Date());","var strategy = {","    lines: {","        orderBy: 'product'","    },","    orderBy: 'orderNo',","    limit: 3","};","","var counter = 0;","var data = '';","module.exports = resetDemo()","    .then(function() {","        Order.createJSONReadStream(db, emptyFilter, strategy).on('data', printOrder).on('error', onError).on('end', onEnd);","","    }).then(null, onError);","","","function onError(e) {","    console.log(e.stack);","}","","","function onEnd() {","    // console.log('end...' + counter);","    var obj = JSON.parse(data);","    for (var i = 0; i < obj.length; i++) {","        var dto = obj[i]","        console.log(dto);","    }","}","","function printOrder(order) {","    // console.log(typeof order);","    counter++;","    data += order;","    // console.log(order);","}",""],"l":{"1":2,"4":0,"5":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"15":0,"17":0,"18":0,"21":0,"24":0,"25":0,"33":0,"34":0,"35":0,"37":0,"42":1,"43":0,"47":1,"49":0,"50":0,"51":0,"52":0,"56":1,"58":0,"59":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/negotiateExisting.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/negotiateExisting.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":18}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":18}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":15}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":20}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":28}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":33}},"13":{"start":{"line":16,"column":1},"end":{"line":16,"column":24}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":82}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.newDomain = {};","\tc.oldDomain = {};","","\tc.oldFoo = {};","\tc.existingFoo = {};","\tc.oldDomain.foo = c.oldFoo;","\tc.newDomain.foo = c.existingFoo;","\tc.propertyName = 'foo';","","\trequire('../negotiateForwardProperty')(c.oldDomain, c.newDomain, c.propertyName);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/negotiateFoo.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/negotiateFoo.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":20,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":18}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":18}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":15}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":15}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":28}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":24}},"13":{"start":{"line":17,"column":1},"end":{"line":17,"column":82}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":35}},"15":{"start":{"line":19,"column":1},"end":{"line":19,"column":28}},"16":{"start":{"line":22,"column":0},"end":{"line":22,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.newDomain = {};","\tc.oldDomain = {};","","\tc.oldFoo = {};","\tc.newFoo = {};","\tc.oldDomain.foo = c.oldFoo;","\tc.propertyName = 'foo';","","\trequire('../negotiateForwardProperty')(c.oldDomain, c.newDomain, c.propertyName);","\tc.originalValue = c.newDomain.foo;","\tc.newDomain.foo = c.newFoo;","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"17":0,"18":0,"19":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/negotiateRdb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/negotiateRdb.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":18}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":18}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":15}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":28}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":24}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":82}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.newDomain = {};","\tc.oldDomain = {};","","\tc.oldRdb = {};","\tc.oldDomain.rdb = c.oldRdb;","\tc.propertyName = 'rdb';","","\trequire('../negotiateForwardProperty')(c.oldDomain, c.newDomain, c.propertyName);","","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"13":0,"14":0,"16":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/whenNegotiateExisting.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/whenNegotiateExisting.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":82}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should not forward existing').assertEqual(c.newDomain.foo, c.existingFoo)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/whenNegotiateFoo.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/whenNegotiateFoo.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":110}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should forward property getter through new domain').assertEqual(c.oldFoo, c.originalValue)","    .it('should update value on old domain when setting on new domain').assertEqual(c.newFoo, c.oldDomain.foo)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/whenNegotiateRdb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomain/negotiateForwardPropertySpec/whenNegotiateRdb.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":82}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should not forward rdb').assertNotEqual(c.oldDomain.rdb, c.newDomain.rdb)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/inDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/inDomain.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":23,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":15}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":28}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":18}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":28}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":46}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":15}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":12}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":19}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":19}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":19}},"13":{"start":{"line":18,"column":1},"end":{"line":18,"column":65}},"14":{"start":{"line":19,"column":1},"end":{"line":19,"column":65}},"15":{"start":{"line":20,"column":1},"end":{"line":20,"column":65}},"16":{"start":{"line":22,"column":1},"end":{"line":22,"column":22}},"17":{"start":{"line":25,"column":0},"end":{"line":25,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","\tc.domain = {};","\tc.Domain.active = c.domain;","","\tc.newDomain = {};","\tc.Domain.create = c.mock();","\tc.Domain.create.expect().return(c.newDomain);","","\tc.newBar = {};","\tc.baz = {};","","\tc.domain.foo = {};","\tc.domain.bar = {};","\tc.domain.baz = {};","","\tc.negotiateForwardProperty.expect(c.domain, c.newDomain, 'foo');","\tc.negotiateForwardProperty.expect(c.domain, c.newDomain, 'bar');","\tc.negotiateForwardProperty.expect(c.domain, c.newDomain, 'baz');","\t","\tc.returned = c.sut();","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"7":0,"8":0,"9":0,"11":0,"12":0,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"22":0,"25":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/outsideDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/outsideDomain.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":28}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":18}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":46}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":22}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","\tc.Domain.create = c.mock();","","\tc.newDomain = {};","\tc.Domain.create.expect().return(c.newDomain);","","\tc.returned = c.sut();","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"6":0,"7":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/whenInDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/whenInDomain.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should forward properties of old domain').assertDoesNotThrow(c.negotiateForwardProperty.verify)",".it('should return new domain').assertEqual(c.newDomain, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/whenOutsideDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/createDomainSpec/req/whenOutsideDomain.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return a new domain').assertEqual(c.newDomain, c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":16}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":23}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":24}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":23}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":20}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["","function act(c) {","\tc.callback = c.mock();","\tc.callback2 = c.mock();","\tc.sut.add(c.callback);","\tc.sut.add(c.callback2);","}","","act.base = '../new';","module.exports = act;"],"l":{"2":1,"3":0,"4":0,"5":0,"6":0,"9":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/emit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/emit.js","s":{"1":1,"2":0,"3":1,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":9}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}}},"branchMap":{},"code":["function act(c) {","\tc.sut();","}","","act.base = '../new';","module.exports = act;"],"l":{"1":1,"2":0,"5":1,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryAddEmpty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryAddEmpty.js","s":{"1":1,"2":0,"3":0,"4":1,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":16}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":22}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":16}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":20}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["","function act(c) {\t","\tc.sut.add = c.mock();","\tc.sut.tryAdd();","}","","act.base = '../new';","module.exports = act;"],"l":{"2":1,"3":0,"4":0,"7":1,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryAdd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryAdd.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":22}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":28}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":20}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["var callback = 'foo';","","function act(c) {\t","\tc.sut.add = c.mock();","\tc.sut.add.expect(callback);","\tc.sut.tryAdd(callback);","}","","act.base = '../new';","module.exports = act;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryRemoveEmpty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryRemoveEmpty.js","s":{"1":1,"2":0,"3":0,"4":1,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":16}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":25}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":19}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":20}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["","function act(c) {\t","\tc.sut.remove = c.mock();","\tc.sut.tryRemove();","}","","act.base = '../new';","module.exports = act;"],"l":{"2":1,"3":0,"4":0,"7":1,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryRemove.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/tryRemove.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":25}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":27}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":20}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["var callback = 'foo';","","function act(c) {\t","\tc.sut.remove = c.mock();","\tc.sut.remove.expect(callback);","\tc.sut.tryRemove(callback);","}","","act.base = '../new';","module.exports = act;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenEmit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenEmit.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":40}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should not crash').assertOk('ok');"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryAddEmpty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryAddEmpty.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('not forward to add').assertDoesNotThrow(c.sut.add.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryAdd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryAdd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":60}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('forward to add').assertDoesNotThrow(c.sut.add.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryRemoveEmpty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryRemoveEmpty.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":77}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should not forward to remove').assertDoesNotThrow(c.sut.remove.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryRemove.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/whenTryRemove.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('forward to remove').assertDoesNotThrow(c.sut.remove.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/and.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/and.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":14,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":15}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":16}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":22}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":23}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":66}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":25}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":58}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":59}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.filter = {};","\tc.filter2 = {};","\tc.initialFilter = {};","\tc.initialFilter2 = {};","\tc.expected = {};","","\tc.negotiateRawSqlFilter.expect(c.initialFilter).return(c.filter);","","\tc.filter.and = c.mock();","\tc.filter.and.expect(c.initialFilter2).return(c.expected);","","\tc.returned = c.sut.and(c.initialFilter, c.initialFilter2);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"8":0,"10":0,"11":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/or.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/or.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":14,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":15}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":16}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":22}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":23}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":66}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":24}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":57}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":58}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.filter = {};","\tc.filter2 = {};","\tc.initialFilter = {};","\tc.initialFilter2 = {};","\tc.expected = {};","","\tc.negotiateRawSqlFilter.expect(c.initialFilter).return(c.filter);","","\tc.filter.or = c.mock();","\tc.filter.or.expect(c.initialFilter2).return(c.expected);","","\tc.returned = c.sut.or(c.initialFilter, c.initialFilter2);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"8":0,"10":0,"11":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/whenAnd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/whenAnd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return negotiatedFilter').assertEqual(c.expected, c.returned)","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return negotiatedFilter').assertEqual(c.expected, c.returned)","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/whenOr.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emptyFilterSpec/req/whenOr.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return negotiatedFilter').assertEqual(c.expected, c.returned)","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lockSpec/req/whenLock.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lockSpec/req/whenLock.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return lock object').assertEqual(c.expected, c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":32}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.sut = require('../toIntKey');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":34}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","","\tc.sut = require('../encodeDate');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":82}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set commit on transaction').assertEqual(c.commit, c.sut.commit)","\t.it('should set rollback on transaction').assertEqual(c.rollback, c.sut.rollback)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newPoolSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newPoolSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":73}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should negotiate pool options').assertDoesNotThrow(c.negotiatePoolOptions.verify)","    .it('should set end').assertEqual(c.denodeifiedEndPool, c.sut.end)","    .it('should set connect').assertEqual(c.boundGetConnection, c.sut.connect)","    .it('should add pool to pools').assertDeepEqual(c.pools[c.id], c.sut)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/selectForUpdateSqlSpec/getSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/selectForUpdateSqlSpec/getSql.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":56}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.returned = require('../selectForUpdateSql')('alias');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/selectForUpdateSqlSpec/whenGetSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/selectForUpdateSqlSpec/whenGetSql.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":63}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return sql').assertEqual(' FOR UPDATE', c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuerySpec/wrap.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuerySpec/wrap.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":19}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":39}},"9":{"start":{"line":13,"column":1},"end":{"line":13,"column":23}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":33}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":47}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.connection = {};","","\tc.log = c.requireMock('../table/log');","","\tc.runQuery = c.mock();","\tc.connection.query = c.runQuery;","\t","\tc.sut = require('../wrapQuery')(c.connection);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"13":0,"14":0,"16":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQueryStreamSpec/wrap.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQueryStreamSpec/wrap.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":19}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":27}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":44}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":53}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.connection = {};","\tc.executeQuery = c.mock();","\tc.connection.executeQuery = c.executeQuery;","\t","\tc.sut = require('../wrapQueryStream')(c.connection);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/addRange.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/addRange.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":19}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":24}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["var range1 = {};","","function act(c) {","\tc.range1 = range1;","\tc.sut.addRange(range1);","}","","module.exports = act;"],"l":{"1":1,"3":1,"4":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/forEach.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/forEach.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":13}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":21}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":23}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":25}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}}},"branchMap":{},"code":["var callback;","","function act(c) {","\tcallback = c.mock();","\tcallback.expect(c.element,0);","\tcallback.expect(c.element2,1);","\tc.callback = callback;","\tc.sut.forEach(callback);","}","","module.exports = act;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/whenForEach.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/whenForEach.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should run callback').assertDoesNotThrow(c.callback.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutableSpec/new/execute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutableSpec/new/execute.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":17}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":12}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":13}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":47}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.expected = {};","\tc.arg = {};","\tc.arg2 = {};","\tc.fn.expect(c.arg, c.arg2).return(c.expected);","\tc.returned = c.sut(c.arg, c.arg2);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutableSpec/new/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutableSpec/new/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return result from original func').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeBooleanSpec/encode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeBooleanSpec/encode.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":37}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","","\tc.sut = require('../encodeBoolean');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeBooleanSpec/whenEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeBooleanSpec/whenEncode.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":62}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should encode true').assertEqual('true', c.sut(true))","\t.it('should encode false').assertEqual('false', c.sut(false))",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDateSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDateSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":34}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","","\tc.sut = require('../encodeDate');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newDatabaseSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newDatabaseSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":51}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":54}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":50}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":43}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":49}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":45}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":76}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":40}},"13":{"start":{"line":14,"column":1},"end":{"line":14,"column":35}},"14":{"start":{"line":16,"column":1},"end":{"line":16,"column":38}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;\t","\tc.requireMock = a.requireMock;","\tc.createDomain = c.requireMock('../createDomain');","\tc.newTransaction = c.requireMock('./newTransaction');","\tc.newPromise = c.requireMock('../table/promise');","\tc.begin = c.requireMock('../table/begin');","\tc.rollback = c.requireMock('../table/rollback');","\tc.commit = c.requireMock('../table/commit');","\tc.negotiateConnectionString = c.requireMock('./negotiateConnectionString');","\tc.newPool = c.requireMock('./newPool');","\tc.lock = c.requireMock('../lock');\t","","\tc.newSut = require('../newDatabase');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newPoolSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newPoolSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set end').assertEqual(c.denodeifiedEndPool, c.sut.end)","\t.it('should set connect').assertEqual(c.pgPool.connect, c.sut.connect)","\t.it('should add pool to pools').assertDeepEqual(c.pools[c.id], c.sut)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":14}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":24}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":40}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.query = {};","\tc.query.sql = c.mock();","","\tc.sut = require('../replaceParamChar');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"15":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/selectForUpdateSqlSpec/getSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/selectForUpdateSqlSpec/getSql.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":56}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.returned = require('../selectForUpdateSql')('alias');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/selectForUpdateSqlSpec/whenGetSql.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/selectForUpdateSqlSpec/whenGetSql.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":72}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return sql').assertEqual(' FOR UPDATE OF alias', c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQuerySpec/wrap.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQuerySpec/wrap.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":39}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":19}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":58}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":23}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":33}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":47}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.log = c.requireMock('../table/log');","\t","\tc.connection = {};","\tc.replaceParamChar = c.requireMock('./replaceParamChar');","","\tc.runQuery = c.mock();","\tc.connection.query = c.runQuery;","\t","\tc.sut = require('../wrapQuery')(c.connection);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"14":0,"15":0,"17":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQueryStreamSpec/wrap.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQueryStreamSpec/wrap.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":20,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":39}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":19}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":58}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":62}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":23}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":33}},"13":{"start":{"line":19,"column":1},"end":{"line":19,"column":53}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.log = c.requireMock('../table/log');","\t","\tc.connection = {};","\tc.replaceParamChar = c.requireMock('./replaceParamChar');","","\tc.newQueryStreamCore = c.requireMock('./newStreamableQuery');\t","","\tc.runQuery = c.mock();","\tc.connection.query = c.runQuery;","\t","\tc.sut = require('../wrapQueryStream')(c.connection);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"14":0,"16":0,"17":0,"19":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/poolsSpec/req/whenEnd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/poolsSpec/req/whenEnd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should end all pools').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":43}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.sut = require('../negotiateParameters');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSqlSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSqlSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":36}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.sut = require('../negotiateSql');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/wrapQuerySpec/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/wrapQuerySpec/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":105}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return object with sql as function').assertEqual(c.safeSql, c.returned.sql)",".it('should return object with parameters as array').assertEqual(c.safeParameters, c.returned.parameters)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBooleanSpec/encode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBooleanSpec/encode.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":37}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","","\tc.sut = require('../encodeBoolean');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBooleanSpec/whenEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/encodeBooleanSpec/whenEncode.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":58}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should encode true').assertEqual('1', c.sut(true))","\t.it('should encode false').assertEqual('0', c.sut(false))",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/beginSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/beginSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":15}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":7,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":8,"column":1},"end":{"line":8,"column":57}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":63}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":62}},"8":{"start":{"line":12,"column":1},"end":{"line":12,"column":29}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["","var a  = require('a');","var mock = a.mock;","var requireMock  = a.requireMock;","","","function act(c){\t\t","\tc.beginCommand = requireMock('./commands/beginCommand');","\tc.executeQuery = requireMock('./executeQueries/executeQuery');","\tc.setSessionSingleton = requireMock('./setSessionSingleton');","\t","\tc.sut = require('../begin');","}","","","module.exports = act;"],"l":{"2":2,"3":0,"4":0,"7":1,"8":0,"9":0,"10":0,"12":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cascadeDeleteSpec/whenCascadeDelete.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cascadeDeleteSpec/whenCascadeDelete.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":90}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should forward to delete with cascade strategy').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cloneStrategySpec/clone.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cloneStrategySpec/clone.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":37}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","","\tc.sut = require('../cloneStrategy');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cloneStrategySpec/whenClone.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/cloneStrategySpec/whenClone.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":18,"column":7}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should clone simple').assertDeepEqual({}, c.sut({}))","    .it('should clone simple 2').assertDeepEqual({}, c.sut({}))","    .it('should medium complex').assertDeepEqual({ a: '1', b: 2, c: undefined}, c.sut({ a: '1', b: 2, c: undefined }))","    .it('should very complex').assertDeepEqual({","        a: '1',","        b: 2,","        c: { foo: 1 },","        d: [{ bar: { f: 'fly' } }, 2]","    }, c.sut({","        a: '1',","        b: 2,","        c: { foo: 1 },","        d: [{ bar: { f: 'fly' } }, 2]","    }))",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binary.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binary.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":35}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":22}}},"branchMap":{},"code":["var newEncode = require('./binary/newEncode');","var newDecode = require('./newDecodeCore');","var purify = require('./binary/purify');","","function _new(column) {","\tcolumn.purify = purify;","\tcolumn.encode = newEncode(column);","\tcolumn.decode = newDecode(column);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binary/newEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binary/newEncode.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}}},"2":{"name":"encode","line":8,"loc":{"start":{"line":8,"column":1},"end":{"line":8,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":4,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"5":{"start":{"line":8,"column":1},"end":{"line":13,"column":2}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"7":{"start":{"line":10,"column":2},"end":{"line":11,"column":28}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":28}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":32}},"10":{"start":{"line":16,"column":0},"end":{"line":16,"column":22}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]}},"code":["var purify = require('./purify');","var newParam = require('../../query/newParameterized');","","function _new(column) {","\t","\treturn encode;","","\tfunction encode(value) {","\t\tvalue = purify(value);","\t\tif (value === null)","\t\t \treturn newParam('null');","\t\treturn newParam('?', [value]);\t\t\t\t","\t}","}","","module.exports = _new;"],"l":{"1":1,"2":1,"4":1,"6":0,"8":1,"9":0,"10":0,"11":0,"12":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binary/purify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binary/purify.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"purify","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":14}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":14}},"4":{"start":{"line":4,"column":1},"end":{"line":5,"column":60}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":60}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":14}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["function purify(value) {\t\t","\tif(value == null)","\t\treturn null;","\tif (!Buffer.isBuffer(value))","\t\tthrow new Error('\\'' + value + '\\'' + ' is not a buffer');","\treturn value;","}","","module.exports = purify;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newDecodeCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newDecodeCore.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":7,"column":3}},"3":{"start":{"line":4,"column":2},"end":{"line":5,"column":15}},"4":{"start":{"line":5,"column":3},"end":{"line":5,"column":15}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":15}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":22}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]}},"code":["function _new(column) {","","\treturn function(value) {","\t\tif (value == column.dbNull)","\t\t\treturn null;","\t\treturn value;","\t};","}","","module.exports = _new;"],"l":{"1":1,"3":0,"4":0,"5":0,"6":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":24}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":35}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":35}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":22}}},"branchMap":{},"code":["var newEncode = require('./boolean/newEncode');","var newDecode = require('./boolean/newDecode');","var purify = require('./boolean/purify');","","function _new(column) {","\tcolumn.purify = purify;","\tcolumn.default = false;","\tcolumn.encode = newEncode(column);","\tcolumn.decode = newDecode(column);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean/newEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean/newEncode.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":22}}},"2":{"name":"encode","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":63}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"5":{"start":{"line":6,"column":0},"end":{"line":25,"column":1}},"6":{"start":{"line":9,"column":1},"end":{"line":21,"column":2}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":24}},"8":{"start":{"line":11,"column":2},"end":{"line":15,"column":3}},"9":{"start":{"line":12,"column":3},"end":{"line":13,"column":28}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":28}},"11":{"start":{"line":14,"column":3},"end":{"line":14,"column":48}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":57}},"13":{"start":{"line":18,"column":2},"end":{"line":19,"column":37}},"14":{"start":{"line":19,"column":3},"end":{"line":19,"column":37}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":37}},"16":{"start":{"line":23,"column":1},"end":{"line":23,"column":45}},"17":{"start":{"line":24,"column":1},"end":{"line":24,"column":15}},"18":{"start":{"line":27,"column":0},"end":{"line":27,"column":22}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":3},"end":{"line":12,"column":3}},{"start":{"line":12,"column":3},"end":{"line":12,"column":3}}]},"3":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]}},"code":["var purify = require('./purify');","var newParam = require('../../query/newParameterized');","var getSessionSingleton = require('../../getSessionSingleton');","var newEncodeSafe = require('../newEncodeSafe');","","function _new(column) {","\t","","\tfunction encode(value) {","\t\tvalue = purify(value);","\t\tif (value === null) {","\t\t\tif (column.dbNull === null)","\t\t\t\treturn newParam('null');","\t\t\treturn newParam('\\'' + column.dbNull + '\\'');","\t\t}","\t\tvar encodeCore =  getSessionSingleton('encodeBoolean');","","\t\tif (value)","\t\t\treturn newParam(encodeCore(true));\t","\t\treturn newParam(encodeCore(false));\t","\t}","","\tencode.safe = newEncodeSafe(column, purify);","\treturn encode;","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"18":0,"19":0,"20":0,"23":0,"24":0,"27":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean/purify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean/purify.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"purify","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":14}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":14}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":23}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":5},"end":{"line":2,"column":19}},{"start":{"line":2,"column":23},"end":{"line":2,"column":52}}]}},"code":["function purify(value) {\t\t","\tif (value === null || typeof (value) == 'undefined')","\t\treturn null;","\treturn Boolean(value);","}","","module.exports = purify;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newEncodeSafe.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newEncodeSafe.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_newSafe","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":5,"column":1},"end":{"line":13,"column":3}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":24}},"5":{"start":{"line":7,"column":2},"end":{"line":11,"column":3}},"6":{"start":{"line":8,"column":3},"end":{"line":9,"column":27}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":27}},"8":{"start":{"line":10,"column":3},"end":{"line":10,"column":47}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":31}},"10":{"start":{"line":16,"column":0},"end":{"line":16,"column":26}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":3},"end":{"line":8,"column":3}},{"start":{"line":8,"column":3},"end":{"line":8,"column":3}}]}},"code":["var newPara = require('../query/newParameterized');","","function _newSafe(column, purify) {","","\treturn function(value) {","\t\tvalue = purify(value);","\t\tif (value == null) {","\t\t\tif (column.dbNull === null)","\t\t\t\treturn newPara('null');","\t\t\treturn newPara('\\'' + column.dbNull + '\\'');","\t\t}","\t\treturn newPara('?', [value]);","\t};","}","","module.exports = _newSafe;"],"l":{"1":1,"3":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean/newDecode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/boolean/newDecode.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":5,"column":1},"end":{"line":9,"column":3}},"4":{"start":{"line":6,"column":2},"end":{"line":7,"column":15}},"5":{"start":{"line":7,"column":3},"end":{"line":7,"column":15}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":23}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":22}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]}},"code":["var purify = require('./purify');","","function _new(column) {","","\treturn function(value) {","\t\tif (value == column.dbNull)","\t\t\treturn null;","\t\treturn purify(value);","\t};","}","","module.exports = _new;"],"l":{"1":1,"3":1,"5":0,"6":0,"7":0,"8":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":35}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":22}}},"branchMap":{},"code":["var newEncode = require('./date/newEncode');","var newDecode = require('./date/newDecode');","var purify = require('./date/purify');","","function _new(column) {","\tcolumn.purify = purify;","\tcolumn.encode = newEncode(column);","\tcolumn.decode = newDecode(column);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/newEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/newEncode.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":22}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":63}},"5":{"start":{"line":6,"column":0},"end":{"line":21,"column":1}},"6":{"start":{"line":7,"column":4},"end":{"line":16,"column":6}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":30}},"8":{"start":{"line":9,"column":8},"end":{"line":13,"column":9}},"9":{"start":{"line":10,"column":12},"end":{"line":11,"column":39}},"10":{"start":{"line":11,"column":16},"end":{"line":11,"column":39}},"11":{"start":{"line":12,"column":12},"end":{"line":12,"column":56}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":59}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":42}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":48}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"16":{"start":{"line":23,"column":0},"end":{"line":23,"column":22}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":12}},{"start":{"line":10,"column":12},"end":{"line":10,"column":12}}]}},"code":["var newPara = require('../../query/newParameterized');","var purify = require('./purify');","var newEncodeSafe = require('../newEncodeSafe');","var getSessionSingleton = require('../../getSessionSingleton');","","function _new(column) {","    var encode = function(value) {","        value = purify(value);","        if (value == null) {","            if (column.dbNull === null)","                return newPara('null');","            return newPara('\\'' + column.dbNull + '\\'');","        }","        var encodeCore = getSessionSingleton('encodeDate');","        return newPara(encodeCore(value));","    };","","    encode.safe = newEncodeSafe(column, purify);","    return encode;","","}","","module.exports = _new;",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"18":0,"19":0,"23":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/purify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/purify.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"purify","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":16,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":6,"column":14}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":14}},"6":{"start":{"line":8,"column":1},"end":{"line":9,"column":26}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":30}},"9":{"start":{"line":12,"column":1},"end":{"line":13,"column":13}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":13}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":25}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":24}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},{"start":{"line":5,"column":1},"end":{"line":5,"column":1}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},{"start":{"line":8,"column":1},"end":{"line":8,"column":1}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},{"start":{"line":12,"column":1},"end":{"line":12,"column":1}}]}},"code":["var tryParseISO = require('./tryParseISO');","var cloneDate = require('./cloneDate');","","function purify(value) {\t\t\t","\tif(value == null)","\t\treturn null;\t","","\tif (value.toISOString) ","\t\treturn cloneDate(value);","","\tvar iso = tryParseISO(value);","\tif (iso)","\t\treturn iso;\t","\t","\treturn cloneDate(value);","}","","module.exports = purify;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"9":0,"11":0,"12":0,"13":0,"15":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/tryParseISO.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/tryParseISO.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"tryParseISO","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":165}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":13}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":13}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["var pattern = /(\\d{4}-[01]\\d-[0-3]\\d(T| )[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+)|(\\d{4}-[01]\\d-[0-3]\\d(T| )[0-2]\\d:[0-5]\\d:[0-5]\\d)|(\\d{4}-[01]\\d-[0-3]\\d(T| )[0-2]\\d:[0-5]\\d)/","","function tryParseISO (iso) {","\tif (pattern.test(iso))","\t\treturn iso;","}","","module.exports = tryParseISO;"],"l":{"1":1,"3":1,"4":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/cloneDate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/cloneDate.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"cloneDate","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":26}},"4":{"start":{"line":6,"column":4},"end":{"line":13,"column":7}},"5":{"start":{"line":11,"column":12},"end":{"line":11,"column":37}},"6":{"start":{"line":14,"column":4},"end":{"line":14,"column":16}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"branchMap":{},"code":["var toISOString = require('./toISOString');","","function cloneDate(date) {","    date = new Date(date);","","    Object.defineProperty(date, 'toISOString', {","        enumerable: false,","        configurable: true,","        writable: true,","        value: function() {","            return toISOString(date);","        }","    });","    return date;","}","","module.exports = cloneDate;",""],"l":{"1":1,"3":1,"4":0,"6":0,"11":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/toISOString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/toISOString.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"toISOString","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}}},"2":{"name":"pad","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":18}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":11,"column":26}},"4":{"start":{"line":14,"column":0},"end":{"line":17,"column":1}},"5":{"start":{"line":15,"column":1},"end":{"line":15,"column":38}},"6":{"start":{"line":16,"column":4},"end":{"line":16,"column":41}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":29}}},"branchMap":{"1":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":24},"end":{"line":16,"column":27}},{"start":{"line":16,"column":30},"end":{"line":16,"column":32}}]}},"code":["var getISOTimezone = require('./getISOTimezone');","","function toISOString(date) {","\treturn date.getFullYear() +","         '-' + pad(date.getMonth()+1) +","         '-' + pad(date.getDate()) +","         'T' + pad(date.getHours()) +","         ':' + pad(date.getMinutes()) +","         ':' + pad(date.getSeconds()) +","         '.' + pad(date.getMilliseconds()) +","         getISOTimezone();","}","","function pad(num) {","\tvar norm = Math.abs(Math.floor(num));","    return (norm < 10 ? '0' : '') + norm;","}","","","","module.exports = toISOString;"],"l":{"1":1,"3":1,"4":0,"14":1,"15":0,"16":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/getISOTimezone.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/getISOTimezone.js","s":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"getISOTimezone","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}}},"2":{"name":"pad","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":18}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":4,"column":35}},"3":{"start":{"line":5,"column":5},"end":{"line":5,"column":54}},"4":{"start":{"line":8,"column":0},"end":{"line":11,"column":1}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":41}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":41}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":32}}},"branchMap":{"1":{"line":4,"type":"cond-expr","locations":[{"start":{"line":4,"column":25},"end":{"line":4,"column":28}},{"start":{"line":4,"column":31},"end":{"line":4,"column":34}}]},"2":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":24},"end":{"line":10,"column":27}},{"start":{"line":10,"column":30},"end":{"line":10,"column":32}}]}},"code":["function getISOTimezone() {","    var now = new Date(),","        tzo = -now.getTimezoneOffset(),","        dif = tzo >= 0 ? '+' : '-';","    \treturn dif + pad(tzo / 60) + ':' + pad(tzo % 60);","}","","function pad(num) {","    var norm = Math.abs(Math.floor(num));","    return (norm < 10 ? '0' : '') + norm;","}","","module.exports = getISOTimezone;",""],"l":{"1":1,"2":0,"5":0,"8":1,"9":0,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/newDecode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/date/newDecode.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":13,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":40}},"5":{"start":{"line":7,"column":1},"end":{"line":12,"column":3}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":28}},"7":{"start":{"line":9,"column":2},"end":{"line":10,"column":16}},"8":{"start":{"line":10,"column":3},"end":{"line":10,"column":16}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":26}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":22}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]}},"code":["var newDecodeCore = require('../newDecodeCore');","var cloneDate = require('./cloneDate');","","function _new(column) {\t","\tvar decodeCore = newDecodeCore(column);\t","\t","\treturn function(value) {","\t\tvalue = decodeCore(value);","\t\tif (value === null)","\t\t\treturn value;","\t\treturn cloneDate(value);","\t};","}","","module.exports = _new;"],"l":{"1":1,"2":1,"4":1,"5":0,"7":0,"8":0,"9":0,"10":0,"11":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guid.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guid.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":35}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":22}}},"branchMap":{},"code":["var newEncode = require('./guid/newEncode');","var newDecode = require('./newDecodeCore');","var purify = require('./guid/purify');","","function _new(column) {","\tcolumn.purify = purify;","\tcolumn.encode = newEncode(column);","\tcolumn.decode = newDecode(column);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guid/newEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guid/newEncode.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":15,"column":1}},"4":{"start":{"line":6,"column":1},"end":{"line":14,"column":3}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":32}},"6":{"start":{"line":8,"column":2},"end":{"line":12,"column":3}},"7":{"start":{"line":9,"column":3},"end":{"line":10,"column":27}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":27}},"9":{"start":{"line":11,"column":3},"end":{"line":11,"column":47}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":38}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":3}},{"start":{"line":9,"column":3},"end":{"line":9,"column":3}}]}},"code":["var newPara = require('../../query/newParameterized');","var purify = require('./purify');","","function _new(column) {","\t","\treturn function(candidate) {","\t\tvar value = purify(candidate);","\t\tif (value == null) {","\t\t\tif(column.dbNull === null)","\t\t\t\treturn newPara('null');","\t\t\treturn newPara('\\'' + column.dbNull + '\\'');","\t\t}","\t\treturn newPara('\\'' + value + '\\'');\t","\t};","}","","module.exports = _new;"],"l":{"1":1,"2":1,"4":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"13":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guid/purify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guid/purify.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateGuidFormat","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":14}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":14}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":81}},"5":{"start":{"line":5,"column":1},"end":{"line":6,"column":59}},"6":{"start":{"line":6,"column":2},"end":{"line":6,"column":59}},"7":{"start":{"line":7,"column":1},"end":{"line":7,"column":18}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},{"start":{"line":5,"column":1},"end":{"line":5,"column":1}}]}},"code":["function negotiateGuidFormat(candidate) {","\tif(candidate == null)","\t\treturn null;","\tvar pattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;","\tif(!pattern.test(candidate))","\t\tthrow new TypeError(candidate +  ' is not a valid UUID');","\treturn candidate;","}","","module.exports = negotiateGuidFormat;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/json.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/json.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":35}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":22}}},"branchMap":{},"code":["var newEncode = require('./json/newEncode');","var newDecode = require('./newDecodeCore');","var purify = require('./json/purify');","","function _new(column) {","\tcolumn.purify = purify;","\tcolumn.encode = newEncode(column);","\tcolumn.decode = newDecode(column);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/json/newEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/json/newEncode.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":15,"column":1}},"4":{"start":{"line":6,"column":1},"end":{"line":14,"column":3}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":32}},"6":{"start":{"line":8,"column":2},"end":{"line":12,"column":3}},"7":{"start":{"line":9,"column":3},"end":{"line":10,"column":27}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":27}},"9":{"start":{"line":11,"column":3},"end":{"line":11,"column":47}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":47}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":3}},{"start":{"line":9,"column":3},"end":{"line":9,"column":3}}]}},"code":["var newPara = require('../../query/newParameterized');","var purify = require('./purify');","","function _new(column) {","\t","\treturn function(candidate) {","\t\tvar value = purify(candidate);","\t\tif (value == null) {","\t\t\tif(column.dbNull === null)","\t\t\t\treturn newPara('null');","\t\t\treturn newPara('\\'' + column.dbNull + '\\'');","\t\t}","\t\treturn newPara('?', [JSON.stringify(value)]);\t","\t};","}","","module.exports = _new;"],"l":{"1":1,"2":1,"4":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"13":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/json/purify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/json/purify.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"purify","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":14}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":14}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":14}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function purify(value) {","\tif(value == null)","\t\treturn null;","\treturn value;","}","","module.exports = purify;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":20}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":24}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":35}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":35}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":22}}},"branchMap":{},"code":["var newEncode = require('./numeric/newEncode');","var newDecode = require('./numeric/newDecode');","var purify = require('./numeric/purify');","","function _new(column) {","\tcolumn.default = 0;","\tcolumn.purify = purify;","\tcolumn.encode = newEncode(column);","\tcolumn.decode = newDecode(column);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/newEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/newEncode.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}}},"2":{"name":"encode","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":4,"column":0},"end":{"line":15,"column":2}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":15}},"5":{"start":{"line":7,"column":1},"end":{"line":14,"column":2}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":24}},"7":{"start":{"line":9,"column":2},"end":{"line":12,"column":3}},"8":{"start":{"line":10,"column":3},"end":{"line":10,"column":30}},"9":{"start":{"line":11,"column":3},"end":{"line":11,"column":37}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":30}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]}},"code":["var purify = require('./purify');","var newParam = require('../../query/newParameterized');","","module.exports = function(column) {","\treturn encode;","","\tfunction encode(value) {","\t\tvalue = purify(value);","\t\tif (value == null) {","\t\t\tvar dbNull = column.dbNull;","\t\t\treturn newParam('' + dbNull + '');","\t\t}","\t\treturn newParam('' + value);","\t}","};"],"l":{"1":1,"2":1,"4":1,"5":0,"7":1,"8":0,"9":0,"10":0,"11":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/purify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/purify.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"purify","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":14}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":14}},"4":{"start":{"line":4,"column":1},"end":{"line":5,"column":60}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":60}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":14}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]},"2":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["function purify(value) {\t\t","\tif(value == null)","\t\treturn null;","\tif (typeof(value) != 'number')","\t\tthrow new Error('\\'' + value + '\\'' + ' is not a number');","\treturn value;","}","","module.exports = purify;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"9":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/newDecode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/newDecode.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":40}},"4":{"start":{"line":6,"column":1},"end":{"line":13,"column":3}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":28}},"6":{"start":{"line":8,"column":2},"end":{"line":9,"column":16}},"7":{"start":{"line":9,"column":3},"end":{"line":9,"column":16}},"8":{"start":{"line":10,"column":2},"end":{"line":11,"column":28}},"9":{"start":{"line":11,"column":3},"end":{"line":11,"column":28}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":15}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":22}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]}},"code":["var newDecodeCore = require('../newDecodeCore');","","function _new(column) {\t","\tvar decodeCore = newDecodeCore(column);\t","\t","\treturn function(value) {","\t\tvalue = decodeCore(value);","\t\tif (value === null)","\t\t\treturn value;","\t\tif (typeof(value) != 'number')","\t\t\treturn parseFloat(value);","\t\treturn value;","\t};","}","","module.exports = _new;"],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"_new","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":29}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":24},"end":{"line":19,"column":45}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":22},"end":{"line":23,"column":43}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":22},"end":{"line":27,"column":43}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":25},"end":{"line":31,"column":46}}},"6":{"name":"(anonymous_6)","line":35,"loc":{"start":{"line":35,"column":23},"end":{"line":35,"column":44}}},"7":{"name":"(anonymous_7)","line":39,"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":44}}},"8":{"name":"(anonymous_8)","line":44,"loc":{"start":{"line":44,"column":20},"end":{"line":44,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":46}},"12":{"start":{"line":13,"column":0},"end":{"line":50,"column":1}},"13":{"start":{"line":14,"column":4},"end":{"line":14,"column":27}},"14":{"start":{"line":15,"column":4},"end":{"line":15,"column":38}},"15":{"start":{"line":16,"column":4},"end":{"line":16,"column":38}},"16":{"start":{"line":17,"column":4},"end":{"line":17,"column":55}},"17":{"start":{"line":19,"column":4},"end":{"line":22,"column":6}},"18":{"start":{"line":20,"column":8},"end":{"line":20,"column":36}},"19":{"start":{"line":21,"column":8},"end":{"line":21,"column":46}},"20":{"start":{"line":23,"column":4},"end":{"line":26,"column":6}},"21":{"start":{"line":24,"column":8},"end":{"line":24,"column":36}},"22":{"start":{"line":25,"column":8},"end":{"line":25,"column":44}},"23":{"start":{"line":27,"column":4},"end":{"line":30,"column":6}},"24":{"start":{"line":28,"column":8},"end":{"line":28,"column":36}},"25":{"start":{"line":29,"column":8},"end":{"line":29,"column":44}},"26":{"start":{"line":31,"column":4},"end":{"line":34,"column":6}},"27":{"start":{"line":32,"column":8},"end":{"line":32,"column":36}},"28":{"start":{"line":33,"column":8},"end":{"line":33,"column":47}},"29":{"start":{"line":35,"column":4},"end":{"line":38,"column":6}},"30":{"start":{"line":36,"column":8},"end":{"line":36,"column":36}},"31":{"start":{"line":37,"column":8},"end":{"line":37,"column":45}},"32":{"start":{"line":39,"column":4},"end":{"line":42,"column":6}},"33":{"start":{"line":40,"column":8},"end":{"line":40,"column":36}},"34":{"start":{"line":41,"column":8},"end":{"line":41,"column":45}},"35":{"start":{"line":44,"column":4},"end":{"line":47,"column":6}},"36":{"start":{"line":45,"column":8},"end":{"line":45,"column":36}},"37":{"start":{"line":46,"column":8},"end":{"line":46,"column":42}},"38":{"start":{"line":49,"column":4},"end":{"line":49,"column":31}},"39":{"start":{"line":52,"column":0},"end":{"line":52,"column":22}}},"branchMap":{},"code":["var newEncode = require('./string/newEncode');","var newDecode = require('./newDecodeCore');","var startsWith = require('./string/startsWith');","var endsWith = require('./string/endsWith');","var contains = require('./string/contains');","var iStartsWith = require('./string/iStartsWith');","var iEndsWith = require('./string/iEndsWith');","var iContains = require('./string/iContains');","var iEqual = require('./string/iEqual');","var purify = require('./string/purify');","var _extractAlias = require('./extractAlias');","","function _new(table, column) {","    column.purify = purify;","    column.encode = newEncode(column);","    column.decode = newDecode(column);","    var extractAlias = _extractAlias.bind(null, table);","","    column.startsWith = function(arg, alias) {","        alias = extractAlias(alias);","        return startsWith(column, arg, alias);","    };","    column.endsWith = function(arg, alias) {","        alias = extractAlias(alias);","        return endsWith(column, arg, alias);","    };","    column.contains = function(arg, alias) {","        alias = extractAlias(alias);","        return contains(column, arg, alias);","    };","    column.iStartsWith = function(arg, alias) {","        alias = extractAlias(alias);","        return iStartsWith(column, arg, alias);","    };","    column.iEndsWith = function(arg, alias) {","        alias = extractAlias(alias);","        return iEndsWith(column, arg, alias);","    };","    column.iContains = function(arg, alias) {","        alias = extractAlias(alias);","        return iContains(column, arg, alias);","    };","","    column.iEqual = function(arg, alias) {","        alias = extractAlias(alias);","        return iEqual(column, arg, alias);","    };","","    column.iEq = column.iEqual;","}","","module.exports = _new;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"35":0,"36":0,"37":0,"39":0,"40":0,"41":0,"44":0,"45":0,"46":0,"49":0,"52":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/newEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/newEncode.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":18,"column":1}},"5":{"start":{"line":7,"column":1},"end":{"line":17,"column":3}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":24}},"7":{"start":{"line":9,"column":2},"end":{"line":13,"column":3}},"8":{"start":{"line":10,"column":3},"end":{"line":11,"column":27}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":27}},"10":{"start":{"line":12,"column":3},"end":{"line":12,"column":47}},"11":{"start":{"line":14,"column":2},"end":{"line":15,"column":39}},"12":{"start":{"line":15,"column":3},"end":{"line":15,"column":39}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":31}},"14":{"start":{"line":20,"column":0},"end":{"line":20,"column":22}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":3},"end":{"line":10,"column":3}},{"start":{"line":10,"column":3},"end":{"line":10,"column":3}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]}},"code":["var newPara = require('../../query/newParameterized');","var stringIsSafe = require('./stringIsSafe');","var purify = require('./purify');","","function _new(column) {","","\treturn function(value) {","\t\tvalue = purify(value);","\t\tif (value == null) {","\t\t\tif (column.dbNull === null)","\t\t\t\treturn newPara('null');","\t\t\treturn newPara('\\'' + column.dbNull + '\\'');","\t\t}","\t\tif(stringIsSafe(value))","\t\t\treturn newPara('\\'' + value + '\\'');","\t\treturn newPara('?', [value]);","\t};","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"16":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/stringIsSafe.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/stringIsSafe.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"stringIsSafe","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":105}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"10":{"start":{"line":11,"column":0},"end":{"line":13,"column":1}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":28}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}}},"branchMap":{},"code":["var ascii = '\\u0020\\u0028-\\u003E\\u0040-\\u005A\\u0060-\\u007A';","var latin1 = '\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF';","var latinExtA = '\\u0100-\\u017F';","var latinExtB = '\\u0180-\\u024F';","var cyrillic = '\\u0400-\\u04FF';\t","var cjk = '\\u4E00-\\u9FC3';","var util = require('util');","var patternString = util.format('^[%s%s%s%s%s%s]+$', ascii, latin1, latinExtA, latinExtB, cyrillic, cjk);","var pattern = new RegExp(patternString);","","function stringIsSafe(value) {","\treturn pattern.test(value);","}","","module.exports = stringIsSafe;"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"11":1,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/purify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/purify.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"purify","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":3,"column":14}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":14}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":14}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},{"start":{"line":2,"column":1},"end":{"line":2,"column":1}}]}},"code":["function purify(value) {","\tif(value == null)","\t\treturn null;","\treturn value;","}","","module.exports = purify;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/startsWith.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/startsWith.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}}},"branchMap":{},"code":["var startsWithCore = require('./startsWithCore');","","module.exports = startsWithCore.bind(null, 'LIKE');"],"l":{"1":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/startsWithCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/startsWithCore.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"startsWithCore","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":33}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":34}},"6":{"start":{"line":7,"column":1},"end":{"line":10,"column":37}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":37}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":57}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":42}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":27}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":32}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":["var newBoolean = require('../newBoolean');","var nullOperator = ' is ';","","function startsWithCore(operator, column,arg,alias) {\t","\toperator = ' ' + operator + ' ';","\tvar encoded = column.encode(arg);","\tif (encoded.sql() == 'null') ","\t\toperator = nullOperator;","\telse","\t\tencoded = column.encode(arg + '%');","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = startsWithCore;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/endsWith.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/endsWith.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}}},"branchMap":{},"code":["var endsWithCore = require('./endsWithCore');","","module.exports = endsWithCore.bind(null, 'LIKE');",""],"l":{"1":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/endsWithCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/endsWithCore.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"endsWithCore","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":33}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":34}},"6":{"start":{"line":7,"column":1},"end":{"line":10,"column":37}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":37}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":57}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":42}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":27}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":["var newBoolean = require('../newBoolean');","var nullOperator = ' is ';","","function endsWithCore(operator, column,arg,alias) {\t","\toperator = ' ' + operator + ' ';","\tvar encoded = column.encode(arg);","\tif (encoded.sql() == 'null') ","\t\toperator = nullOperator;","\telse","\t\tencoded = column.encode('%' + arg);","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = endsWithCore;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/contains.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/contains.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}}},"branchMap":{},"code":["var containsCore = require('./containsCore');","","module.exports = containsCore.bind(null, 'LIKE');",""],"l":{"1":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/containsCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/containsCore.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"endsWithCore","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":33}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":34}},"6":{"start":{"line":7,"column":1},"end":{"line":10,"column":43}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":43}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":57}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":42}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":27}},"12":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},{"start":{"line":7,"column":1},"end":{"line":7,"column":1}}]}},"code":["var newBoolean = require('../newBoolean');","var nullOperator = ' is ';","","function endsWithCore(operator, column,arg,alias) {\t","\toperator = ' ' + operator + ' ';","\tvar encoded = column.encode(arg);","\tif (encoded.sql() == 'null') ","\t\toperator = nullOperator;","\telse","\t\tencoded = column.encode('%' + arg + '%');","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = endsWithCore;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"16":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iStartsWith.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iStartsWith.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}}},"branchMap":{},"code":["var startsWithCore = require('./startsWithCore');","","module.exports = startsWithCore.bind(null, 'ILIKE');"],"l":{"1":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iEndsWith.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iEndsWith.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}}},"branchMap":{},"code":["var endsWithCore = require('./endsWithCore');","","module.exports = endsWithCore.bind(null, 'ILIKE');",""],"l":{"1":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iContains.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iContains.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}}},"branchMap":{},"code":["var containsCore = require('./containsCore');","","module.exports = containsCore.bind(null, 'ILIKE');",""],"l":{"1":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iEqual.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/iEqual.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"iEqual","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":26}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":44}},"7":{"start":{"line":8,"column":1},"end":{"line":9,"column":26}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":57}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":42}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":27}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":24}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},{"start":{"line":8,"column":1},"end":{"line":8,"column":1}}]}},"code":["var newBoolean = require('../newBoolean');","var nullOperator = ' is ';","var encodeFilterArg = require('../encodeFilterArg');","","function iEqual(column,arg,alias) {\t","\tvar operator = ' ILIKE ';","\tvar encoded = encodeFilterArg(column, arg);","\tif (encoded.sql() == 'null') ","\t\toperator = nullOperator;","\tvar firstPart = alias + '.' + column._dbName + operator;","\tvar filter =  encoded.prepend(firstPart);\t\t","\treturn newBoolean(filter);","}","","module.exports = iEqual;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commitSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commitSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":15}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":7,"column":0},"end":{"line":16,"column":1}},"5":{"start":{"line":8,"column":1},"end":{"line":8,"column":15}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":59}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":55}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":67}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":54}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":44}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":30}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["","var a  = require('a');","var mock = a.mock;","var requireMock  = a.requireMock;","","","function act(c){\t\t","\tc.mock = mock;","\tc.commitCommand = requireMock('./commands/commitCommand');","\tc.pushCommand = requireMock('./commands/pushCommand');","\tc.executeChanges = requireMock('./executeQueries/executeChanges');","\tc.releaseDbClient = requireMock('./releaseDbClient');","\tc.popChanges = requireMock('./popChanges');","\t","\tc.sut = require('../commit');","}","","","module.exports = act;"],"l":{"2":2,"3":0,"4":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/create.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/create.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":25,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":14}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":11}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":17}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":22}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":72}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":36}},"14":{"start":{"line":17,"column":1},"end":{"line":17,"column":31}},"15":{"start":{"line":18,"column":1},"end":{"line":18,"column":20}},"16":{"start":{"line":19,"column":1},"end":{"line":19,"column":69}},"17":{"start":{"line":21,"column":1},"end":{"line":21,"column":17}},"18":{"start":{"line":22,"column":1},"end":{"line":22,"column":119}},"19":{"start":{"line":24,"column":1},"end":{"line":24,"column":109}},"20":{"start":{"line":27,"column":0},"end":{"line":27,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\tc.table = {};","\tc.db = {};","\tc.filter = {};","\tc.strategy = {};","\tc.streamOptions = {};","\t","\tc.createReadStreamCore = c.requireMock('./createReadStreamCoreNative');","\tc.Stream = c.requireMock('stream');","","\tc.Stream.Transform = c.mock();","\tc.transformer = {};","\tc.Stream.Transform.expect({objectMode: true}).return(c.transformer);","\t","\tc.expected = {};","\tc.createReadStreamCore.expect(c.table, c.db, c.filter, c.strategy, c.transformer, c.streamOptions).return(c.expected);","","\tc.returned = require('../createJSONReadStreamNative')(c.table, c.db, c.filter, c.strategy, c.streamOptions);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"17":0,"18":0,"19":0,"21":0,"22":0,"24":0,"27":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/whenCreate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/whenCreate.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return stream').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/create.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/create.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":25,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":14}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":11}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":17}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":22}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":72}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":36}},"14":{"start":{"line":17,"column":1},"end":{"line":17,"column":31}},"15":{"start":{"line":18,"column":1},"end":{"line":18,"column":20}},"16":{"start":{"line":19,"column":1},"end":{"line":19,"column":69}},"17":{"start":{"line":21,"column":1},"end":{"line":21,"column":17}},"18":{"start":{"line":22,"column":1},"end":{"line":22,"column":119}},"19":{"start":{"line":24,"column":1},"end":{"line":24,"column":105}},"20":{"start":{"line":27,"column":0},"end":{"line":27,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\tc.table = {};","\tc.db = {};","\tc.filter = {};","\tc.strategy = {};","\tc.streamOptions = {};","\t","\tc.createReadStreamCore = c.requireMock('./createReadStreamCoreNative');","\tc.Stream = c.requireMock('stream');","","\tc.Stream.Transform = c.mock();","\tc.transformer = {};","\tc.Stream.Transform.expect({objectMode: true}).return(c.transformer);","\t","\tc.expected = {};","\tc.createReadStreamCore.expect(c.table, c.db, c.filter, c.strategy, c.transformer, c.streamOptions).return(c.expected);","","\tc.returned = require('../createReadStreamNative')(c.table, c.db, c.filter, c.strategy, c.streamOptions);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"17":0,"18":0,"19":0,"21":0,"22":0,"24":0,"27":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/whenCreate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/whenCreate.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return stream').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSessionContextSpec/whenDelete.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSessionContextSpec/whenDelete.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":90}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should should delete rdb property from domain').assertEqual(false, 'rdb' in c.domain)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":57}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":67}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":68}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":56}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":75}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":21}},"13":{"start":{"line":16,"column":1},"end":{"line":16,"column":51}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":29}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.pushCommand = c.requireMock('./commands/pushCommand');","\tc.newDeleteCommand = c.requireMock('./commands/newDeleteCommand');","\tc.extractDeleteStrategy = c.requireMock('./extractDeleteStrategy');","\tc.resultToPromise = c.requireMock('./resultToPromise');","\tc.negotiateRawSqlFilter = c.requireMock('./column/negotiateRawSqlFilter');","\t","\tc.emptyPromise = {};","\tc.resultToPromise.expect().return(c.emptyPromise);","","\tc.sut = require('../delete')","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"18":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":64}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":40}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\tc.getSessionSingleton = c.requireMock('./getSessionSingleton');","\t","","\tc.sut = require('../encodeDbSpecific');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/req.js","s":{"1":2,"2":2,"3":2,"4":2,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":12}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":12}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":18}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"7":{"start":{"line":8,"column":0},"end":{"line":16,"column":1}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":75}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":67}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":44}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":62}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":62}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":38}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var q1 = {};","var q2 = {};","var queries = [q1,q2];","var a  = require('a');","var mock = a.mock;","var requireMock  = a.requireMock;","","function act(c){","\tc.executeQueriesCore = requireMock('./executeQueries/executeQueriesCore');","\tc.executeChanges = requireMock('./executeQueries/executeChanges');","\tc.popChanges = requireMock('./popChanges');","\tc.newParameterized = requireMock('./query/newParameterized');","\tc.getSessionSingleton = requireMock('./getSessionSingleton');\t","","\tc.sut = require('../executeQueries');","}","","","module.exports = act;"],"l":{"1":2,"2":2,"3":2,"4":2,"5":0,"6":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":22}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":45}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":46}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":45}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.emptyStrategy = {};","\tc.newObject = c.requireMock('../newObject');","\tc.newObject.expect().return(c.emptyStrategy);","\t\t","\tc.sut = require('../extractDeleteStrategy');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getByIdSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getByIdSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":79}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('sets exclusive').assertEqual(c.getFromDbById.exclusive, c.sut.exclusive);","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCoreSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCoreSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":24,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":31}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":25}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":54}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":50}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":56}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":70}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":27}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":26}},"13":{"start":{"line":18,"column":1},"end":{"line":18,"column":56}},"14":{"start":{"line":20,"column":1},"end":{"line":20,"column":15}},"15":{"start":{"line":21,"column":1},"end":{"line":21,"column":17}},"16":{"start":{"line":23,"column":1},"end":{"line":23,"column":40}},"17":{"start":{"line":26,"column":0},"end":{"line":26,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","\tc.then = a.then;","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","","\tc.legToQuery = c.mock();","\tc.executeQueries = c.requireMock('./executeQueries');","\tc.resultToRows = c.requireMock('./resultToRows');","","\tc.resultToPromise = c.requireMock('./resultToPromise');","","\tc.negotiateExpandInverse = c.requireMock('./negotiateExpandInverse');","","\tc.emptyPromise = c.then();","\tc.emptyPromise.resolve();","\tc.resultToPromise.expect(false).return(c.emptyPromise);","","\tc.parent = {};","\tc.relation = {};","","\tc.sut = require('../getRelativesCore');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"8":0,"9":0,"10":0,"12":0,"14":0,"16":0,"17":0,"18":0,"20":0,"21":0,"23":0,"26":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionContextSpec/get.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionContextSpec/get.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":20}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":34}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":20}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":35}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":24}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":20}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":36}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":51}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":31}},"13":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","    c.mock = a.mock;","    c.requireMock = a.requireMock;","    c.expectRequire = a.expectRequire;","    c.then = a.then;","","    var oldDomain = process.domain;","    process.domain = {};","    c.expected = {};","    process.domain.rdb = c.expected;","","    c.returned = require('../getSessionContext')();","    process.domain = oldDomain;","","}","","module.exports = act;",""],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionContextSpec/whenGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionContextSpec/whenGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":65}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return context').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionSingletonSpec/get.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionSingletonSpec/get.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":16}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":28}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":60}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":48}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":55}},"13":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.expected = {};","\tc.context = {};","\tc.context.foo = c.expected;","","\tc.getSessionContext = c.requireMock('./getSessionContext');","\tc.getSessionContext.expect().return(c.context);","","\tc.returned = require('../getSessionSingleton')('foo');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":0,"14":0,"16":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionSingletonSpec/whenGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getSessionSingletonSpec/whenGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":67}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return singleton').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasManySpec/whenHasMany.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasManySpec/whenHasMany.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":77}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should add relation to relations').assertEqual(c.manyRelation,c.parentTable._relations.child)","\t.it('should set rightAlias').assertEqual('child', c.joinRelation.rightAlias)","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasOneSpec/whenHasOne.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasOneSpec/whenHasOne.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":77}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should add oneRelation to relations').assertEqual(c.oneRelation,c.parentTable._relations.child)","\t.it('should set rightAlias').assertEqual('child', c.joinRelation.rightAlias)","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/insertSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/insertSpec/req.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":4,"column":0},"end":{"line":18,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":45}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":65}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":55}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":14}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":14}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":10}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":15}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":12}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":26}},"14":{"start":{"line":17,"column":1},"end":{"line":17,"column":29}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","","function act(c){","\tc.mock = a.mock;","\tc.newRow = requireMock('./commands/newRow');","\tc.newInsertCommand = requireMock('./commands/newInsertCommand');","\tc.pushCommand = requireMock('./commands/pushCommand');","","\tc.table = {};","\tc.cache = {};","\tc.id = 1;","\tc.id2 = 'bar';","\tc.row = {};","\tc.table._cache = c.cache;","","\tc.sut = require('../insert')","}","","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"17":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/isDirtySpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/isDirtySpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":16,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":64}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":39}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":70}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":36}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.expected = {};","","\tc.getSessionSingleton = c.requireMock('./getSessionSingleton');","\tc.getSessionSingleton.bind = c.mock();","\tc.getSessionSingleton.bind.expect(null,'isDirty').return(c.expected);","","\tc.returned = require('../isDirty');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"13":0,"15":0,"18":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/isDirtySpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/isDirtySpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return expected').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":25,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":54}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":54}},"5":{"start":{"line":6,"column":1},"end":{"line":9,"column":3}},"6":{"start":{"line":10,"column":1},"end":{"line":13,"column":3}},"7":{"start":{"line":14,"column":1},"end":{"line":17,"column":3}},"8":{"start":{"line":18,"column":1},"end":{"line":21,"column":3}},"9":{"start":{"line":23,"column":1},"end":{"line":23,"column":19}},"10":{"start":{"line":24,"column":1},"end":{"line":24,"column":28}},"11":{"start":{"line":27,"column":0},"end":{"line":27,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","","function act(c) {\t","\tc.newRelatedTable = requireMock('./newRelatedTable');","\tc.newJoinRelation = requireMock('./newJoinRelation');","\tc.foo = {","\t\talias: 'fooProp',","\t\t_dbName: 'foo'","\t};","\tc.bar = {","\t\talias: 'barProp',","\t\t_dbName: 'bar'","\t};","\tc.baz = {","\t\talias: 'bazProp',","\t\t_dbName: 'baz'","\t};","\tc.parentTable = {","\t\t_columns: [c.foo, c.bar, c.baz],","\t\t_relations: {}","\t};","","\tc.childTable = {};","\tc.sut = require('../join');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"10":0,"14":0,"18":0,"23":0,"24":0,"27":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/logSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/logSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":27}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","","\tc.sut = require('../log');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":14}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":32}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":46}},"12":{"start":{"line":16,"column":1},"end":{"line":18,"column":2}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":42}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.relation = {};","\tc.parent = {};","\tc.child = {};","\tc.children = [c.child, {}, {}];","","\tc.sut = require('../negotiateExpandInverse');","","\tc.negotiate = function() {","\t\tc.sut(c.parent, c.relation, c.children);","\t}","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"14":0,"16":0,"17":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set subscribeAdded to emitAdded.add').assertEqual(c.emitAdded.add, c.sut.subscribeAdded)","\t.it('should set subscribeRemoved to emitRemoved.add').assertEqual(c.emitRemoved.add, c.sut.subscribeRemoved)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCascadeDeleteStrategySpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCascadeDeleteStrategySpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":45}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":48}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","","\tc.newObject = c.requireMock('../newObject');\t","\t","\tc.sut = require('../newCascadeDeleteStrategy');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":10,"column":93}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should have two columns').assertEqual(2,c.sut.columns.length)","\t.it('should have fooColumn').assertEqual(c.fooColumn,c.sut.columns[0])","\t.it('should have barColumn').assertEqual(c.barColumn,c.sut.columns[1])","\t.it('should have parentTable').assertEqual(c.parentTable,c.sut.parentTable)","\t.it('should have childTable').assertEqual(c.childTable,c.sut.childTable)","\t.it('should set getFromCache to getFromDb').assertEqual(c.sut.getFromDb, c.sut.getFromCache)","\t",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":96}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should have joinRelation').assertEqual(c.joinRelation, c.sut.joinRelation)","    .it('should set childTable').assertEqual(c.childTable, c.sut.childTable)","    .it('should set getRowsSync to cache.tryGet').assertEqual(c.cache.tryGet, c.sut.getRowsSync)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":102}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should have joinRelation').assertEqual(c.joinRelation, c.sut.joinRelation)","\t.it('should set childTable').assertEqual(c.childTable, c.sut.childTable)","    .it('should set getRowsSync to oneCache.tryGet').assertEqual(c.oneCache.tryGet, c.sut.getRowsSync)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newPrimaryKeyFilterSpec/when_new.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newPrimaryKeyFilterSpec/when_new.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./new',c)","\t.it('should return filter').assertDeepEqual(c.filter,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newQuerySpec/when_new.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newQuerySpec/when_new.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":57}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should push singleQuery to queries').assertDoesNotThrow(c.queries.push.verify)","\t.it('should addSubQueries').assertDoesNotThrow(c.addSubQueries.verify)","\t.it('should set limitQuery on queryContext').assertEqual(c.limitQuery, c.singleQuery.queryContext.limitQuery)\t","\t.it('returns queries').assertEqual(c.queries,c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTableSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTableSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should have related column a').assertEqual(c.a,c.sut.a)","\t.it('should have related column b').assertEqual(c.b,c.sut.b)","\t.it('exists returns existsFilter').assertEqual(c.existsFilter,c.sut.exists())","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('getAll points to domainCache.getAll ').assertEqual(c.domainCache.getAll, c.sut.getAll)","\t.it('should set subscribeAdded point to domainCache.subscribeAdded').assertEqual(c.domainCache.subscribeAdded, c.sut.subscribeAdded)","\t.it('should set subscribeRemoved point to domainCache.subscribeRemoved').assertEqual(c.domainCache.subscribeRemoved, c.sut.subscribeRemoved)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newThrowSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newThrowSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":88}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should return promise').assertEqual(c.expected, c.returned)","    .it('should try relase dbClient').assertDoesNotThrow(c.tryReleaseDbClient.verify)","    .it('should throw received error on success').assertEqual(c.error, c.thrownError)","    .it('should throw received error on failure').assertEqual(c.throwFunc, c.throwFunc2)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/notifyDirtySpec/notify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/notifyDirtySpec/notify.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":64}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":47}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":29}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.setSessionSingleton = c.requireMock('./setSessionSingleton');","\tc.setSessionSingleton.expect('isDirty', true);\t\t","\trequire('../notifyDirty')();","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/notifyDirtySpec/whenNotify.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/notifyDirtySpec/whenNotify.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":85}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set session singleton').assertDoesNotThrow(c.setSessionSingleton.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/nullPromiseSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/nullPromiseSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"4":{"start":{"line":5,"column":0},"end":{"line":11,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":23}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":46}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":40}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","var mock = a.mock;","","function act(c) {","\tc.newPromise = mock();","\tc.expected = {};","\tc.newPromise = requireMock('./promise');","\tc.newPromise.expect(null).return(c.expected);","\tc.returned = require('../nullPromise');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/nullPromiseSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/nullPromiseSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('returns nullPromise').assertEqual(c.expected, c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/objectToCallbackSpec/whenToCallback.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/objectToCallbackSpec/whenToCallback.js","s":{"1":2,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":11}},"5":{"start":{"line":6,"column":0},"end":{"line":12,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":15}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":50}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":22}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":30}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":20}},"11":{"start":{"line":14,"column":0},"end":{"line":15,"column":72}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var when = a.when;","var c = {};","","function act(c) {","\tc.object = {};","\tc.sut = require('../objectToCallback')(c.object);","\tc.onResolve = mock();","\tc.onResolve.expect(c.object);","\tc.sut(c.onResolve);","}","","when(act,c).","\tit('should invoke with object').assertDoesNotThrow(c.onResolve.verify);",""],"l":{"1":2,"2":0,"3":0,"4":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/req.js","s":{"1":2,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}},"5":{"start":{"line":6,"column":0},"end":{"line":12,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":15}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":23}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":57}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":63}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":34}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","var expectRequire = a.expectRequire;","","function act(c){","\tc.mock = mock;\t\t","\tc.changeSetId = 'cid';","\tc.getChangeSet = requireMock('./commands/getChangeSet');","\tc.compressChanges = requireMock('./commands/compressChanges');","\tc.sut = require('../popChanges');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"4":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newExpanderCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/relation/newExpanderCache.js","s":{"1":1,"2":1,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"newExpanderCache","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":45}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":34}}},"branchMap":{},"code":["var newRowCache = require('../newRowCache');","","function newExpanderCache(joinRelation) {","\treturn newRowCache(joinRelation.childTable);\t","}","","module.exports = newExpanderCache;"],"l":{"1":1,"3":1,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/releaseDbClientSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/releaseDbClientSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":62}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":64}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":33}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":39}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c){","\tc.mock = mock;\t","\tc.getSessionSingleton = requireMock('./getSessionSingleton');","\tc.deleteSessionContext = requireMock('./deleteSessionContext');","","\tc.deleteSessionContext.expect();\t","","\tc.sut = require('../releaseDbClient');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"10":0,"12":0,"15":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToPromiseSpec/toPromise.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToPromiseSpec/toPromise.js","s":{"1":2,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"toPromise","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}}},"2":{"name":"onResult","line":8,"loc":{"start":{"line":8,"column":1},"end":{"line":8,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":15}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":56}},"5":{"start":{"line":8,"column":1},"end":{"line":10,"column":2}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","","function toPromise(c) {","\tc.result = {};","","\trequire('../resultToPromise')(c.result).then(onResult);","","\tfunction onResult(returned) {","\t\tc.returned = returned;","\t}","","}","","module.exports = toPromise;"],"l":{"1":2,"3":1,"4":0,"6":0,"8":1,"9":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToPromiseSpec/whenToPromise.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToPromiseSpec/whenToPromise.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":61}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return result').assertEqual(c.result, c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRowsSpec/toRows.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRowsSpec/toRows.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}}},"2":{"name":"onOk","line":37,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":40,"column":1}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":20}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":20}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":34}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":16}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":16}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":14}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":14}},"12":{"start":{"line":13,"column":4},"end":{"line":13,"column":14}},"13":{"start":{"line":14,"column":4},"end":{"line":14,"column":26}},"14":{"start":{"line":15,"column":4},"end":{"line":15,"column":38}},"15":{"start":{"line":16,"column":4},"end":{"line":16,"column":28}},"16":{"start":{"line":17,"column":4},"end":{"line":17,"column":30}},"17":{"start":{"line":18,"column":4},"end":{"line":18,"column":17}},"18":{"start":{"line":19,"column":4},"end":{"line":19,"column":27}},"19":{"start":{"line":21,"column":4},"end":{"line":21,"column":41}},"20":{"start":{"line":22,"column":4},"end":{"line":22,"column":27}},"21":{"start":{"line":23,"column":4},"end":{"line":23,"column":64}},"22":{"start":{"line":25,"column":4},"end":{"line":25,"column":39}},"23":{"start":{"line":27,"column":4},"end":{"line":27,"column":54}},"24":{"start":{"line":29,"column":4},"end":{"line":29,"column":70}},"25":{"start":{"line":30,"column":4},"end":{"line":30,"column":19}},"26":{"start":{"line":31,"column":4},"end":{"line":31,"column":32}},"27":{"start":{"line":32,"column":4},"end":{"line":32,"column":40}},"28":{"start":{"line":33,"column":4},"end":{"line":33,"column":76}},"29":{"start":{"line":35,"column":4},"end":{"line":35,"column":52}},"30":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"31":{"start":{"line":38,"column":8},"end":{"line":38,"column":30}},"32":{"start":{"line":42,"column":0},"end":{"line":42,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c) {","    c.then = a.then;","    c.mock = a.mock;","    c.requireMock = a.requireMock;","    c.rows = {};","    c.span = {};    ","    c.x = 'x';","    c.y = 'y';","    c.z = 'z';","    c.xPromise = c.then();","    c.result = [c.xPromise, c.y, c.z];","    c.xPromise.resolve(c.x);","    c.nextResult = [c.y, c.z];","    c.table = {};","    c.span.table = c.table;","","    c.promise = requireMock('./promise');","    c.promise.all = mock();","    c.dbRowsToRows = requireMock('./resultToRows/dbRowsToRows');","","    c.sut = require('../resultToRows');","","    c.dbRowsToRows.expect(c.span, c.x).return(c.rows);","","    c.subResultToRows = requireMock('./resultToRows/subResultToRows');","    c.subRows = {};","    c.subRowsPromise = c.then();","    c.subRowsPromise.resolve(c.subRows);","    c.subResultToRows.expect(c.span, c.nextResult).return(c.subRowsPromise);","","    c.sut(c.span, c.result).then(onOk, console.log);","","    function onOk(returned) {","        c.returned = returned;","    }","}","","module.exports = act;",""],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"23":0,"25":0,"27":0,"29":0,"30":0,"31":0,"32":0,"33":0,"35":0,"37":1,"38":0,"42":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRowsSpec/whenToRows.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRowsSpec/whenToRows.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return rows').assertEqual(c.rows,c.returned)","\t.it('should create subrows').assertDoesNotThrow(c.subResultToRows.verify)\t","\t",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/subResultToRows.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/resultToRows/subResultToRows.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"subResultToRows","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":30}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":30}}},"4":{"name":"onEachLeg","line":18,"loc":{"start":{"line":18,"column":1},"end":{"line":18,"column":25}}},"5":{"name":"_nextResultToRows","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":23,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":19}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":13}},"7":{"start":{"line":8,"column":1},"end":{"line":10,"column":3}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":51}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":28}},"10":{"start":{"line":14,"column":1},"end":{"line":16,"column":3}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":48}},"12":{"start":{"line":18,"column":1},"end":{"line":20,"column":2}},"13":{"start":{"line":19,"column":2},"end":{"line":19,"column":17}},"14":{"start":{"line":21,"column":1},"end":{"line":21,"column":30}},"15":{"start":{"line":22,"column":1},"end":{"line":22,"column":22}},"16":{"start":{"line":25,"column":0},"end":{"line":28,"column":1}},"17":{"start":{"line":26,"column":1},"end":{"line":26,"column":49}},"18":{"start":{"line":27,"column":1},"end":{"line":27,"column":38}},"19":{"start":{"line":30,"column":0},"end":{"line":30,"column":33}}},"branchMap":{},"code":["var all = require('../promise').all;","var nextResultToRows = _nextResultToRows;","var resultToRows = require('../resultToRows');","","function subResultToRows(span,result) {\t","\tvar promises = [];","\tvar c2 = {};","\tc2.visitJoin = function(leg) {","\t\tpromises.push(nextResultToRows(leg.span,result));","\t};","","\tc2.visitOne = c2.visitJoin;","","\tc2.visitMany = function(leg) {\t\t","\t\tpromises.push(resultToRows(leg.span, result));","\t};","\t","\tfunction onEachLeg(leg) {\t\t\t","\t\tleg.accept(c2);","\t}","\tspan.legs.forEach(onEachLeg);\t","\treturn all(promises);","}","","function _nextResultToRows(span,result) {","\tnextResultToRows = require('./subResultToRows');","\treturn nextResultToRows(span,result);","}","","module.exports = subResultToRows;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":0,"14":0,"15":0,"18":1,"19":0,"21":0,"22":0,"25":1,"26":0,"27":0,"30":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rollbackSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rollbackSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":15}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":7,"column":0},"end":{"line":17,"column":1}},"5":{"start":{"line":8,"column":1},"end":{"line":8,"column":15}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":63}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":63}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":54}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":44}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":40}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":54}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":32}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"branchMap":{},"code":["","var a  = require('a');","var mock = a.mock;","var requireMock  = a.requireMock;","","","function act(c){\t\t","\tc.mock = mock;","\tc.rollbackCommand = requireMock('./commands/rollbackCommand');","\tc.executeQuery = requireMock('./executeQueries/executeQuery');","\tc.releaseDbClient = requireMock('./releaseDbClient');","\tc.popChanges = requireMock('./popChanges');","\tc.newThrow = requireMock('./newThrow');","\tc.resultToPromise = requireMock('./resultToPromise');","\t","\tc.sut = require('../rollback');","}","","","module.exports = act;"],"l":{"2":2,"3":0,"4":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArraySpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/rowArraySpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":96}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return array').assertDeepEqual(true, c.sut instanceof Array)","\t.it('should return empty array').assertEqual(0, c.sut.length)","\t.it('toJSON should not be enumerable').assertEqual(false, c.sut.propertyIsEnumerable('toJSON'))"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/setSessionSingletonSpec/set.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/setSessionSingletonSpec/set.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":16}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":60}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":48}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":17}},"11":{"start":{"line":16,"column":1},"end":{"line":16,"column":54}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.context = {};","","\tc.getSessionContext = c.requireMock('./getSessionContext');","\tc.getSessionContext.expect().return(c.context);","","\tc.expected = {};","\t","\trequire('../setSessionSingleton')('foo', c.expected);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"14":0,"16":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/setSessionSingletonSpec/whenSet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/setSessionSingletonSpec/whenSet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set value on context').assertEqual(c.expected, c.context.foo)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/integrationSpec/defineTable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/integrationSpec/defineTable.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":1,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"act","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":16}}},"2":{"name":"createMocks","line":19,"loc":{"start":{"line":19,"column":1},"end":{"line":19,"column":24}}},"3":{"name":"defineTable","line":27,"loc":{"start":{"line":27,"column":1},"end":{"line":27,"column":24}}},"4":{"name":"defineOrder","line":38,"loc":{"start":{"line":38,"column":1},"end":{"line":38,"column":24}}},"5":{"name":"defineCustomer","line":46,"loc":{"start":{"line":46,"column":1},"end":{"line":46,"column":27}}},"6":{"name":"defineCountry","line":54,"loc":{"start":{"line":54,"column":1},"end":{"line":54,"column":26}}},"7":{"name":"defineOrderLines","line":61,"loc":{"start":{"line":61,"column":1},"end":{"line":61,"column":29}}},"8":{"name":"defineArticle","line":71,"loc":{"start":{"line":71,"column":1},"end":{"line":71,"column":26}}},"9":{"name":"definePackages","line":77,"loc":{"start":{"line":77,"column":1},"end":{"line":77,"column":27}}},"10":{"name":"defineDeliveryParty","line":87,"loc":{"start":{"line":87,"column":1},"end":{"line":87,"column":32}}},"11":{"name":"newTable","line":95,"loc":{"start":{"line":95,"column":1},"end":{"line":95,"column":30}}},"12":{"name":"setupSut","line":99,"loc":{"start":{"line":99,"column":1},"end":{"line":99,"column":21}}},"13":{"name":"_newQuery","line":104,"loc":{"start":{"line":104,"column":1},"end":{"line":104,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":13}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":10}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":18}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":17}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":14}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":17}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":17}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":23}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":69}},"13":{"start":{"line":14,"column":0},"end":{"line":109,"column":1}},"14":{"start":{"line":15,"column":1},"end":{"line":15,"column":15}},"15":{"start":{"line":16,"column":1},"end":{"line":16,"column":15}},"16":{"start":{"line":17,"column":1},"end":{"line":17,"column":12}},"17":{"start":{"line":19,"column":1},"end":{"line":25,"column":2}},"18":{"start":{"line":20,"column":2},"end":{"line":20,"column":34}},"19":{"start":{"line":21,"column":2},"end":{"line":21,"column":32}},"20":{"start":{"line":22,"column":2},"end":{"line":22,"column":39}},"21":{"start":{"line":23,"column":2},"end":{"line":23,"column":30}},"22":{"start":{"line":24,"column":2},"end":{"line":24,"column":18}},"23":{"start":{"line":27,"column":1},"end":{"line":36,"column":2}},"24":{"start":{"line":28,"column":2},"end":{"line":28,"column":16}},"25":{"start":{"line":29,"column":2},"end":{"line":29,"column":19}},"26":{"start":{"line":30,"column":2},"end":{"line":30,"column":18}},"27":{"start":{"line":31,"column":2},"end":{"line":31,"column":21}},"28":{"start":{"line":32,"column":2},"end":{"line":32,"column":18}},"29":{"start":{"line":33,"column":2},"end":{"line":33,"column":19}},"30":{"start":{"line":34,"column":2},"end":{"line":34,"column":18}},"31":{"start":{"line":35,"column":2},"end":{"line":35,"column":24}},"32":{"start":{"line":38,"column":1},"end":{"line":44,"column":2}},"33":{"start":{"line":39,"column":2},"end":{"line":39,"column":28}},"34":{"start":{"line":40,"column":2},"end":{"line":40,"column":53}},"35":{"start":{"line":41,"column":2},"end":{"line":41,"column":56}},"36":{"start":{"line":42,"column":2},"end":{"line":42,"column":91}},"37":{"start":{"line":43,"column":2},"end":{"line":43,"column":23}},"38":{"start":{"line":46,"column":1},"end":{"line":52,"column":2}},"39":{"start":{"line":47,"column":2},"end":{"line":47,"column":39}},"40":{"start":{"line":48,"column":2},"end":{"line":48,"column":63}},"41":{"start":{"line":49,"column":2},"end":{"line":49,"column":52}},"42":{"start":{"line":50,"column":2},"end":{"line":50,"column":62}},"43":{"start":{"line":51,"column":2},"end":{"line":51,"column":80}},"44":{"start":{"line":54,"column":1},"end":{"line":59,"column":2}},"45":{"start":{"line":55,"column":2},"end":{"line":55,"column":37}},"46":{"start":{"line":56,"column":2},"end":{"line":56,"column":62}},"47":{"start":{"line":57,"column":2},"end":{"line":57,"column":58}},"48":{"start":{"line":58,"column":2},"end":{"line":58,"column":84}},"49":{"start":{"line":61,"column":1},"end":{"line":69,"column":2}},"50":{"start":{"line":62,"column":2},"end":{"line":62,"column":36}},"51":{"start":{"line":63,"column":2},"end":{"line":63,"column":52}},"52":{"start":{"line":64,"column":2},"end":{"line":64,"column":53}},"53":{"start":{"line":65,"column":2},"end":{"line":65,"column":55}},"54":{"start":{"line":66,"column":2},"end":{"line":66,"column":67}},"55":{"start":{"line":67,"column":2},"end":{"line":67,"column":39}},"56":{"start":{"line":71,"column":1},"end":{"line":75,"column":2}},"57":{"start":{"line":72,"column":2},"end":{"line":72,"column":37}},"58":{"start":{"line":73,"column":2},"end":{"line":73,"column":55}},"59":{"start":{"line":74,"column":2},"end":{"line":74,"column":51}},"60":{"start":{"line":77,"column":1},"end":{"line":85,"column":2}},"61":{"start":{"line":78,"column":2},"end":{"line":78,"column":37}},"62":{"start":{"line":79,"column":2},"end":{"line":79,"column":55}},"63":{"start":{"line":80,"column":2},"end":{"line":80,"column":56}},"64":{"start":{"line":81,"column":2},"end":{"line":81,"column":62}},"65":{"start":{"line":82,"column":2},"end":{"line":82,"column":71}},"66":{"start":{"line":83,"column":2},"end":{"line":83,"column":45}},"67":{"start":{"line":84,"column":2},"end":{"line":84,"column":65}},"68":{"start":{"line":87,"column":1},"end":{"line":93,"column":2}},"69":{"start":{"line":88,"column":2},"end":{"line":88,"column":49}},"70":{"start":{"line":89,"column":2},"end":{"line":89,"column":61}},"71":{"start":{"line":90,"column":2},"end":{"line":90,"column":64}},"72":{"start":{"line":91,"column":2},"end":{"line":91,"column":76}},"73":{"start":{"line":92,"column":2},"end":{"line":92,"column":46}},"74":{"start":{"line":95,"column":1},"end":{"line":97,"column":2}},"75":{"start":{"line":96,"column":2},"end":{"line":96,"column":43}},"76":{"start":{"line":99,"column":1},"end":{"line":102,"column":2}},"77":{"start":{"line":100,"column":2},"end":{"line":100,"column":45}},"78":{"start":{"line":101,"column":2},"end":{"line":101,"column":25}},"79":{"start":{"line":104,"column":1},"end":{"line":107,"column":2}},"80":{"start":{"line":105,"column":2},"end":{"line":105,"column":47}},"81":{"start":{"line":106,"column":2},"end":{"line":106,"column":84}},"82":{"start":{"line":111,"column":0},"end":{"line":111,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","var newQuery;","var strategyToSpan = require('../../table/strategyToSpan');","var table;","var customerTable;","var countryTable;","var lineTable;","var packageTable;","var articleTable;","var deliveryPartyTable;","var emptyInnerJoin = require('../../table/query/newParameterized')();","","function act(c) {","\tcreateMocks();","\tdefineTable();\t","\tsetupSut();\t","","\tfunction createMocks() {","\t\trequireMock('./executeQueries');","\t\trequireMock('./resultToRows');","\t\trequireMock('./tryGetFromCacheById');","\t\tc.requireMock = requireMock;","\t\tc.mock = a.mock;","\t}","","\tfunction defineTable() {","\t\tdefineOrder();","\t\tdefineCustomer();","\t\tdefineCountry();","\t\tdefineOrderLines();","\t\tdefineArticle();\t\t","\t\tdefinePackages();","\t\tdefineArticle();","\t\tdefineDeliveryParty();","\t}","","\tfunction defineOrder() {","\t\ttable = newTable('order');","\t\ttable.primaryColumn('oOrderId').numeric().as('id');","\t\ttable.column('oCustomerId').string().as('customerId');\t\t","\t\ttable.columnDiscriminators('discriminatorColumn=\\'foo\\'','discriminatorColumn2=\\'baz\\'');","\t\tc.orderTable = table;","\t}\t\t","","\tfunction defineCustomer() {","\t\tcustomerTable = newTable('customer');","\t\tcustomerTable.primaryColumn('cCustomerId').string().as('id');","\t\tcustomerTable.column('cName').string().as('name');","\t\tcustomerTable.column('cCountryId').string().as('countryId');","\t\tvar customerJoin = table.join(customerTable).by('oCustomerId').as('customer');","\t}","","\tfunction defineCountry() {","\t\tcountryTable = newTable('country');","\t\tcountryTable.primaryColumn('yCountryId').numeric().as('id');","\t\tcountryTable.column('yCountryName').string().as('name');","\t\tvar countryJoin = customerTable.join(countryTable).by('cCountryId').as('country');\t\t","\t}","","\tfunction defineOrderLines() {","\t\tlineTable = newTable('orderLine');","\t\tlineTable.primaryColumn('lId').numeric().as('id');","\t\tlineTable.column('lLineNo').numeric().as('lineNo');","\t\tlineTable.column('lOrderId').numeric().as('orderId');","\t\tvar orderJoin = lineTable.join(table).by('lOrderId').as('order');","\t\ttable.hasMany(orderJoin).as('lines');","","\t}","","\tfunction defineArticle() {","\t\tarticleTable = newTable('article');","\t\tarticleTable.primaryColumn('aId').numeric().as('id');\t\t","\t\tarticleTable.column('aName').string().as('name');","\t}","","\tfunction definePackages() {","\t\tpackageTable = newTable('package');","\t\tpackageTable.primaryColumn('pId').numeric().as('id');","\t\tpackageTable.column('pLineId').numeric().as('lineId');","\t\tpackageTable.column('pArticleId').numeric().as('articleId');","\t\tvar lineJoin = packageTable.join(lineTable).by('pLineId').as('line');","\t\tlineTable.hasMany(lineJoin).as('packages');\t\t","\t\tpackageTable.join(articleTable).by('pArticleId').as('article');","\t}","","\tfunction defineDeliveryParty() {","\t\tdeliveryPartyTable = newTable('deliveryParty');","\t\tdeliveryPartyTable.primaryColumn('dId').numeric().as('id');","\t\tdeliveryPartyTable.column('dOrderId').numeric().as('orderId');","\t\tvar orderJoin = deliveryPartyTable.join(table).by('dOrderId').as('order');","\t\ttable.hasOne(orderJoin).as('deliveryParty');","\t}","","\tfunction newTable(tableName) {","\t\treturn require('../../table')(tableName);","\t}","","\tfunction setupSut() {","\t\tnewQuery = require('../../table/newQuery');","\t\tc.newQuery = _newQuery;","\t}","","\tfunction _newQuery() {","\t\tvar span = strategyToSpan(table, c.strategy);","\t\tc.returned = newQuery([],table,c.filter,span,c.orderTable._dbName,emptyInnerJoin);\t\t","\t}","","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":1,"15":0,"16":0,"17":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"54":1,"55":0,"56":0,"57":0,"58":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"71":1,"72":0,"73":0,"74":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"95":1,"96":0,"99":1,"100":0,"101":0,"104":1,"105":0,"106":0,"111":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/columnDiscriminators.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/columnDiscriminators.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":24}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":73}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":20}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}}},"branchMap":{},"code":["var discriminator1 = {};","var discriminator2 = {};","","function act(c) {","\tc.discriminator1 = discriminator1;","\tc.discriminator2 = discriminator2;","\tc.returned = c.sut.columnDiscriminators(discriminator1, discriminator2);","}","","act.base = '../new';","module.exports = act;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"10":1,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/exclusive.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/exclusive.js","s":{"1":1,"2":0,"3":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":32}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.returned = c.sut.exclusive();","}","","module.exports = act;"],"l":{"1":1,"2":0,"5":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/formulaDiscriminators.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/formulaDiscriminators.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":24}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":74}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":20}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}}},"branchMap":{},"code":["var discriminator1 = {};","var discriminator2 = {};","","function act(c) {","\tc.discriminator1 = discriminator1;","\tc.discriminator2 = discriminator2;","\tc.returned = c.sut.formulaDiscriminators(discriminator1, discriminator2);","}","","act.base = '../new';","module.exports = act;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"10":1,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/primaryColumn.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/primaryColumn.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":19}},"4":{"start":{"line":5,"column":0},"end":{"line":11,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":25}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":63}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":53}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":53}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","var primaryColumnName = {};","var columnDef = {};","","function act(c) {","\tc.expected = {};","\tc.columnDef = columnDef;","\tc.newColumn.expect(c.sut,primaryColumnName).return(columnDef);\t","\tc.column.expect(columnDef,c.sut).return(c.expected);","\tc.returned = c.sut.primaryColumn(primaryColumnName);","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/tryGetFirst.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/tryGetFirst.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":2,"column":15}},"2":{"start":{"line":4,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":72}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":50}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":26}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":91}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":69}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var filter = {} ,","\tstrategy = {};","","function act(c){","\tc.expected = {};","\tc.tryGetFirstFromDb.expect(c.sut, filter, strategy).return(c.expected);","\tc.returned = c.sut.tryGetFirst(filter, strategy);","","\tc.expectedExclusive = {};","\tc.tryGetFirstFromDb.exclusive.expect(c.sut, filter, strategy).return(c.expectedExclusive);","\tc.returnedExclusive = c.sut.tryGetFirst.exclusive(filter, strategy);","}","","module.exports = act;"],"l":{"1":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenColumnDiscriminators.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenColumnDiscriminators.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":55}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when(c).\t","\tit('should add column discriminator1').assertEqual(c.discriminator1,c.sut._columnDiscriminators[0]).","\tit('should add column discriminator2').assertEqual(c.discriminator2,c.sut._columnDiscriminators[1]).","\tit('should return sut').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_column.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_column.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":65}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when('./column', c).","\tit('should return expected').assertEqual(c.expected,c.returned);\t",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenExclusive.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenExclusive.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)    ","    .it('should return table').assertStrictEqual(c.sut, c.returned)","    .it('should set _exclusive').assertEqual(true, c.sut._exclusive)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenFormulaDiscriminators.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenFormulaDiscriminators.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":55}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when(c).","\tit('should add formula discriminator1').assertEqual(c.discriminator1,c.sut._formulaDiscriminators[0]).","\tit('should add formula discriminator2').assertEqual(c.discriminator2,c.sut._formulaDiscriminators[1]).","\tit('should return sut').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenGetById.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenGetById.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":93}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when(c)","\t.it('should return expected').assertEqual(c.expected,c.returned)","\t.it('should return expected exclusive').assertEqual(c.expectedExclusive,c.returnedExclusive)",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_getMany.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_getMany.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":65}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when('./getMany', c)","\t.it('should return expectedExclusive').assertEqual(c.expectedExclusive,c.returnedExclusive)","\t.it('should return expected').assertEqual(c.expected,c.returned)",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_hasMany.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_hasMany.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":65}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when('./hasMany', c).","\tit('should return expected').assertEqual(c.expected,c.returned);\t",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_hasOne.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_hasOne.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":65}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when('./hasOne', c).","\tit('should return expected').assertEqual(c.expected,c.returned);\t",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenInsert.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenInsert.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when(c).","\tit('should return new row').assertEqual(c.expected,c.returned);\t",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_join.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_join.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":65}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when('./join',c).","\tit('should return expected').assertEqual(c.expected,c.returned);"],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_primaryColumn.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/when_primaryColumn.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":65}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when('./primaryColumn', c).","\tit('should add primaryColumn to table._primaryColumns').assertEqual(c.columnDef,c.sut._primaryColumns[0]).","\tit('should return expected').assertEqual(c.expected,c.returned);\t",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenTryGetById.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenTryGetById.js","s":{"1":2,"2":2,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":65}}},"branchMap":{},"code":["var c = {};","var when = require('a').when;","","when(c).","\tit('should return expected').assertEqual(c.expected,c.returned);\t",""],"l":{"1":2,"2":2,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenTryGetFirst.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/tableSpec/new/whenTryGetFirst.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":77}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should return first found row').assertEqual(c.expected, c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/strategyToSpanSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/strategyToSpanSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":17}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":51}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":38}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","var table = {};","","function act(c){","\tc.table = table;","\tc.mock = a.mock;\t","\tc.newCollection = requireMock('../newCollection');","\tc.sut = require('../strategyToSpan');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetByIdSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetByIdSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":87}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set exclusive').assertEqual(c.tryGetFromDbById.exclusive, c.sut.exclusive)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFirstFromDbSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFirstFromDbSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":31}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":40}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":32}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":32}},"8":{"start":{"line":12,"column":1},"end":{"line":12,"column":15}},"9":{"start":{"line":13,"column":1},"end":{"line":13,"column":16}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":25}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":17}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":27}},"13":{"start":{"line":18,"column":1},"end":{"line":18,"column":73}},"14":{"start":{"line":20,"column":1},"end":{"line":20,"column":41}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","\tc.requireMock = a.requireMock;","\tc.mock = a.mock;","\tc.getMany = c.requireMock('./getMany');","\tc.util = c.requireMock('util');","\t","\t","\tc.getMany.exclusive = c.mock();","\t","\tc.table = 't';","\tc.filter = 'f';","\tc.initialStrategy = 's';","\tc.strategy = {};","","\tc.util._extend = c.mock();","\tc.util._extend.expect({limit: 1}, c.initialStrategy).return(c.strategy);","\t","\tc.sut = require('../tryGetFirstFromDb');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"12":0,"13":0,"14":0,"15":0,"17":0,"18":0,"20":0,"23":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromCacheByIdSpec/get.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromCacheByIdSpec/get.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":3,"column":0},"end":{"line":27,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":14}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":11}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":12}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":12}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":26}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":12}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":26}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":42}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":14}},"13":{"start":{"line":18,"column":1},"end":{"line":18,"column":25}},"14":{"start":{"line":19,"column":1},"end":{"line":19,"column":12}},"15":{"start":{"line":20,"column":1},"end":{"line":20,"column":23}},"16":{"start":{"line":21,"column":1},"end":{"line":21,"column":24}},"17":{"start":{"line":22,"column":1},"end":{"line":22,"column":49}},"18":{"start":{"line":23,"column":1},"end":{"line":23,"column":26}},"19":{"start":{"line":25,"column":1},"end":{"line":25,"column":43}},"20":{"start":{"line":26,"column":1},"end":{"line":26,"column":54}},"21":{"start":{"line":29,"column":0},"end":{"line":29,"column":21}}},"branchMap":{},"code":["var mock =require('a').mock;","","function act(c){","\tc.table = {};","\tc.id = {};","\tc.id2 = {};","\tc.strategy = {};","\t","\tc.pk1 = {};","\tc.pk1.alias = 'pk1Alias';","","\tc.pk2 = {};","\tc.pk2.alias = 'pk2Alias';","","\tc.table._primaryColumns = [c.pk1, c.pk2];","","\tc.cache = {};","\tc.cache.tryGet = mock();","\tc.key = {};","\tc.key.pk1Alias = c.id;","\tc.key.pk2Alias = c.id2;","\tc.cache.tryGet.expect(c.key).return(c.expected);","\tc.table._cache = c.cache;","","\tc.sut = require('../tryGetFromCacheById');","\tc.returned = c.sut(c.table, c.id, c.id2, c.strategy);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"13":0,"15":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"26":0,"29":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromCacheByIdSpec/whenGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryGetFromCacheByIdSpec/whenGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return cached item').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryReleaseDbClientSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/tryReleaseDbClientSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":20}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":34}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":20}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":59}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":45}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","    c.mock = a.mock;","    c.requireMock = a.requireMock;","    c.expectRequire = a.expectRequire;","    c.then = a.then;","","    c.releaseDbClient = c.requireMock('./releaseDbClient');","","    c.sut = require('../tryReleaseDbClient');","}","","module.exports = act;",""],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/updateFieldSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/updateFieldSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":15,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":65}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":55}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":69}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":14}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":15}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":11}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":35}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c){","\tc.mock = mock;\t","\tc.newUpdateCommand = requireMock('./commands/newUpdateCommand');","\tc.pushCommand = requireMock('./commands/pushCommand');","\tc.lastCommandMatches = requireMock('./commands/lastCommandMatches');","\tc.table = {};","\tc.column = {};","\tc.row = {}","","\tc.sut = require('../updateField');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"17":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add/clear.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add/clear.js","s":{"1":1,"2":0,"3":1,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":15}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}}},"branchMap":{},"code":["function act(c) {","\tc.sut.clear();","}","","act.base = '../add';","module.exports = act;"],"l":{"1":1,"2":0,"5":1,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add/remove.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add/remove.js","s":{"1":1,"2":0,"3":1,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":26}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}}},"branchMap":{},"code":["function act(c) {","\tc.sut.remove(c.callback);","}","","act.base = '../add';","module.exports = act;"],"l":{"1":1,"2":0,"5":1,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add/whenEmit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/emitEventSpec/new/add/whenEmit.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":71}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should invoke callback').assertDoesNotThrow(c.callback.verify)","\t.it('should invoke callback2').assertDoesNotThrow(c.callback2.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/mySql/defineDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/mySql/defineDb.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":71}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":45}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["var connString = 'mysql...';","var poolOptions = {};","","function act(c){\t","\tc.database = {};","\tc.newMySqlDatabase.expect(connString, poolOptions).return(c.database);","\tc.returned = c.sut(connString, poolOptions);","}","","module.exports = act;"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/mySql/whenDefineDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/mySql/whenDefineDb.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return database').assertEqual(c.database, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/other/whenDefineDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/other/whenDefineDb.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return database').assertEqual(c.database, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/pg/whenDefineDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/pg/whenDefineDb.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return database').assertEqual(c.database, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/sqllite/whenDefineDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/indexSpec/req/sqllite/whenDefineDb.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return database').assertEqual(c.database, c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/aboveMax.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/aboveMax.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":34}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":38}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":30}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"branchMap":{},"code":["function act(c) {","    c.key = '9223372036854775808';","    c.expected = '922337203685477580';","    c.returned = c.sut(c.key);","}","","module.exports = act;",""],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/integer.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/integer.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":20}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":20}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":28}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.key = 1234567890;","\tc.expected = c.key;","","\tc.returned =  c.sut(c.key);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/integerString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/integerString.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":22}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":20}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":28}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.key = '1234567890';","\tc.expected = c.key;","\t","\tc.returned =  c.sut(c.key);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenAboveMax.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenAboveMax.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return lock object').assertEqual(c.expected, c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenInteger.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenInteger.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return lock object').assertEqual(c.expected, c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenIntegerString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenIntegerString.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return lock object').assertEqual(c.expected, c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/lock/toIntKeySpec/req/whenString.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return lock object').assertEqual(c.expected, c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/encode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/encode.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":15},"end":{"line":5,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":11,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":50}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":1},"end":{"line":8,"column":3}},"5":{"start":{"line":6,"column":3},"end":{"line":6,"column":22}},"6":{"start":{"line":10,"column":1},"end":{"line":10,"column":28}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["function act(c){","\tvar valueAsText = '2014-02-16T06:49:40.297-0200';","\tc.expected = \"'2014-02-16T06:49:40.297'\";","\tc.date = {","\t\ttoISOString: function() {","\t\t\treturn valueAsText;","\t\t}","\t};","\t\t","\tc.returned = c.sut(c.date);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/encodeString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/encodeString.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":42}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":46}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":43}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":42}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":43}},"8":{"start":{"line":12,"column":1},"end":{"line":12,"column":32}},"9":{"start":{"line":13,"column":1},"end":{"line":13,"column":34}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":34}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":21}}},"branchMap":{},"code":["function act(c){","","\tc.dateText = '2014-02-16T06:49:40.297+0200';","\tc.expected = \"'2014-02-16T06:49:40.297'\";","","\tc.dateText2 = '2014-02-16T06:49:40.297-0200';","\tc.expected2 = \"'2014-02-16T06:49:40.297'\";","","\tc.dateText3 = '2014-02-16T06:49:40.297Z';","\tc.expected3 = \"'2014-02-16T06:49:40.297'\";","\t","\tc.returned = c.sut(c.dateText);","\tc.returned2 = c.sut(c.dateText2);","\tc.returned3 = c.sut(c.dateText3);","}","","module.exports = act;"],"l":{"1":1,"3":0,"4":0,"6":0,"7":0,"9":0,"10":0,"12":0,"13":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/whenEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/whenEncode.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":61}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return ISO').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/whenEncodeString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/encodeDateSpec/req/whenEncodeString.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":95}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return ISO without time zone for plus zone').assertEqual(c.expected, c.returned)","\t.it('should return ISO without time zone for minus zone').assertEqual(c.expected2, c.returned2)","\t.it('should return ISO without time zone for zulu zone').assertEqual(c.expected3, c.returned3)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/accept.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/accept.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":16}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":25}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["function act(c){","","\tc.context = {};","\tc.context.visitMySql = c.mock();","\tc.context.visitMySql.expect();","\t","\tc.sut.accept(c.context);","}","","module.exports = act;"],"l":{"1":1,"3":0,"4":0,"5":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/transaction.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/transaction.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}},"2":{"name":"onRun","line":17,"loc":{"start":{"line":17,"column":1},"end":{"line":17,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":25,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":17}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":27}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":27}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":15}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":42}},"7":{"start":{"line":7,"column":1},"end":{"line":7,"column":72}},"8":{"start":{"line":8,"column":1},"end":{"line":8,"column":72}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":38}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":21}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":66}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":25}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":68}},"14":{"start":{"line":17,"column":1},"end":{"line":21,"column":2}},"15":{"start":{"line":18,"column":2},"end":{"line":18,"column":17}},"16":{"start":{"line":19,"column":2},"end":{"line":20,"column":35}},"17":{"start":{"line":20,"column":3},"end":{"line":20,"column":35}},"18":{"start":{"line":23,"column":1},"end":{"line":23,"column":34}},"19":{"start":{"line":27,"column":0},"end":{"line":27,"column":21}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]}},"code":["function act(c){","\tc.expected = {};","\tc.resolveTransaction = {};","\tc.transactionPromise = {};","\tc.domain = {};","\tc.createDomain.expect().return(c.domain);","\tc.newTransaction.expect(c.domain, c.pool).return(c.resolveTransaction);","\tc.newPromise.expect(c.resolveTransaction).return(c.transactionPromise);","","\tc.transactionPromise.then = c.mock();","\tc.beginPromise = {};","\tc.transactionPromise.then.expect(c.begin).return(c.beginPromise);","","\tc.domain.run = c.mock();","\tc.domain.run.expectAnything().whenCalled(onRun).return(c.expected);","","\tfunction onRun(cb) {","\t\tvar res = cb();","\t\tif (res != c.beginPromise)","\t\t\tthrow new Error('wrong result');","\t}","","\tc.returned = c.sut.transaction();","","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"14":0,"15":0,"17":1,"18":0,"19":0,"20":0,"23":0,"27":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/whenAccept.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/whenAccept.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should visit').assertDoesNotThrow(c.context.visitMySql.verify)","\t",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/whenEnd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/whenEnd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":59}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should end pool').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/whenTransaction.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newDatabaseSpec/new/whenTransaction.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return new transaction').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newTransactionSpec/new/runDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newTransactionSpec/new/runDomain.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":23},"end":{"line":6,"column":34}}},"3":{"name":"onConnected","line":8,"loc":{"start":{"line":8,"column":1},"end":{"line":8,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":57}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":37}},"5":{"start":{"line":8,"column":1},"end":{"line":10,"column":2}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"7":{"start":{"line":12,"column":1},"end":{"line":12,"column":24}},"8":{"start":{"line":13,"column":1},"end":{"line":13,"column":22}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":34}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":21}}},"branchMap":{},"code":["function act(c) {","","\tc.pool.connect = c.mock();","\tc.pool.connect.expectAnything().whenCalled(onConnected);","","    c.raiseConnected = function() {};","","\tfunction onConnected(cb) {","\t\tc.raiseConnected = cb;","\t}","","\tc.onSuccess = c.mock();","\tc.onError = c.mock();","    c.sut(c.onSuccess, c.onError);","}","","module.exports = act;",""],"l":{"1":1,"3":0,"4":0,"6":0,"8":1,"9":0,"12":0,"13":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newTransactionSpec/new/whenRunDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/newTransactionSpec/new/whenRunDomain.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should connect').assertDoesNotThrow(c.pool.connect.verify)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/pool/endSpec/whenEnd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/pool/endSpec/whenEnd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should start ending').assertDoesNotThrow(c.mysqlPool.end.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuerySpec/wrap/run.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuerySpec/wrap/run.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":18,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":26}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":19}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":14}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":12}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":24}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":36}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":21}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":45}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":30}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":81}},"13":{"start":{"line":17,"column":1},"end":{"line":17,"column":31}},"14":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.onCompleted = c.mock();","\tc.parameters = {};","\tc.query = {};","\tc.sql = {};","\tc.query.parameters = c.parameters;","","\tc.query.sql = c.mock();","\tc.query.sql.expect().return(c.sql);","","\tc.log.expect(c.sql);","\tc.log.expect('parameters: ' + c.parameters);","","\tc.connection.query = 'other';","\tc.runQuery.expect(c.sql, c.parameters).expect(c.onCompleted).return(c.expected);","","\tc.sut(c.query, c.onCompleted);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"8":0,"9":0,"11":0,"12":0,"14":0,"15":0,"17":0,"20":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuerySpec/wrap/whenRun.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQuerySpec/wrap/whenRun.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should log query').assertDoesNotThrow(c.log.verify)","\t.it('should execute query').assertDoesNotThrow(c.runQuery.verify)","\t.it('should return object').assertEqual(c.expected, c.returned)","\t",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQueryStreamSpec/wrap/whenRun.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/mySql/wrapQueryStreamSpec/wrap/whenRun.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":81}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should execute query and return value').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/addRange/whenForEach.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newCollectionSpec/new/addRange/whenForEach.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":57}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('enumerates').assertDoesNotThrow(c.callback.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutableSpec/new/execute/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/newImmutableSpec/new/execute/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return cached result from original func').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDateSpec/req/whenEncode.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDateSpec/req/whenEncode.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":61}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return ISO').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDateSpec/req/whenEncodeString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/encodeDateSpec/req/whenEncodeString.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":61}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return ISO').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newDatabaseSpec/req/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newDatabaseSpec/req/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set commit on transaction').assertEqual(c.commit, c.sut.commit)","\t.it('should set rollback on transaction').assertEqual(c.rollback, c.sut.rollback)","\t.it('should set lock on transaction').assertEqual(c.lock, c.sut.lock)","\t"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newTransactionSpec/new/whenRunDomain.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/newTransactionSpec/new/whenRunDomain.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should connect').assertDoesNotThrow(c.pool.connect.verify)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/endSpec/whenEnd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/pool/endSpec/whenEnd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should start drain').assertDoesNotThrow(c.pgPool.drain.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/hasParams/replace.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/hasParams/replace.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":93}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":89}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":46}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":44}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["function act(c) {","\tc.initialSql = 'SELECT ID FROM ORDER WHERE ID=? AND NAME LIKE ? AND ADDRESS LIKE ? bla bla';","\tc.sql = 'SELECT ID FROM ORDER WHERE ID=$1 AND NAME LIKE $2 AND ADDRESS LIKE $3 bla bla';","","    c.query.sql.expect().return(c.initialSql);","","\tc.returned = c.sut(c.query, ['a','b','c']);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"5":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/hasParams/whenReplace.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/hasParams/whenReplace.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":77}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return sql with numbered dollars').assertEqual(c.sql, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/noParams/whenReplace.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/replaceParamCharSpec/noParams/whenReplace.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":55}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return sql').assertEqual(c.sql, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQuerySpec/wrap/whenRun.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQuerySpec/wrap/whenRun.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should log query').assertDoesNotThrow(c.log.verify)","\t.it('should execute query').assertDoesNotThrow(c.runQuery.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQueryStreamSpec/wrap/whenRun.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/pg/wrapQueryStreamSpec/wrap/whenRun.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":62}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should log query').assertDoesNotThrow(c.log.verify)","\t.it('should execute query').assertDoesNotThrow(c.runQuery.verify)","\t.it('should return stream').assertEqual(c.stream, c.returned)","\t",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/array/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/array/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return input').assertEqual(c.parameters, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/nonArray/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/nonArray/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":196}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should throw error with \"Query has invalid parameters property. Must be undefined or array\"').assertEqual(\"Query has invalid parameters property. Must be undefined or array\", c.thrownMessage)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/undefined/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateParametersSpec/undefined/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return empty array').assertEqual(0, c.returned.length)","",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSqlSpec/object/object.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSqlSpec/object/object.js","s":{"1":1,"2":0,"3":1,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":14}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.query = {};","}","","act.base = '../req';","module.exports = act;"],"l":{"1":1,"2":0,"5":1,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSqlSpec/string/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/query/negotiateSqlSpec/string/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":77}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return sql wrapped in function').assertEqual(c.sql, c.returned())"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/endSpec/whenEnd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/sqlite/pool/endSpec/whenEnd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should start drain').assertDoesNotThrow(c.pgPool.drain.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/beginSpec/req/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/beginSpec/req/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set changeSet on session').assertDoesNotThrow(c.setSessionSingleton.verify)","\t.it('should return executeQuery begin promise').assertEqual(c.expected, c.returned)",";"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binarySpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/binarySpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should set purify').assertEqual(c.purify, c.column.purify)",".it('should set encode').assertEqual(c.encode, c.column.encode)",".it('should set decode').assertEqual(c.decode, c.column.decode);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/booleanSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/booleanSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should set purify').assertEqual(c.purify, c.column.purify)",".it('sets default to false').assertStrictEqual(false, c.column.default)",".it('should set encode').assertEqual(c.encode, c.column.encode)",".it('should set decode').assertEqual(c.decode, c.column.decode);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/dateSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/dateSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should set purify').assertEqual(c.purify, c.column.purify)",".it('should set encode').assertEqual(c.encode, c.column.encode)",".it('should set decode').assertEqual(c.decode, c.column.decode);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/encodeFilterArgSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/encodeFilterArgSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":12}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":28}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":39}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.expected = {};","\tc.column = {};","\tc.arg = {};","\tc.column.encode = c.mock();","","\tc.sut = require('../encodeFilterArg');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"14":0,"17":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/equalSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/equalSpec/req.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":4,"column":0},"end":{"line":11,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":44}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":21}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":15}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":33}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":29}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var amock = require('a');","var requireMock = amock.requireMock;","","function act(c) {","\tc.newBoolean = requireMock('./newBoolean');","\tc.encodeFilterArg = requireMock('./encodeFilterArg');","\tc.mock = amock.mock;","\tc.column = {};","\tc.column._dbName = 'columnName';","\tc.sut = require('../equal');","}","","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThanOrEqualSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThanOrEqualSpec/req.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":4,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":44}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":54}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":21}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":15}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":33}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":42}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var amock = require('a');","var requireMock = amock.requireMock;","","function act(c) {","\tc.newBoolean = requireMock('./newBoolean');","\tc.encodeFilterArg = requireMock('./encodeFilterArg');","","\tc.mock = amock.mock;","\tc.column = {};","\tc.column._dbName = 'columnName';","\tc.sut = require('../greaterThanOrEqual');","}","","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThanSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/greaterThanSpec/req.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":4,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":47}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":57}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":20}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":18}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":36}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":38}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","","function act(c) {","    c.newBoolean = requireMock('./newBoolean');","    c.encodeFilterArg = requireMock('./encodeFilterArg');","","    c.mock = a.mock;","    c.column = {};","    c.column._dbName = 'columnName';","    c.sut = require('../greaterThan');","}","","module.exports = act;",""],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guidSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/guidSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should set purify').assertEqual(c.purify, c.column.purify)",".it('should set encode').assertEqual(c.encode, c.column.encode)",".it('should set decode').assertEqual(c.decode, c.column.decode);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/inSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/inSpec/req.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":64}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":55}},"6":{"start":{"line":8,"column":0},"end":{"line":16,"column":1}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":27}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":39}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":37}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":21}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":15}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":33}},"13":{"start":{"line":15,"column":1},"end":{"line":15,"column":26}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var amock = require('a');","var requireMock = amock.requireMock;","var newParameterized = requireMock('../query/newParameterized');","var newBoolean = requireMock('./newBoolean');","var encodeFilterArg = requireMock('./encodeFilterArg');","","","function act(c) {","\tc.newBoolean = newBoolean;","\tc.newParameterized = newParameterized;","\tc.encodeFilterArg = encodeFilterArg;","\tc.mock = amock.mock;","\tc.column = {};","\tc.column._dbName = 'columnName';","\tc.sut = require('../in');","}","","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"4":0,"5":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/jsonSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/jsonSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should set purify').assertEqual(c.purify, c.column.purify)",".it('should set encode').assertEqual(c.encode, c.column.encode)",".it('should set decode').assertEqual(c.decode, c.column.decode);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThanOrEqualSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThanOrEqualSpec/req.js","s":{"1":2,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":55}},"5":{"start":{"line":6,"column":0},"end":{"line":13,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":37}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":21}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":33}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":39}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}}},"branchMap":{},"code":["var amock = require('a');","var requireMock = amock.requireMock;","var newBoolean = requireMock('./newBoolean');","var encodeFilterArg = requireMock('./encodeFilterArg');","","function act(c) {","\tc.newBoolean = newBoolean;","\tc.encodeFilterArg = encodeFilterArg;","\tc.mock = amock.mock;","\tc.column = {};","\tc.column._dbName = 'columnName';","\tc.sut = require('../lessThanOrEqual');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"4":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThanSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/lessThanSpec/req.js","s":{"1":2,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":55}},"5":{"start":{"line":6,"column":0},"end":{"line":13,"column":1}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":37}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":33}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":32}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","var newBoolean = requireMock('./newBoolean');","var encodeFilterArg = requireMock('./encodeFilterArg');","","function act(c) {","\tc.newBoolean = newBoolean;","\tc.encodeFilterArg = encodeFilterArg;","\tc.mock = a.mock;","\tc.column = {};","\tc.column._dbName = 'columnName';","\tc.sut = require('../lessThan');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"4":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextAndFilterSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextAndFilterSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":15}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":16}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":26}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":46}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.filter = {};","\tc.filter2 = {};","\tc.filter2.sql = c.mock();","","\tc.sut = require('../negotiateNextAndFilter');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextOrFilterSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateNextOrFilterSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":15}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":16}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":26}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":45}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.filter = {};","\tc.filter2 = {};","\tc.filter2.sql = c.mock();","","\tc.sut = require('../negotiateNextOrFilter');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateRawSqlFilterSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/negotiateRawSqlFilterSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":45}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":65}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":46}},"10":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.sut = require('../negotiateRawSqlFilter');","","\tc.newParameterized = c.requireMock('../query/newParameterized');","\tc.newBoolean = c.requireMock('./newBoolean');","\t","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newBooleanSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newBooleanSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":101}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set sql to filter.sql').assertEqual(c.sql, c.sut.sql())","\t.it('should set parameters to filter.parameters').assertEqual(c.filter.parameters, c.sut.parameters)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newColumnSpec/when_new.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/newColumnSpec/when_new.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":22,"column":86}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should add column to table._columns').assertEqual(c.sut,c.columns[0])","\t.it('should not add any other columns').assertEqual(1,c.columns.length)","\t.it('should set dbName to name').assertEqual(c.name,c.sut._dbName)","\t.it('should set alias to name').assertEqual(c.name,c.sut.alias)","\t.it('should set dbNull to null').assertStrictEqual(null, c.sut.dbNull)\t","\t.it('eq is alias for equal').assertDeepEqual(c.sut.equal,c.sut.eq)","\t.it('EQ is alias for equal').assertEqual(c.sut.equal,c.sut.EQ)","\t.it('ne is alias for notEqual').assertEqual(c.sut.notEqual,c.sut.ne)","\t.it('NE is alias for notEqual').assertEqual(c.sut.notEqual,c.sut.NE)","\t.it('gt is alias for greaterThan').assertEqual(c.sut.greaterThan,c.sut.gt)","\t.it('GT is alias for greaterThan').assertEqual(c.sut.greaterThan,c.sut.GT)","\t.it('ge is alias for greaterThanOrEqual').assertEqual(c.sut.greaterThanOrEqual,c.sut.ge)","\t.it('GE is alias for greaterThanOrEqual').assertEqual(c.sut.greaterThanOrEqual,c.sut.GE)","\t.it('lt is alias for lessThan').assertEqual(c.sut.lessThan,c.sut.lt)","\t.it('LT is alias for lessThan').assertEqual(c.sut.lessThan,c.sut.LT)","\t.it('le is alias for lessThanOrEqual').assertEqual(c.sut.lessThanOrEqual,c.sut.le)","\t.it('LE is alias for lessThanOrEqual').assertEqual(c.sut.lessThanOrEqual,c.sut.LE)","\t.it('should set table.<columnName> to column').assertEqual(c.table.columnName,c.sut);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/notEqualSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/notEqualSpec/req.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":55}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":17}},"6":{"start":{"line":7,"column":0},"end":{"line":15,"column":1}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":17}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":27}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":37}},"10":{"start":{"line":11,"column":1},"end":{"line":11,"column":21}},"11":{"start":{"line":12,"column":1},"end":{"line":12,"column":15}},"12":{"start":{"line":13,"column":1},"end":{"line":13,"column":33}},"13":{"start":{"line":14,"column":1},"end":{"line":14,"column":32}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":21}}},"branchMap":{},"code":["var amock = require('a');","var requireMock = amock.requireMock;","var newBoolean = requireMock('./newBoolean');","var encodeFilterArg = requireMock('./encodeFilterArg');","var alias = '_2';","","function act(c) {","\tc.alias = alias;","\tc.newBoolean = newBoolean;","\tc.encodeFilterArg = encodeFilterArg;","\tc.mock = amock.mock;","\tc.column = {};","\tc.column._dbName = 'columnName';","\tc.sut = require('../notEqual');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"4":0,"5":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"17":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/negotiateDefault.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numeric/negotiateDefault.js","s":{"1":1,"2":0,"3":0},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":34}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":5,"column":2}},"2":{"start":{"line":3,"column":1},"end":{"line":4,"column":21}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":21}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},{"start":{"line":3,"column":1},"end":{"line":3,"column":1}}]}},"code":["","module.exports = function(column) {","\tif(!column.hasOwnProperty('default'))","\t\tcolumn.default = 0;","};"],"l":{"2":1,"3":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numericSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/numericSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should set purify').assertEqual(c.purify, c.column.purify)",".it('sets default to zero').assertEqual(0, c.column.default)",".it('should set encode').assertEqual(c.encode, c.column.encode)",".it('should set decode').assertEqual(c.decode, c.column.decode);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/as.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/as.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":33}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":22}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":32}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":20}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","","function act(c) {","\tc.originalName = 'originalName';","\tc.table.originalName = {};\t\t","\tc.column.alias = c.originalName;","\tc.alias = 'newAlias';","\tc.returned = c.sut.as(c.alias);","}","","act.base = '../new';","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/dbNull.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/dbNull.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":17}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":19}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":20}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","var dbNull  = {};","","function act(c) {","\tc.dbNull = dbNull;","\tc.returned = c.sut.dbNull(dbNull);","}","","act.base = '../new';","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"9":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/default.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/default.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":26}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":42}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":20}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","var defaultValue  = {};","","function act(c) {","\tc.default = defaultValue;","\tc.returned = c.sut.default(defaultValue);","}","","act.base = '../new';","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"9":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/serializable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/serializable.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":21}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":49}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","","function act(c) {","\tc.serializable = {};","\tc.returned = c.sut.serializable(c.serializable);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"8":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenAs.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenAs.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./as',c)","\t.it('should set alias on column').assertEqual(c.alias,c.column.alias)","\t.it('should delete table.originalName').assertEqual(false,'originalName' in c.table)","\t.it('should set table.newAlias').assertEqual(c.column,c.table.newAlias)","\t.it('should return self').assertDeepEqual(c.sut,c.returned)","\t;"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenBinary.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenBinary.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":51}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./binary',c)","\t.it('sets type').assertDoesNotThrow(c.binary.verify)","\t.it('returns self').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenBoolean.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenBoolean.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":51}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./boolean',c)","\t.it('sets type').assertDoesNotThrow(c.bool.verify)","\t.it('returns self').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenDate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenDate.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":50}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./date',c).","\tit('sets type').assertDoesNotThrow(c.date.verify).","\tit('returns self').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenDbNull.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenDbNull.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":62}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./dbNull',c).","\tit('should set dbNull on column').assertEqual(c.dbNull,c.column.dbNull).","\tit('should return self').assertStrictEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenDefault.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenDefault.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":62}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./default',c).","\tit('should set default on column').assertEqual(c.default,c.column.default).","\tit('should return self').assertStrictEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenGuid.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenGuid.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":50}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./guid',c).","\tit('sets type').assertDoesNotThrow(c.guid.verify).","\tit('returns self').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenJson.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenJson.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":50}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./json',c).","\tit('sets type').assertDoesNotThrow(c.json.verify).","\tit('returns self').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenNumeric.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenNumeric.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":50}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./numeric',c).","\tit('sets type').assertDoesNotThrow(c.numeric.verify).","\tit('returns self').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenSerializable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenSerializable.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":62}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should set serializable on column').assertEqual(c.serializable,c.column.serializable).","\tit('should return self').assertStrictEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenString.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/columnSpec/new/whenString.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":50}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./string',c).","\tit('sets type').assertDoesNotThrow(c.string.verify).","\tit('returns self').assertEqual(c.sut,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/encodeCore.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/string/encodeCore.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"_new","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":24}},"6":{"start":{"line":7,"column":2},"end":{"line":8,"column":43}},"7":{"start":{"line":8,"column":3},"end":{"line":8,"column":43}},"8":{"start":{"line":9,"column":2},"end":{"line":10,"column":35}},"9":{"start":{"line":10,"column":3},"end":{"line":10,"column":35}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":31}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":22}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]}},"code":["var newPara = require('../../query/newParameterized');","var\tstringIsSafe = require('./stringIsSafe');","var purify = require('./purify');","","function _new(value,column) {","\t\tvalue = purify(value);","\t\tif (value == null)","\t\t\treturn newPara('' + column.dbNull + '');","\t\tif(stringIsSafe(value))","\t\t\treturn newPara('' + value + '');","\t\treturn newPara('?', [value]);","}","","module.exports = _new;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/stringSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/column/stringSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":12}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":82}}},"branchMap":{},"code":["var when = require('a').when;","var c  = {};","","when('./new',c)","\t.it('should set purify').assertEqual(c.purify, c.column.purify)","\t.it('should set encode on column').assertEqual(c.encode,c.column.encode)","\t.it('should set decode on column').assertEqual(c.decode,c.column.decode)","\t.it('should set iEq alias for iEqual').assertEqual(c.column.iEqual, c.column.iEq)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/beginCommandSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/beginCommandSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":16}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":63}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":54}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":36}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c){","\tc.mock = mock;\t","\tc.command = {};","\tc.newParameterized = requireMock('../query/newParameterized');","\tc.newParameterized.expect('BEGIN').return(c.command);","","\tc.sut = require('../beginCommand');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/beginCommandSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/beginCommandSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return command').assertEqual(c.command, c.sut)","\t.it('should set endEdit to empty func').assertDoesNotThrow(c.sut.endEdit)","\t.it('should set matches to empty func').assertDoesNotThrow(c.sut.matches)","\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/commitCommandSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/commitCommandSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":16}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":63}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":55}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":37}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c){","\tc.mock = mock;\t","\tc.command = {};","\tc.newParameterized = requireMock('../query/newParameterized');","\tc.newParameterized.expect('COMMIT').return(c.command);","","\tc.sut = require('../commitCommand');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/commitCommandSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/commitCommandSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return command').assertEqual(c.command, c.sut)","\t.it('should set endEdit to empty func').assertDoesNotThrow(c.sut.endEdit)","\t.it('should set matches to empty func').assertDoesNotThrow(c.sut.matches)","\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressAdvanced.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressAdvanced.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"3":{"start":{"line":5,"column":0},"end":{"line":37,"column":1}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":31}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":65}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":65}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":65}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":11}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":11}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":11}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":33}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":19}},"13":{"start":{"line":18,"column":1},"end":{"line":18,"column":19}},"14":{"start":{"line":19,"column":1},"end":{"line":19,"column":34}},"15":{"start":{"line":20,"column":1},"end":{"line":20,"column":22}},"16":{"start":{"line":22,"column":1},"end":{"line":22,"column":19}},"17":{"start":{"line":23,"column":1},"end":{"line":23,"column":19}},"18":{"start":{"line":24,"column":1},"end":{"line":24,"column":34}},"19":{"start":{"line":25,"column":1},"end":{"line":25,"column":22}},"20":{"start":{"line":28,"column":1},"end":{"line":28,"column":19}},"21":{"start":{"line":29,"column":1},"end":{"line":29,"column":19}},"22":{"start":{"line":30,"column":1},"end":{"line":30,"column":19}},"23":{"start":{"line":31,"column":1},"end":{"line":31,"column":34}},"24":{"start":{"line":32,"column":1},"end":{"line":32,"column":34}},"25":{"start":{"line":34,"column":1},"end":{"line":34,"column":24}},"26":{"start":{"line":36,"column":1},"end":{"line":36,"column":55}},"27":{"start":{"line":40,"column":0},"end":{"line":40,"column":21}}},"branchMap":{},"code":["","var a  = require('a');","var mock = a.mock;","","function act(c){\t","\tc.requireMock = a.requireMock;","\tc.newParameterized = c.requireMock('../query/newParameterized');","\tc.getSessionSingleton = c.requireMock('../getSessionSingleton');","\tc.getSessionSingleton.expect('multipleStatements').return(true);","\t","\tc.q1 = {};","\tc.q2 = {};","\tc.q3 = {};","\tc.queries = [c.q1, c.q3, c.q2 ];","\t","","\tc.sql1 = '<sql1>';","\tc.q1.sql = mock();","\tc.q1.sql.expect().return(c.sql1);","\tc.q1.parameters = [];","","\tc.sql2 = '<sql2>';","\tc.q2.sql = mock();","\tc.q2.sql.expect().return(c.sql2);","\tc.q2.parameters = [];","","\t","\tc.sql3 = '<sql3>';","\tc.parameter3 = {};","\tc.q3.sql = mock();","\tc.q3.sql.expect().return(c.sql3);","\tc.q3.parameters = [c.parameter3];","","\tc.expected = c.queries;","","\tc.returned = require('../compressChanges')(c.queries);","}","","","module.exports = act;"],"l":{"2":2,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"14":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"31":0,"32":0,"34":0,"36":0,"40":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressEmpty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressEmpty.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":4,"column":0},"end":{"line":15,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":65}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":65}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":65}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":16}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":24}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":55}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":21}}},"branchMap":{},"code":["var a  = require('a');","var mock = a.mock;","","function act(c){\t\t","\tc.requireMock = a.requireMock;","\tc.newParameterized = c.requireMock('../query/newParameterized');","\tc.getSessionSingleton = c.requireMock('../getSessionSingleton');","\tc.getSessionSingleton.expect('multipleStatements').return(true);","\t","\tc.queries = [];","\t","\tc.expected = c.queries;","","\tc.returned = require('../compressChanges')(c.queries);","}","","","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"12":0,"14":0,"18":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compress.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compress.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":42,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":65}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":65}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":65}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":11}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":11}},"11":{"start":{"line":13,"column":1},"end":{"line":13,"column":11}},"12":{"start":{"line":14,"column":1},"end":{"line":14,"column":33}},"13":{"start":{"line":17,"column":1},"end":{"line":17,"column":19}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":19}},"15":{"start":{"line":19,"column":1},"end":{"line":19,"column":34}},"16":{"start":{"line":20,"column":1},"end":{"line":20,"column":22}},"17":{"start":{"line":22,"column":1},"end":{"line":22,"column":19}},"18":{"start":{"line":23,"column":1},"end":{"line":23,"column":19}},"19":{"start":{"line":24,"column":1},"end":{"line":24,"column":34}},"20":{"start":{"line":25,"column":1},"end":{"line":25,"column":22}},"21":{"start":{"line":28,"column":1},"end":{"line":28,"column":19}},"22":{"start":{"line":29,"column":1},"end":{"line":29,"column":19}},"23":{"start":{"line":30,"column":1},"end":{"line":30,"column":19}},"24":{"start":{"line":31,"column":1},"end":{"line":31,"column":34}},"25":{"start":{"line":32,"column":1},"end":{"line":32,"column":34}},"26":{"start":{"line":34,"column":1},"end":{"line":34,"column":34}},"27":{"start":{"line":35,"column":1},"end":{"line":35,"column":23}},"28":{"start":{"line":37,"column":1},"end":{"line":37,"column":68}},"29":{"start":{"line":39,"column":1},"end":{"line":39,"column":39}},"30":{"start":{"line":41,"column":1},"end":{"line":41,"column":55}},"31":{"start":{"line":45,"column":0},"end":{"line":45,"column":21}}},"branchMap":{},"code":["var a  = require('a');","var mock = a.mock;","var requireMock  = a.requireMock;","","function act(c){\t\t","\tc.requireMock = a.requireMock;","\tc.newParameterized = c.requireMock('../query/newParameterized');","\tc.getSessionSingleton = c.requireMock('../getSessionSingleton');","\tc.getSessionSingleton.expect('multipleStatements').return(true);","","\tc.q1 = {};","\tc.q2 = {};","\tc.q3 = {};","\tc.queries = [c.q1, c.q2, c.q3 ];","\t","","\tc.sql1 = '<sql1>';","\tc.q1.sql = mock();","\tc.q1.sql.expect().return(c.sql1);","\tc.q1.parameters = [];","","\tc.sql2 = '<sql2>';","\tc.q2.sql = mock();","\tc.q2.sql.expect().return(c.sql2);","\tc.q2.parameters = [];","","\t","\tc.sql3 = '<sql3>';","\tc.parameter3 = {};","\tc.q3.sql = mock();","\tc.q3.sql.expect().return(c.sql3);","\tc.q3.parameters = [c.parameter3];","","\tc.compositeSql = '<sql1>;<sql2>';","\tc.compositeQuery = {};","\t","\tc.newParameterized.expect(c.compositeSql).return(c.compositeQuery);","","\tc.expected = [c.compositeQuery, c.q3];","","\tc.returned = require('../compressChanges')(c.queries);","}","","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"14":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"31":0,"32":0,"34":0,"35":0,"37":0,"39":0,"41":0,"45":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressMultipleStatementsFalse.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressMultipleStatementsFalse.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":15,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":65}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":65}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":66}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":26}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":27}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":55}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":21}}},"branchMap":{},"code":["var a  = require('a');","var mock = a.mock;","var requireMock  = a.requireMock;","","function act(c){\t\t","\tc.requireMock = a.requireMock;","\tc.newParameterized = c.requireMock('../query/newParameterized');","\tc.getSessionSingleton = c.requireMock('../getSessionSingleton');","\tc.getSessionSingleton.expect('multipleStatements').return(false);","\t","\tc.queries = [c.q1, c.q2];","\tc.expected = [c.q1, c.q2];","","\tc.returned = require('../compressChanges')(c.queries);","}","","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"14":0,"18":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressSimple.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/compressSimple.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":4,"column":0},"end":{"line":22,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":65}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":65}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":65}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":11}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":20}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":19}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":19}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":34}},"13":{"start":{"line":17,"column":1},"end":{"line":17,"column":22}},"14":{"start":{"line":19,"column":1},"end":{"line":19,"column":21}},"15":{"start":{"line":21,"column":1},"end":{"line":21,"column":55}},"16":{"start":{"line":25,"column":0},"end":{"line":25,"column":21}}},"branchMap":{},"code":["var a  = require('a');","var mock = a.mock;","","function act(c){\t\t","\tc.requireMock = a.requireMock;","\tc.newParameterized = c.requireMock('../query/newParameterized');","\tc.getSessionSingleton = c.requireMock('../getSessionSingleton');","\tc.getSessionSingleton.expect('multipleStatements').return(true);","\t\t\t","\tc.q1 = {};","\tc.queries = [c.q1];","\t","","\tc.sql1 = '<sql1>';","\tc.q1.sql = mock();","\tc.q1.sql.expect().return(c.sql1);","\tc.q1.parameters = [];","","\tc.expected = [c.q1];","","\tc.returned = require('../compressChanges')(c.queries);","}","","","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"14":0,"15":0,"16":0,"17":0,"19":0,"21":0,"25":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressAdvanced.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressAdvanced.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return compressed').assertDeepEqual(c.expected, c.returned)",";"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressEmpty.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressEmpty.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return compressed').assertDeepEqual(c.expected, c.returned)",";"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompress.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompress.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return compressed').assertDeepEqual(c.expected, c.returned)",";"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressMultipleStatementsFalse.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressMultipleStatementsFalse.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return uncompressed').assertDeepEqual(c.expected, c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressSimple.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/compressChangesSpec/whenCompressSimple.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return compressed').assertDeepEqual(c.expected, c.returned)",";"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/getChangeSetSpec/get.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/getChangeSetSpec/get.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":4,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":18}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":65}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":61}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":43}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["var a = require('a');","var expectRequire = a.expectRequire;","","function act(c){","\tc.changeSet = {};","\tc.getSessionSingleton = a.requireMock('../getSessionSingleton');","\tc.getSessionSingleton.expect('changes').return(c.changeSet);","","\tc.returned = require('../getChangeSet')();","}","","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"7":0,"9":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/getChangeSetSpec/whenGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/getChangeSetSpec/whenGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return changeSet').assertEqual(c.changeSet, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/lastCommandMatchesSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/lastCommandMatchesSpec/req.js","s":{"1":2,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":1}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":48}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":42}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","","function act(c){","\tc.mock = a.mock;","\tc.getChangeSet = requireMock('./getChangeSet');","","\tc.sut = require('../lastCommandMatches');","}","","module.exports = act;"],"l":{"1":2,"2":0,"4":1,"5":0,"6":0,"8":0,"11":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/negotiateEndEditSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/negotiateEndEditSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":40}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","","\tc.sut = require('../negotiateEndEdit');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newDeleteCommandSpec/when_new.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newDeleteCommandSpec/when_new.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":57}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when('./new',c)","\t.it('should add sub commands').assertDoesNotThrow(c.nextDeleteCommand.verify)","\t.it('should push singleCommand to queries').assertDoesNotThrow(c.queries.push.verify)","\t.it('returns queries').assertEqual(c.queries,c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommandCoreSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommandCoreSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return insertCommand').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommandSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newInsertCommandSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('endEdit points at sut.sql').assertEqual(c.sut.sql, c.sut.endEdit)","\t.it('should set parameters').assertEqual(c.parameters, c.sut.parameters)","\t.it('should set sql').assertEqual(c.sql, c.sut.sql())\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newRowSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newRowSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":41,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":60}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":12}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":15}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":14}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":10}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":22}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":35}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":15}},"13":{"start":{"line":17,"column":1},"end":{"line":17,"column":23}},"14":{"start":{"line":18,"column":1},"end":{"line":18,"column":37}},"15":{"start":{"line":20,"column":1},"end":{"line":20,"column":56}},"16":{"start":{"line":21,"column":1},"end":{"line":21,"column":44}},"17":{"start":{"line":23,"column":1},"end":{"line":23,"column":15}},"18":{"start":{"line":24,"column":1},"end":{"line":24,"column":26}},"19":{"start":{"line":25,"column":1},"end":{"line":25,"column":24}},"20":{"start":{"line":26,"column":1},"end":{"line":26,"column":35}},"21":{"start":{"line":28,"column":1},"end":{"line":28,"column":16}},"22":{"start":{"line":29,"column":1},"end":{"line":29,"column":28}},"23":{"start":{"line":31,"column":1},"end":{"line":31,"column":70}},"24":{"start":{"line":32,"column":1},"end":{"line":32,"column":30}},"25":{"start":{"line":34,"column":1},"end":{"line":34,"column":15}},"26":{"start":{"line":35,"column":1},"end":{"line":35,"column":33}},"27":{"start":{"line":36,"column":1},"end":{"line":36,"column":24}},"28":{"start":{"line":37,"column":1},"end":{"line":37,"column":25}},"29":{"start":{"line":38,"column":1},"end":{"line":38,"column":27}},"30":{"start":{"line":40,"column":1},"end":{"line":40,"column":30}},"31":{"start":{"line":43,"column":0},"end":{"line":43,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c){","\tc.decodeDbRow = requireMock('../resultToRows/decodeDbRow');","","\tc.row = {};","\tc.mock = mock;\t","\tc.table = {};","","\tc.id = 1;","\tc.primaryColumn = {};","\tc.primaryColumn.alias = 'pkAlias';\t","","\tc.id2 = 'two';","\tc.primaryColumn2 = {};","\tc.primaryColumn2.alias = 'pkAlias2';\t","","\tc.primaryColumns = [c.primaryColumn, c.primaryColumn2];","\tc.table._primaryColumns = c.primaryColumns;","","\tc.column = {};","\tc.column.alias = 'alias';\t","\tc.defaultValue = 'def';\t","\tc.column.default = c.defaultValue;","\t","\tc.column2 = {};","\tc.column2.alias = 'alias2';\t","","\tc.columns = [c.column, c.primaryColumn, c.column2, c.primaryColumn2];","\tc.table._columns = c.columns;","","\tc.rowDto = {};","\tc.rowDto.alias = c.defaultValue;","\tc.rowDto.alias2 = null;","\tc.rowDto.pkAlias = c.id;","\tc.rowDto.pkAlias2 = c.id2;","","\tc.sut = require('../newRow');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"8":0,"9":0,"10":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"20":0,"21":0,"23":0,"24":0,"25":0,"26":0,"28":0,"29":0,"31":0,"32":0,"34":0,"35":0,"36":0,"37":0,"38":0,"40":0,"43":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommandCoreSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommandCoreSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":108,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":19}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":15}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":14}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":26}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":31}},"10":{"start":{"line":13,"column":1},"end":{"line":13,"column":12}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":22}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":22}},"13":{"start":{"line":16,"column":1},"end":{"line":16,"column":22}},"14":{"start":{"line":17,"column":1},"end":{"line":17,"column":28}},"15":{"start":{"line":19,"column":1},"end":{"line":19,"column":22}},"16":{"start":{"line":20,"column":1},"end":{"line":20,"column":22}},"17":{"start":{"line":21,"column":1},"end":{"line":21,"column":22}},"18":{"start":{"line":22,"column":1},"end":{"line":22,"column":28}},"19":{"start":{"line":24,"column":1},"end":{"line":24,"column":26}},"20":{"start":{"line":25,"column":1},"end":{"line":25,"column":19}},"21":{"start":{"line":26,"column":1},"end":{"line":26,"column":26}},"22":{"start":{"line":27,"column":1},"end":{"line":27,"column":32}},"23":{"start":{"line":29,"column":1},"end":{"line":29,"column":26}},"24":{"start":{"line":30,"column":1},"end":{"line":30,"column":19}},"25":{"start":{"line":31,"column":1},"end":{"line":31,"column":26}},"26":{"start":{"line":32,"column":1},"end":{"line":32,"column":32}},"27":{"start":{"line":34,"column":1},"end":{"line":34,"column":16}},"28":{"start":{"line":35,"column":1},"end":{"line":35,"column":28}},"29":{"start":{"line":36,"column":1},"end":{"line":36,"column":35}},"30":{"start":{"line":37,"column":1},"end":{"line":37,"column":28}},"31":{"start":{"line":38,"column":1},"end":{"line":38,"column":29}},"32":{"start":{"line":39,"column":1},"end":{"line":39,"column":59}},"33":{"start":{"line":41,"column":1},"end":{"line":41,"column":16}},"34":{"start":{"line":42,"column":1},"end":{"line":42,"column":28}},"35":{"start":{"line":43,"column":1},"end":{"line":43,"column":35}},"36":{"start":{"line":44,"column":1},"end":{"line":44,"column":28}},"37":{"start":{"line":45,"column":1},"end":{"line":45,"column":29}},"38":{"start":{"line":46,"column":1},"end":{"line":46,"column":59}},"39":{"start":{"line":48,"column":1},"end":{"line":48,"column":18}},"40":{"start":{"line":49,"column":1},"end":{"line":49,"column":25}},"41":{"start":{"line":50,"column":1},"end":{"line":50,"column":39}},"42":{"start":{"line":51,"column":1},"end":{"line":51,"column":32}},"43":{"start":{"line":52,"column":1},"end":{"line":52,"column":31}},"44":{"start":{"line":53,"column":1},"end":{"line":53,"column":60}},"45":{"start":{"line":55,"column":1},"end":{"line":55,"column":18}},"46":{"start":{"line":56,"column":1},"end":{"line":56,"column":25}},"47":{"start":{"line":57,"column":1},"end":{"line":57,"column":39}},"48":{"start":{"line":58,"column":1},"end":{"line":58,"column":32}},"49":{"start":{"line":59,"column":1},"end":{"line":59,"column":31}},"50":{"start":{"line":60,"column":1},"end":{"line":60,"column":60}},"51":{"start":{"line":62,"column":1},"end":{"line":62,"column":54}},"52":{"start":{"line":64,"column":1},"end":{"line":64,"column":36}},"53":{"start":{"line":65,"column":1},"end":{"line":65,"column":36}},"54":{"start":{"line":67,"column":1},"end":{"line":67,"column":14}},"55":{"start":{"line":68,"column":1},"end":{"line":68,"column":63}},"56":{"start":{"line":69,"column":1},"end":{"line":69,"column":66}},"57":{"start":{"line":71,"column":1},"end":{"line":71,"column":14}},"58":{"start":{"line":72,"column":1},"end":{"line":72,"column":27}},"59":{"start":{"line":73,"column":1},"end":{"line":73,"column":53}},"60":{"start":{"line":75,"column":1},"end":{"line":75,"column":14}},"61":{"start":{"line":76,"column":1},"end":{"line":76,"column":27}},"62":{"start":{"line":77,"column":1},"end":{"line":77,"column":56}},"63":{"start":{"line":79,"column":1},"end":{"line":79,"column":14}},"64":{"start":{"line":80,"column":1},"end":{"line":80,"column":27}},"65":{"start":{"line":81,"column":1},"end":{"line":81,"column":53}},"66":{"start":{"line":83,"column":1},"end":{"line":83,"column":14}},"67":{"start":{"line":84,"column":1},"end":{"line":84,"column":27}},"68":{"start":{"line":85,"column":1},"end":{"line":85,"column":56}},"69":{"start":{"line":87,"column":1},"end":{"line":87,"column":14}},"70":{"start":{"line":88,"column":1},"end":{"line":88,"column":27}},"71":{"start":{"line":89,"column":1},"end":{"line":89,"column":54}},"72":{"start":{"line":91,"column":1},"end":{"line":91,"column":14}},"73":{"start":{"line":92,"column":1},"end":{"line":92,"column":27}},"74":{"start":{"line":93,"column":1},"end":{"line":93,"column":53}},"75":{"start":{"line":95,"column":1},"end":{"line":95,"column":14}},"76":{"start":{"line":96,"column":1},"end":{"line":96,"column":27}},"77":{"start":{"line":97,"column":1},"end":{"line":97,"column":52}},"78":{"start":{"line":99,"column":1},"end":{"line":99,"column":14}},"79":{"start":{"line":100,"column":1},"end":{"line":100,"column":27}},"80":{"start":{"line":101,"column":1},"end":{"line":101,"column":53}},"81":{"start":{"line":103,"column":1},"end":{"line":103,"column":17}},"82":{"start":{"line":104,"column":1},"end":{"line":104,"column":27}},"83":{"start":{"line":105,"column":1},"end":{"line":105,"column":96}},"84":{"start":{"line":107,"column":1},"end":{"line":107,"column":44}},"85":{"start":{"line":110,"column":0},"end":{"line":110,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c){","\tc.columnList = {};","","\tc.mock = mock;\t","\tc.table = {};","\tc.tableName = 'theTable';","\tc.table._dbName = c.tableName;","","\tc.row = {};","\tc.value1 = 'value 1';","\tc.encodedValue1 = {};","\tc.alias1 = 'alias 1';","\tc.row[c.alias1] = c.value1;","","\tc.value2 = 'value 2';","\tc.encodedValue2 = {};","\tc.alias2 = 'alias 2';","\tc.row[c.alias2] = c.value2;","","\tc.pkValue1 = 'pkvalue 1';","\tc.encodedPk1 = {};","\tc.pkAlias1 = 'pkalias 1';","\tc.row[c.pkAlias1] = c.pkValue1;","","\tc.pkValue2 = 'pkvalue 2';","\tc.encodedPk2 = {};","\tc.pkAlias2 = 'pkalias 2';","\tc.row[c.pkAlias2] = c.pkValue2;","","\tc.column1 = {};","\tc.columnName1 = 'colName1';","\tc.column1._dbName = c.columnName1;","\tc.column1.alias = c.alias1;","\tc.column1.encode = c.mock();","\tc.column1.encode.expect(c.value1).return(c.encodedValue1);","","\tc.column2 = {};","\tc.columnName2 = 'colName2';","\tc.column2._dbName = c.columnName2;","\tc.column2.alias = c.alias2;","\tc.column2.encode = c.mock();","\tc.column2.encode.expect(c.value2).return(c.encodedValue2);","","\tc.pkColumn1 = {};","\tc.pkColumnName1 = 'pk1';","\tc.pkColumn1._dbName = c.pkColumnName1;","\tc.pkColumn1.alias = c.pkAlias1;","\tc.pkColumn1.encode = c.mock();","\tc.pkColumn1.encode.expect(c.pkValue1).return(c.encodedPk1);","","\tc.pkColumn2 = {};","\tc.pkColumnName2 = 'pk2';","\tc.pkColumn2._dbName = c.pkColumnName2;","\tc.pkColumn2.alias = c.pkAlias2;","\tc.pkColumn2.encode = c.mock();","\tc.pkColumn2.encode.expect(c.pkValue2).return(c.encodedPk2);","","\tc.table._primaryColumns = [c.pkColumn1, c.pkColumn2];","","\tc.columnList[c.alias1] = c.column1;","\tc.columnList[c.alias2] = c.column2;","","\tc.part0 = {};","\tc.newParameterized = requireMock('../query/newParameterized');","\tc.newParameterized.expect(\"UPDATE theTable SET\").return(c.part0);","","\tc.part1 = {};","\tc.part0.append = c.mock();","\tc.part0.append.expect(\" colName1=\").return(c.part1);","","\tc.part2 = {};","\tc.part1.append = c.mock();","\tc.part1.append.expect(c.encodedValue1).return(c.part2);","","\tc.part3 = {};","\tc.part2.append = c.mock();","\tc.part2.append.expect(\",colName2=\").return(c.part3);","","\tc.part4 = {};","\tc.part3.append = c.mock();","\tc.part3.append.expect(c.encodedValue2).return(c.part4);","","\tc.part5 = {};","\tc.part4.append = c.mock();","\tc.part4.append.expect(\" WHERE pk1=\").return(c.part5);","","\tc.part6 = {};","\tc.part5.append = c.mock();","\tc.part5.append.expect(c.encodedPk1).return(c.part6);","","\tc.part7 = {};","\tc.part6.append = c.mock();","\tc.part6.append.expect(\" AND pk2=\").return(c.part7);","","\tc.part8 = {};","\tc.part7.append = c.mock();","\tc.part7.append.expect(c.encodedPk2).return(c.part8);","","\tc.expected = {};","\tc.part8.append = c.mock();","\tc.part8.append.expect(\" AND fooColumn='fooDiscr' AND barColumn='barDiscr'\").return(c.expected);","","\tc.sut = require('../newUpdateCommandCore');\t","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"24":0,"25":0,"26":0,"27":0,"29":0,"30":0,"31":0,"32":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"62":0,"64":0,"65":0,"67":0,"68":0,"69":0,"71":0,"72":0,"73":0,"75":0,"76":0,"77":0,"79":0,"80":0,"81":0,"83":0,"84":0,"85":0,"87":0,"88":0,"89":0,"91":0,"92":0,"93":0,"95":0,"96":0,"97":0,"99":0,"100":0,"101":0,"103":0,"104":0,"105":0,"107":0,"110":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommandSpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/newUpdateCommandSpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should set column on ColumnList with alias').assertEqual(c.column, c.columnList[c.alias])","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/pushCommandSpec/push.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/pushCommandSpec/push.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":17,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":50}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":49}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":18}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":16}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":29}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":36}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":45}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":24}},"12":{"start":{"line":16,"column":1},"end":{"line":16,"column":38}},"13":{"start":{"line":19,"column":0},"end":{"line":19,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.getChangeSet = a.requireMock('./getChangeSet');","\tc.notifyDirty = a.requireMock('../notifyDirty');","\t","\tc.changeSet = {};","\tc.command = {};","\tc.changeSet.push = c.mock();","\tc.changeSet.push.expect(c.command);","\tc.getChangeSet.expect().return(c.changeSet);","","\tc.notifyDirty.expect();","","\trequire('../pushCommand')(c.command);","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"16":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/pushCommandSpec/whenPush.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/pushCommandSpec/whenPush.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":84}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should notify dirty').assertDoesNotThrow(c.notifyDirty.verify)","\t.it('should push command to changeSet').assertDoesNotThrow(c.changeSet.push.verify)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/rollbackCommandSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/rollbackCommandSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":16}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":63}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":57}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":39}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","var mock = a.mock;","var requireMock = a.requireMock;","","function act(c){","\tc.mock = mock;\t","\tc.command = {};","\tc.newParameterized = requireMock('../query/newParameterized');","\tc.newParameterized.expect('ROLLBACK').return(c.command);","","\tc.sut = require('../rollbackCommand');","}","","module.exports = act;"],"l":{"1":2,"2":0,"3":0,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/rollbackCommandSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commands/rollbackCommandSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":9,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return command').assertEqual(c.command, c.sut)","\t.it('should set endEdit to empty func').assertDoesNotThrow(c.sut.endEdit)","\t.it('should set matches to empty func').assertDoesNotThrow(c.sut.matches)","\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commitSpec/req/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/commitSpec/req/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should push commitCommand').assertDoesNotThrow(c.pushCommand.verify)","\t.it('should execute changes').assertEqual(c.expected, c.returned)",";"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/create/whenWrite.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/create/whenWrite.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should push JSON to stream array').assertDoesNotThrow(c.transformer.push.verify)","    .it('should invoke callbacks').assertDoesNotThrow(c.cb.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/create/write.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createJSONReadStreamNativeSpec/create/write.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":30,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":20}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":34}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":20}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":34}},"8":{"start":{"line":10,"column":4},"end":{"line":13,"column":6}},"9":{"start":{"line":14,"column":4},"end":{"line":17,"column":6}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":15}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":20}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":28}},"13":{"start":{"line":22,"column":4},"end":{"line":22,"column":35}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":46}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":53}},"16":{"start":{"line":25,"column":4},"end":{"line":25,"column":35}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":51}},"18":{"start":{"line":28,"column":4},"end":{"line":28,"column":52}},"19":{"start":{"line":29,"column":4},"end":{"line":29,"column":31}},"20":{"start":{"line":32,"column":0},"end":{"line":32,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","    c.mock = a.mock;","    c.requireMock = a.requireMock;","    c.expectRequire = a.expectRequire;","    c.then = a.then;","","    c.transformer.push = c.mock();","    c.chunk = {","        result: {","        }","    };","    c.chunk2 = {","        result: {","        }","    };","    c.enc = {};","    c.cb = c.mock();","    c.cb.expect().repeat(3);","","    c.transformer.push.expect('[');","    c.transformer.push.expect(c.chunk.result);","    c.transformer.push.expect(',' + c.chunk2.result);","    c.transformer.push.expect(']');","","    c.transformer._transform(c.chunk, c.enc, c.cb);","    c.transformer._transform(c.chunk2, c.enc, c.cb);","    c.transformer._flush(c.cb);","}","","module.exports = act;",""],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"14":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"25":0,"27":0,"28":0,"29":0,"32":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/create/whenWrite.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/create/whenWrite.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should push JSON to stream array').assertDoesNotThrow(c.transformer.push.verify)","    .it('should invoke callbacks').assertDoesNotThrow(c.cb.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/create/write.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/createReadStreamNativeSpec/create/write.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":33,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":20}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":34}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":20}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":34}},"8":{"start":{"line":10,"column":4},"end":{"line":13,"column":6}},"9":{"start":{"line":14,"column":4},"end":{"line":17,"column":6}},"10":{"start":{"line":18,"column":4},"end":{"line":20,"column":6}},"11":{"start":{"line":21,"column":4},"end":{"line":23,"column":6}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":15}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":20}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":28}},"15":{"start":{"line":28,"column":4},"end":{"line":28,"column":49}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":49}},"17":{"start":{"line":31,"column":4},"end":{"line":31,"column":51}},"18":{"start":{"line":32,"column":4},"end":{"line":32,"column":52}},"19":{"start":{"line":35,"column":0},"end":{"line":35,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c) {","    c.mock = a.mock;","    c.requireMock = a.requireMock;","    c.expectRequire = a.expectRequire;","    c.then = a.then;","","    c.transformer.push = c.mock();","    c.expectedObject1 = {","        a: 1,","        b: 2","    };","    c.expectedObject2 = {","        a: 11,","        b: 22","    };","    c.chunk = {","        result: JSON.stringify(c.expectedObject1)","    };","    c.chunk2 = {","        result: JSON.stringify(c.expectedObject2)","    };","    c.enc = {};","    c.cb = c.mock();","    c.cb.expect().repeat(2);","","    c.transformer.push.expect(c.expectedObject1);","    c.transformer.push.expect(c.expectedObject2);","","    c.transformer._transform(c.chunk, c.enc, c.cb);","    c.transformer._transform(c.chunk2, c.enc, c.cb);","}","","module.exports = act;",""],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"14":0,"18":0,"21":0,"24":0,"25":0,"26":0,"28":0,"29":0,"31":0,"32":0,"35":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSpec/req/whenDelete.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/deleteSpec/req/whenDelete.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":78}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should return emptyPromise').assertEqual(c.emptyPromise, c.returned)","    .it('should push deleteCommands').assertDoesNotThrow(c.pushCommand.verify)","    ",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/domainCache/getCacheSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/domainCache/getCacheSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":31}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":43}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":13}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":65}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":65}},"8":{"start":{"line":13,"column":1},"end":{"line":13,"column":32}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.requireMock = a.requireMock;","\t","\tc.newCache = a.requireMock('../newCache');","\tc.id = 'id';","","\tc.getSessionSingleton = c.requireMock('../getSessionSingleton');","\tc.setSessionSingleton = c.requireMock('../setSessionSingleton');","\t","","\tc.sut = require('../getCache');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"6":0,"7":0,"9":0,"10":0,"13":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/encodeSpecific.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/encodeSpecific.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":10,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":17}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":14}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":28}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":71}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":52}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":47}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":39}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.expected = {};","\tc.value = {};","\t\t","\tc.encodeBoolean = c.mock();","\tc.getSessionSingleton.expect('encodeBoolean').return(c.encodeBoolean);","\tc.encodeBoolean.expect(c.value).return(c.expected);","\tc.getSessionSingleton.expect(c.encodeBoolean);","\tc.returned = c.sut('Boolean', c.value)","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"8":0,"9":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/encodeStandard.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/encodeStandard.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":14}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":56}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":39}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.value = {};","\t\t","\tc.getSessionSingleton.expect('encodeBoolean').return();","\tc.returned = c.sut('Boolean', c.value)","}","","module.exports = act;"],"l":{"1":1,"2":0,"4":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/whenEncodeSpecific.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/whenEncodeSpecific.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":78}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return encoded value for db').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/whenEncodeStandard.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/encodeDbSpecificSpec/req/whenEncodeStandard.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":70}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return value unchanged').assertEqual(c.value, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeChangesSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeChangesSpec/req.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":15}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":7,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":8,"column":1},"end":{"line":8,"column":15}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":48}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":42}},"8":{"start":{"line":12,"column":1},"end":{"line":12,"column":38}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}}},"branchMap":{},"code":["","var a  = require('a');","var mock = a.mock;","var requireMock  = a.requireMock;","","","function act(c){\t\t","\tc.mock = mock;","\tc.executeQuery = requireMock('./executeQuery');","\tc.newPromise = requireMock('../promise');","","\tc.sut = require('../executeChanges');","}","","","module.exports = act;"],"l":{"2":2,"3":0,"4":0,"7":1,"8":0,"9":0,"10":0,"12":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQueriesCoreSpec/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQueriesCoreSpec/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return results').assertDeepEqual(c.expected,c.returned);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQuerySpec/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/executeQuerySpec/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return promise').assertEqual(c.expected,c.returned);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/resolveExecuteQuerySpec/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueries/resolveExecuteQuerySpec/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":90}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should run query against client').assertDoesNotThrow(c.dbClient.executeQuery.verify)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/hasParams/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/hasParams/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":73}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should invoke executeQueriesCore').assertEqual(c.executeQueriesCoreResult, c.queryResult)","\t.it('should return expected promise').assertEqual(c.expected,c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/multipleStatementsNotAllowed/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/multipleStatementsNotAllowed/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":73}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should invoke executeQueriesCore').assertEqual(c.executeQueriesCoreResult, c.queryResult)","\t.it('should return expected promise').assertEqual(c.expected,c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/noChanges/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/noChanges/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":73}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should invoke executeQueriesCore').assertEqual(c.executeQueriesCoreResult, c.queryResult)","\t.it('should return expected promise').assertEqual(c.expected,c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/noParams/whenExecute.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/executeQueriesSpec/noParams/whenExecute.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should invoke executeQueriesCore').assertEqual(c.executeQueriesCoreResult, c.queryResult)","\t.it('should return expected promise').assertEqual(c.expected,c.returned)","\t;","",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/hasStrategy/extract.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/hasStrategy/extract.js","s":{"1":1,"2":0,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":3,"column":1},"end":{"line":3,"column":17}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":32}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"branchMap":{},"code":["function act(c){","\t","\tc.strategy = {};","\tc.returned = c.sut(c.strategy);","}","","module.exports = act;"],"l":{"1":1,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/hasStrategy/whenExtract.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/hasStrategy/whenExtract.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return strategy').assertEqual(c.strategy, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/noStrategy/whenExtract.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/extractDeleteStrategySpec/noStrategy/whenExtract.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":77}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return empty strategy').assertEqual(c.emptyStrategy, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/getExclusive.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/getExclusive.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":70},"end":{"line":4,"column":84}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":122}},"3":{"start":{"line":4,"column":4},"end":{"line":6,"column":7}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":25}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["function act(c) {","    c.newSelectQuery.expect([], c.table, c.filter, c.span, c.dbName, c.emptyInnerJoin, undefined, true).return(c.queries);","","    return c.sut.exclusive(c.table, c.initialFilter, c.strategy).then(function(ret) {","        c.returned = ret;","    });","","}","","module.exports = act;",""],"l":{"1":1,"2":0,"4":0,"5":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/get.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/get.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":60},"end":{"line":4,"column":74}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":127}},"3":{"start":{"line":4,"column":4},"end":{"line":6,"column":7}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":25}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["function act(c) {","    c.newSelectQuery.expect([], c.table, c.filter, c.span, c.dbName, c.emptyInnerJoin, undefined, undefined).return(c.queries);","","    return c.sut(c.table, c.initialFilter, c.strategy).then(function(ret) {","        c.returned = ret;","    });","","}","","module.exports = act;",""],"l":{"1":1,"2":0,"4":0,"5":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/whenGetExclusive.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/whenGetExclusive.js","s":{"1":2,"2":0,"3":0,"4":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":57}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).then(function(it) {","\tit('should return rows').assertEqual(c.rows,c.returned);\t","});"],"l":{"1":2,"2":0,"4":0,"5":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/when_get.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getManySpec/new/when_get.js","s":{"1":2,"2":0,"3":0,"4":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":57}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).then(function(it) {","\tit('should return rows').assertEqual(c.rows,c.returned);\t","});"],"l":{"1":2,"2":0,"4":0,"5":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCoreSpec/hasContext/whenGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCoreSpec/hasContext/whenGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":52}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should expand relation').assertDoesNotThrow(c.queryContext.expand.verify)","\t.it('should negotiate expand inverse').assertDoesNotThrow(c.negotiateExpandInverse.verify)\t","\t.it('returns rows').assertEqual(c.rows, c.returned)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCoreSpec/noContext/whenGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/getRelativesCoreSpec/noContext/whenGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should not get related rows').assertOk(c.didNotCrash)",";"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasManySpec/hasMany/getRelatedTable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasManySpec/hasMany/getRelatedTable.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":17}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":63}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":34}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"branchMap":{},"code":["function act(c){\t","\tc.expected = {};","\tc.newRelatedTable.expect([c.manyRelation]).return(c.expected);","\tc.returned = c.parentTable.child;","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasManySpec/hasMany/whenGetRelatedTable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasManySpec/hasMany/whenGetRelatedTable.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return child Table').assertEqual(c.expected,c.returned);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasOneSpec/hasOne/whenGetRelatedTable.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/hasOneSpec/hasOne/whenGetRelatedTable.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return child Table').assertEqual(c.expected,c.returned);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/insertSpec/req/whenInsert.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/insertSpec/req/whenInsert.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should push insertCommand').assertDoesNotThrow(c.pushCommand.verify)","\t.it('should return row').assertEqual(c.row, c.returned)\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/getRelativesSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/getRelativesSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":50}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":59}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":36}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":71}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":36}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.expected = {};","","\tc.legToQuery = c.requireMock('./joinLegToQuery');\t","\tc.getRelativesCore = c.requireMock('../getRelativesCore');","","\tc.getRelativesCore.bind = c.mock();","\tc.getRelativesCore.bind.expect(null, c.legToQuery).return(c.expected);\t","","\tc.sut = require('../getRelatives');\t","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"14":0,"15":0,"17":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/getRelativesSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/getRelativesSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":75}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return bound getRelativesCore').assertEqual(c.expected, c.sut)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/joinLegToQuerySpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinRelation/joinLegToQuerySpec/req.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":18}},"4":{"start":{"line":5,"column":0},"end":{"line":11,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":15}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":79}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":41}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":38}}},"branchMap":{},"code":["var a = require('a');","var requireMock = a.requireMock;","var mock = a.mock;","","module.exports = function(c) {","\tc.mock = mock;","\tc.newShallowJoinSql = requireMock('../query/addSubQueries/newShallowJoinSql');","","\tc.newQuery = requireMock('../newQuery');","\tc.sut = require('../joinLegToQuery');","}",""],"l":{"1":2,"2":0,"3":0,"5":0,"6":0,"7":0,"9":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req/joinUnknownColumn.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req/joinUnknownColumn.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":10,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":21}},"3":{"start":{"line":4,"column":1},"end":{"line":9,"column":2}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":82}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":30}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}}},"branchMap":{},"code":["function act(c) {\t","\tc.joinRelation = {};","","\ttry {","\t\tc.sut(c.parentTable, c.childTable).by('foo','someColumn').by('bar').as('child');\t\t","\t}","\tcatch (e) {","\t\tc.thrownMessage = e.message;","\t}","}","","module.exports = act;"],"l":{"1":1,"2":0,"4":0,"5":0,"8":0,"12":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req/whenJoin.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req/whenJoin.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":90}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should return joinRelation').assertEqual(c.joinRelation, c.returned)","    .it('should add joinRelation to relations').assertEqual(c.joinRelation, c.parentTable._relations.child)","    .it('should set leftAlias on relation').assertEqual('child', c.joinRelation.leftAlias)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req/whenJoinUnknownColumn.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/joinSpec/req/whenJoinUnknownColumn.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":107}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should throw with unknown column name').assertEqual('Unknown column: someColumn', c.thrownMessage)"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/logSpec/req/registerLogger.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/logSpec/req/registerLogger.js","s":{"1":1,"2":0,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":21}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":32}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.logger = c.mock();","\tc.sut.registerLogger(c.logger);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"6":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/logSpec/req/whenLog.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/logSpec/req/whenLog.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":46}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should not do anything').assertOk(true);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/negotiate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/negotiate.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":11,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":21}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":21}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":39}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":42}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":40}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":52}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":15}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["function act(c){\t\t","\tc.joinRelation = {};","\tc.queryContext = {};","\tc.child.queryContext = c.queryContext;","\tc.relation.joinRelation = c.joinRelation;","","\tc.child.queryContext.expand = c.mock();","\tc.child.queryContext.expand.expect(c.joinRelation);","","\tc.negotiate();","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":0,"8":0,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/negotiateNoChildren.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/negotiateNoChildren.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":21}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":15}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["function act(c){\t\t","\tc.joinRelation = {};","\tc.relation.joinRelation = c.joinRelation;","\tc.children = [];","\tc.negotiate();","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/whenNegotiate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/whenNegotiate.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":87}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should expand inverse relation').assertDoesNotThrow(c.queryContext.expand.verify)","\t",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/whenNegotiateNoChildren.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isHasRelation/whenNegotiateNoChildren.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":39}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should not crash').assertOk(true)","\t",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isJoinRelation/whenNegotiate.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/negotiateExpandInverseSpec/isJoinRelation/whenNegotiate.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":39}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should not crash').assertOk(true)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/getAll.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/getAll.js","s":{"1":1,"2":1,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}},"2":{"start":{"line":2,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":29}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"branchMap":{},"code":["var parentRow = {};","function act(c){","\t","\tc.returned = c.sut.getAll();","}","","module.exports = act;"],"l":{"1":1,"2":1,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/tryGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/tryGet.js","s":{"1":1,"2":1,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}},"2":{"start":{"line":2,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":34}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"branchMap":{},"code":["var parentRow = {};","function act(c){","\t","\tc.returned = c.sut.tryGet([1,2]);","}","","module.exports = act;"],"l":{"1":1,"2":1,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/tryRemoveCached.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/tryRemoveCached.js","s":{"1":1,"2":1,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}},"2":{"start":{"line":2,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":34}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"branchMap":{},"code":["var parentRow = {};","function act(c){","\t","\tc.returned = c.sut.tryGet([1,2]);","}","","module.exports = act;"],"l":{"1":1,"2":1,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenAdd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenAdd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return value').assertEqual(c.result, c.returned)","\t.it('should emit added').assertDoesNotThrow(c.emitAdded.verify)\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenGetAll.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenGetAll.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return empty array').assertDeepEqual([], c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenTryGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenTryGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return null').assertStrictEqual(null, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenTryRemoveCached.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenTryRemoveCached.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return null').assertStrictEqual(null, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenTryRemove.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCacheSpec/new/whenTryRemove.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return null').assertStrictEqual(null, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCascadeDeleteStrategySpec/req/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newCascadeDeleteStrategySpec/req/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should add sub strategies').assertDoesNotThrow(c.newNextCascadeDeleteStrategy.verify)","\t.it('should return strategy').assertEqual(c.strategy, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/subscribeAdded.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/subscribeAdded.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":9,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":15}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":11}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":37}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":28}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.stubCache();","","\tc.cb = {};","\tc.cache.subscribeAdded = c.mock();","\tc.cache.subscribeAdded.expect(c.cb);","","\tc.sut.subscribeAdded(c.cb);","}","","module.exports = act;"],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/subscribeRemoved.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/subscribeRemoved.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":9,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":15}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":11}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":39}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":30}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.stubCache();","","\tc.cb = {};","\tc.cache.subscribeRemoved = c.mock();","\tc.cache.subscribeRemoved.expect(c.cb);","","\tc.sut.subscribeRemoved(c.cb);","}","","module.exports = act;"],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"8":0,"11":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenAdd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenAdd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should add to cache').assertDoesNotThrow(c.cache.tryAdd.verify)","\t.it('should return cached').assertEqual(c.expected, c.returned)","\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenGetAll.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenGetAll.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return from cache').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenRemove.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenRemove.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should remove from cache').assertDoesNotThrow(c.cache.tryRemove.verify)","\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenSubscribeAdded.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenSubscribeAdded.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should subscribe to added').assertDoesNotThrow(c.cache.subscribeAdded.verify)\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenSubscribeRemoved.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenSubscribeRemoved.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should subscribe to removed').assertDoesNotThrow(c.cache.subscribeRemoved.verify)\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenTryGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newDomainCacheSpec/new/whenTryGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return from cache').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newGetRelatedSpec/expanded/whenGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newGetRelatedSpec/expanded/whenGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":72}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should return related row').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/expand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/expand.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":14}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":27}},"6":{"start":{"line":6,"column":1},"end":{"line":6,"column":36}},"7":{"start":{"line":7,"column":1},"end":{"line":7,"column":27}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["function act(c) {","\tc.parentRow = {};","\tc.parentRow.expand = c.mock();","\tc.alias = {};","\tc.sut.leftAlias = c.alias;","\tc.parentRow.expand.expect(c.alias);","\tc.sut.expand(c.parentRow);","} ","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/toGetRelated.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/toGetRelated.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":15}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":17}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":60}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":43}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.parent = {};","\tc.expected = {};","\tc.newGetRelated.expect(c.parent, c.sut).return(c.expected);","\tc.returned = c.sut.toGetRelated(c.parent);","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"8":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/toLeg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/toLeg.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":11}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":13}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":8}},"4":{"start":{"line":5,"column":0},"end":{"line":11,"column":1}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":19}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":13}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":32}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":13}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":26}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":19}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var newLeg;","var leg = {};","var sut;","","function act(c){","\tnewLeg = c.newLeg;","\tsut = c.sut;\t","\tnewLeg.expect(sut).return(leg);","\tc.leg = leg;","\tc.returned = sut.toLeg();","}","","act.base = '../new'","module.exports = act;"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"13":1,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenAccept.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenAccept.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":72}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should visit join').assertDoesNotThrow(c.visitor.visitJoin.verify);",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenExpand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenExpand.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should expand parent').assertDoesNotThrow(c.parentRow.expand.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenGetRelatives.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenGetRelatives.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":66}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return relatives').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenToGetRelated.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenToGetRelated.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":69}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should return toGetRelated').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenToLeg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newJoinRelationSpec/new/whenToLeg.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":55}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return leg').assertEqual(c.leg,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/getFromCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/getFromCache.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":21}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":61}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":57}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":44}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"branchMap":{},"code":["var parentRow = {};","","function act(c){\t","\tc.cachedResult = {};","\tc.expected = {};","\tc.resultToPromise.expect(c.cachedResult).return(c.expected);","\tc.cache.tryGet.expect(parentRow).return(c.cachedResult);","\tc.returned = c.sut.getFromCache(parentRow);","}","module.exports = act;"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/getFromDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/getFromDb.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":18}},"4":{"start":{"line":6,"column":1},"end":{"line":6,"column":25}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":84}},"6":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":33}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":68}},"9":{"start":{"line":13,"column":1},"end":{"line":13,"column":41}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":21}}},"branchMap":{},"code":["var parentRow = {};","","function act(c){\t","\tc.result = 'res';","","\tc.foreignKeyFilter = {};","\tc.newForeignKeyFilter.expect(c.joinRelation, parentRow).return(c.foreignKeyFilter);","","\tc.expected = {};","\tc.childTable.getMany = c.mock();","\tc.childTable.getMany.expect(c.foreignKeyFilter).return(c.expected);","","\tc.returned = c.sut.getFromDb(parentRow);","}","module.exports = act;"],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenAccept.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenAccept.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":71}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should visitMany').assertDoesNotThrow(c.visitor.visitMany.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenExpand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenExpand.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should expand parent').assertDoesNotThrow(c.parentRow.expand.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenGetFromCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenGetFromCache.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return cached result').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenGetFromDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenGetFromDb.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":75}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should return result from db').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenGetRelatives.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenGetRelatives.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":64}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return result').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenToGetRelated.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenToGetRelated.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return getRelated').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenToLeg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newManyRelationSpec/new/whenToLeg.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":55}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return leg').assertEqual(c.leg,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenAccept.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenAccept.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":69}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)",".it('should visitOne').assertDoesNotThrow(c.visitor.visitOne.verify);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenExpand.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenExpand.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":74}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should expand parent').assertDoesNotThrow(c.parentRow.expand.verify)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenGetFromCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenGetFromCache.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return cached result').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenGetFromDb.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenGetFromDb.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":75}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should return result from db').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenGetRelatives.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenGetRelatives.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return result').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenToGetRelated.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenToGetRelated.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":68}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return getRelated').assertEqual(c.expected, c.returned)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenToLeg.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newOneRelationSpec/new/whenToLeg.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":55}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c).","\tit('should return leg').assertEqual(c.leg,c.returned);"],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTableSpec/new/getRelatedTables.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTableSpec/new/getRelatedTables.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":12,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":25}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":27}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":56}},"5":{"start":{"line":7,"column":1},"end":{"line":7,"column":91}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":93}},"7":{"start":{"line":10,"column":1},"end":{"line":10,"column":31}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":33}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.childTable = 'childT';","\tc.childTable2 = 'childT2';","\t","\tc.newRelatedTable = c.requireMock('./newRelatedTable');\t","","\tc.newRelatedTable.expect([c.relation, c.relation2, c.childRelation]).return(c.childTable);\t","\tc.newRelatedTable.expect([c.relation, c.relation2, c.childRelation2]).return(c.childTable2);\t","\t","\tc.returnedChild = c.sut.child;","\tc.returnedChild2 = c.sut.child2;","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"5":0,"7":0,"8":0,"10":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTableSpec/new/whenGetRelatedTables.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRelatedTableSpec/new/whenGetRelatedTables.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return child table').assertEqual(c.childTable, c.returnedChild)","\t.it('should return child table2').assertEqual(c.childTable2, c.returnedChild2)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/new/whenAdd.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/new/whenAdd.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should add to domainCache').assertDoesNotThrow(c.domainCache.tryAdd.verify)","\t.it('should return row').assertEqual(c.expected, c.returned)\t","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/new/whenRemove.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/new/whenRemove.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should remove from domainCache').assertDoesNotThrow(c.domainCache.tryRemove.verify)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/new/whenTryGet.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/newRowCacheSpec/new/whenTryGet.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return from domainCache').assertEqual(c.expected, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/oneRelation/getRelativesSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/oneRelation/getRelativesSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":17}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":71}},"9":{"start":{"line":12,"column":1},"end":{"line":12,"column":59}},"10":{"start":{"line":14,"column":1},"end":{"line":14,"column":36}},"11":{"start":{"line":15,"column":1},"end":{"line":15,"column":71}},"12":{"start":{"line":17,"column":1},"end":{"line":17,"column":36}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.expected = {};","","\tc.legToQuery = c.requireMock('../query/addSubQueries/manyLegToQuery');\t","\tc.getRelativesCore = c.requireMock('../getRelativesCore');","","\tc.getRelativesCore.bind = c.mock();","\tc.getRelativesCore.bind.expect(null, c.legToQuery).return(c.expected);\t","","\tc.sut = require('../getRelatives');\t","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"14":0,"15":0,"17":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/oneRelation/getRelativesSpec/whenReq.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/oneRelation/getRelativesSpec/whenReq.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":75}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return bound getRelativesCore').assertEqual(c.expected, c.sut)",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/empty/pop.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/empty/pop.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":22}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.changeSet = [];","\tc.getChangeSet.expect().return(c.changeSet);","\tc.returned = c.sut();","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/empty/whenPop.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/empty/whenPop.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return changeSet').assertEqual(c.changeSet, c.returned)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/notEmpty/popWithoutEndEdit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/notEmpty/popWithoutEndEdit.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":11,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":21}},"3":{"start":{"line":3,"column":1},"end":{"line":3,"column":20}},"4":{"start":{"line":4,"column":1},"end":{"line":4,"column":47}},"5":{"start":{"line":5,"column":1},"end":{"line":5,"column":17}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":58}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":22}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["function act(c){","\tc.firstCommand = {};","\tc.lastCommand = {};","\tc.changeSet = [c.firstCommand, c.lastCommand];","\tc.expected = {};","","\tc.getChangeSet.expect().return(c.changeSet);","\tc.compressChanges.expect(c.changeSet).return(c.expected);","\t","\tc.returned = c.sut();","}","","module.exports = act;"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":0,"8":0,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/notEmpty/whenPop.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/notEmpty/whenPop.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should end edit last Command').assertDoesNotThrow(c.lastCommand.endEdit.verify)","\t.it('should return compressed changeSet').assertEqual(c.expected, c.returned)","\t.it('should set clear changeSet').assertDeepEqual(0, c.changeSet.length)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/notEmpty/whenPopWithoutEndEdit.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/popChangesSpec/notEmpty/whenPopWithoutEndEdit.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","\t.it('should return compressed changeSet').assertEqual(c.expected, c.returned)","\t.it('should clear changeSet').assertDeepEqual(0, c.changeSet.length)","\t;",""],"l":{"1":2,"2":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/negotiateLimitFilter.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/negotiateLimitFilter.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"negotiateLimitFilter","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":101}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":5,"column":16}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":16}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":73}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":84}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":12}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},{"start":{"line":4,"column":1},"end":{"line":4,"column":1}}]}},"code":["var newJoinCore = require('./newShallowJoinSqlCore');","","function negotiateLimitFilter(filter,limit,rightTable,leftColumns,rightColumns,leftAlias,rightAlias) {","\tif (!limit)\t","\t\treturn filter;","\tvar sql = 'exists (' + rightTable._dbName + ' ' +  rightAlias + ' ON (';","\tsql += newJoinCore(rightTable,leftColumns,rightColumns,leftAlias,rightAlias) + ')';","\treturn sql;","}","","module.exports = negotiateLimitFilter;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/oneLegToQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/addSubQueries/oneLegToQuery.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"oneLegToQuery","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":84}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":54}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}},"5":{"start":{"line":7,"column":0},"end":{"line":17,"column":1}},"6":{"start":{"line":8,"column":1},"end":{"line":8,"column":42}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":21}},"8":{"start":{"line":10,"column":1},"end":{"line":10,"column":28}},"9":{"start":{"line":11,"column":1},"end":{"line":11,"column":47}},"10":{"start":{"line":12,"column":1},"end":{"line":12,"column":31}},"11":{"start":{"line":14,"column":1},"end":{"line":14,"column":107}},"12":{"start":{"line":15,"column":1},"end":{"line":15,"column":43}},"13":{"start":{"line":16,"column":1},"end":{"line":16,"column":75}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":31}}},"branchMap":{},"code":["var newShallowJoinSql = require('./newShallowJoinSql');","var addSubQueries = require('../addSubQueries');","var newParameterized = require('../newParameterized');","","var emptyFilter;","","function oneLegToQuery(queries, rightAlias,leg,legNo,filter, innerJoin, limitQuery) {\t","\tvar leftAlias = rightAlias + '_' + legNo;","\tvar span = leg.span;","\tvar rightTable = leg.table;","\tvar rightColumns = rightTable._primaryColumns;","\tvar leftColumns = leg.columns;\t ","\t ","\tvar shallowJoin  = newShallowJoinSql(rightTable,leftColumns,rightColumns,leftAlias,rightAlias,limitQuery);","\tinnerJoin = shallowJoin.append(innerJoin);\t","\treturn addSubQueries(queries, span.table,filter,span,leftAlias,innerJoin);","}","","module.exports = oneLegToQuery;"],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"16":0,"19":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractFilterSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractFilterSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":50}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":37}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":21}}},"branchMap":{},"code":["var requireMock = require('a').requireMock;","","function act(c){\t","\tc.emptyFilter = requireMock('../../emptyFilter');","\tc.sut = require('../extractFilter');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"8":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractLimitSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractLimitSpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":9,"column":1},"end":{"line":9,"column":13}},"8":{"start":{"line":11,"column":1},"end":{"line":11,"column":36}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\t","\tc.span = {};","","\tc.sut = require('../extractLimit');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractOrderBySpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractOrderBySpec/req.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":4,"column":1},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":1},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":1},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":1},"end":{"line":7,"column":17}},"7":{"start":{"line":8,"column":1},"end":{"line":8,"column":14}},"8":{"start":{"line":9,"column":1},"end":{"line":9,"column":19}},"9":{"start":{"line":10,"column":1},"end":{"line":10,"column":38}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}}},"branchMap":{},"code":["var a = require('a');","","function act(c){","\tc.mock = a.mock;","\tc.requireMock = a.requireMock;","\tc.expectRequire = a.expectRequire;","\tc.then = a.then;","\tc.table = {};","\tc.alias = 'alias';","\tc.sut = require('../extractOrderBy');","}","","module.exports = act;"],"l":{"1":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractSqlSpec/req.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/extractSqlSpec/req.js","s":{"1":1,"2":0,"3":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"act","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":1},"end":{"line":2,"column":34}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":21}}},"branchMap":{},"code":["function act(c){\t","\tc.sut = require('../extractSql');","}","","module.exports = act;"],"l":{"1":1,"2":0,"5":1}},"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/newSingleQuerySpec/whenNew.js":{"path":"/home/travis/build/npmtest/node-npmtest-rdb/node_modules/rdb/table/query/newSingleQuerySpec/whenNew.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":11}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":104}}},"branchMap":{},"code":["var when = require('a').when;","var c = {};","","when(c)","    .it('should set queryContext').assertEqual(c.queryContext, c.sut.queryContext)","    .it('should set parameters to concated parameters').assertDeepEqual(c.parameters, c.sut.parameters);",""],"l":{"1":2,"2":0,"4":0}}}